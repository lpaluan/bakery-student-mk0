import{A as Un,C as qn,D as Ct,E as zn,F as Hn,G as Vn,J as jn,a as Sn,c as Tn,d as Rn,f as Mt,g as xn,k as An,l as Pn,n as Dn,q as Nn,r as L,s as wt,u as Ln,v as Fn,w as kn,x as Bn,z as On}from"./chunk-LGMIWWJW.js";import{b as Mn,c as Je,e as wn,f as Cn,h as In,i as En,j as vt,k as $e}from"./chunk-5BM647UK.js";import"./chunk-LJ5XHLMQ.js";import{$a as Ye,Ab as D,Bb as N,C as qe,E as nn,Fb as _n,Gb as X,Hb as H,Ib as I,Ja as ue,K as on,Ka as cn,Kb as We,Lb as bn,N as ze,Na as M,O as _t,P as rn,Pa as un,Qb as yn,R as He,Ra as je,Rb as yt,Sa as bt,U as Ve,Ua as mn,V as ce,X as U,Y as Ie,Yb as Z,Z as m,Za as C,Zb as vn,_a as me,a as ae,bb as dn,bc as Ge,ca as K,da as W,db as de,dc as ee,ea as sn,eb as hn,f as Oe,fa as Ee,fb as fn,ga as q,ia as Se,k as A,l as Xt,lb as J,ma as G,mb as gn,nb as pn,o as le,oa as an,ob as S,pb as b,qb as y,ra as z,rb as T,sa as ln,sb as Qe,u as Zt,ub as he,v as Ue,vb as fe,w as en,wb as $,xb as P,y as tn,yb as ge,zb as Ke}from"./chunk-4VNBAIG5.js";import{a as pt,b as $t,d as f,f as uo,h as v}from"./chunk-FK42CRUA.js";var li=f(($s,ai)=>{"use strict";ai.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var V=f(ne=>{"use strict";var St,jo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ne.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};ne.getSymbolTotalCodewords=function(n){return jo[n]};ne.getBCHDigit=function(o){let n=0;for(;o!==0;)n++,o>>>=1;return n};ne.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');St=n};ne.isKanjiModeEnabled=function(){return typeof St<"u"};ne.toSJIS=function(n){return St(n)}});var tt=f(E=>{"use strict";E.L={bit:1};E.M={bit:0};E.Q={bit:3};E.H={bit:2};function Yo(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return E.L;case"m":case"medium":return E.M;case"q":case"quartile":return E.Q;case"h":case"high":return E.H;default:throw new Error("Unknown EC Level: "+o)}}E.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};E.from=function(n,e){if(E.isValid(n))return n;try{return Yo(n)}catch{return e}}});var mi=f((ea,ui)=>{"use strict";function ci(){this.buffer=[],this.length=0}ci.prototype={get:function(o){let n=Math.floor(o/8);return(this.buffer[n]>>>7-o%8&1)===1},put:function(o,n){for(let e=0;e<n;e++)this.putBit((o>>>n-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),o&&(this.buffer[n]|=128>>>this.length%8),this.length++}};ui.exports=ci});var hi=f((ta,di)=>{"use strict";function Ae(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}Ae.prototype.set=function(o,n,e,t){let i=o*this.size+n;this.data[i]=e,t&&(this.reservedBit[i]=!0)};Ae.prototype.get=function(o,n){return this.data[o*this.size+n]};Ae.prototype.xor=function(o,n,e){this.data[o*this.size+n]^=e};Ae.prototype.isReserved=function(o,n){return this.reservedBit[o*this.size+n]};di.exports=Ae});var fi=f(nt=>{"use strict";var Qo=V().getSymbolSize;nt.getRowColCoords=function(n){if(n===1)return[];let e=Math.floor(n/7)+2,t=Qo(n),i=t===145?26:Math.ceil((t-13)/(2*e-2))*2,r=[t-7];for(let s=1;s<e-1;s++)r[s]=r[s-1]-i;return r.push(6),r.reverse()};nt.getPositions=function(n){let e=[],t=nt.getRowColCoords(n),i=t.length;for(let r=0;r<i;r++)for(let s=0;s<i;s++)r===0&&s===0||r===0&&s===i-1||r===i-1&&s===0||e.push([t[r],t[s]]);return e}});var _i=f(pi=>{"use strict";var Ko=V().getSymbolSize,gi=7;pi.getPositions=function(n){let e=Ko(n);return[[0,0],[e-gi,0],[0,e-gi]]}});var bi=f(g=>{"use strict";g.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ie={N1:3,N2:3,N3:40,N4:10};g.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};g.from=function(n){return g.isValid(n)?parseInt(n,10):void 0};g.getPenaltyN1=function(n){let e=n.size,t=0,i=0,r=0,s=null,a=null;for(let l=0;l<e;l++){i=r=0,s=a=null;for(let c=0;c<e;c++){let u=n.get(l,c);u===s?i++:(i>=5&&(t+=ie.N1+(i-5)),s=u,i=1),u=n.get(c,l),u===a?r++:(r>=5&&(t+=ie.N1+(r-5)),a=u,r=1)}i>=5&&(t+=ie.N1+(i-5)),r>=5&&(t+=ie.N1+(r-5))}return t};g.getPenaltyN2=function(n){let e=n.size,t=0;for(let i=0;i<e-1;i++)for(let r=0;r<e-1;r++){let s=n.get(i,r)+n.get(i,r+1)+n.get(i+1,r)+n.get(i+1,r+1);(s===4||s===0)&&t++}return t*ie.N2};g.getPenaltyN3=function(n){let e=n.size,t=0,i=0,r=0;for(let s=0;s<e;s++){i=r=0;for(let a=0;a<e;a++)i=i<<1&2047|n.get(s,a),a>=10&&(i===1488||i===93)&&t++,r=r<<1&2047|n.get(a,s),a>=10&&(r===1488||r===93)&&t++}return t*ie.N3};g.getPenaltyN4=function(n){let e=0,t=n.data.length;for(let r=0;r<t;r++)e+=n.data[r];return Math.abs(Math.ceil(e*100/t/5)-10)*ie.N4};function Wo(o,n,e){switch(o){case g.Patterns.PATTERN000:return(n+e)%2===0;case g.Patterns.PATTERN001:return n%2===0;case g.Patterns.PATTERN010:return e%3===0;case g.Patterns.PATTERN011:return(n+e)%3===0;case g.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case g.Patterns.PATTERN101:return n*e%2+n*e%3===0;case g.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case g.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}g.applyMask=function(n,e){let t=e.size;for(let i=0;i<t;i++)for(let r=0;r<t;r++)e.isReserved(r,i)||e.xor(r,i,Wo(n,r,i))};g.getBestMask=function(n,e){let t=Object.keys(g.Patterns).length,i=0,r=1/0;for(let s=0;s<t;s++){e(s),g.applyMask(s,n);let a=g.getPenaltyN1(n)+g.getPenaltyN2(n)+g.getPenaltyN3(n)+g.getPenaltyN4(n);g.applyMask(s,n),a<r&&(r=a,i=s)}return i}});var Rt=f(Tt=>{"use strict";var j=tt(),it=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ot=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Tt.getBlocksCount=function(n,e){switch(e){case j.L:return it[(n-1)*4+0];case j.M:return it[(n-1)*4+1];case j.Q:return it[(n-1)*4+2];case j.H:return it[(n-1)*4+3];default:return}};Tt.getTotalCodewordsCount=function(n,e){switch(e){case j.L:return ot[(n-1)*4+0];case j.M:return ot[(n-1)*4+1];case j.Q:return ot[(n-1)*4+2];case j.H:return ot[(n-1)*4+3];default:return}}});var yi=f(st=>{"use strict";var Pe=new Uint8Array(512),rt=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)Pe[e]=n,rt[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)Pe[e]=Pe[e-255]})();st.log=function(n){if(n<1)throw new Error("log("+n+")");return rt[n]};st.exp=function(n){return Pe[n]};st.mul=function(n,e){return n===0||e===0?0:Pe[rt[n]+rt[e]]}});var vi=f(De=>{"use strict";var xt=yi();De.mul=function(n,e){let t=new Uint8Array(n.length+e.length-1);for(let i=0;i<n.length;i++)for(let r=0;r<e.length;r++)t[i+r]^=xt.mul(n[i],e[r]);return t};De.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){let i=t[0];for(let s=0;s<e.length;s++)t[s]^=xt.mul(e[s],i);let r=0;for(;r<t.length&&t[r]===0;)r++;t=t.slice(r)}return t};De.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=De.mul(e,new Uint8Array([1,xt.exp(t)]));return e}});var Ci=f((la,wi)=>{"use strict";var Mi=vi();function At(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}At.prototype.initialize=function(n){this.degree=n,this.genPoly=Mi.generateECPolynomial(this.degree)};At.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(n.length+this.degree);e.set(n);let t=Mi.mod(e,this.genPoly),i=this.degree-t.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(t,i),r}return t};wi.exports=At});var Pt=f(Ii=>{"use strict";Ii.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var Dt=f(k=>{"use strict";var Ei="[0-9]+",Go="[A-Z $%*+\\-./:]+",Ne="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ne=Ne.replace(/u/g,"\\u");var Jo="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ne+`)(?:.|[\r
]))+`;k.KANJI=new RegExp(Ne,"g");k.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");k.BYTE=new RegExp(Jo,"g");k.NUMERIC=new RegExp(Ei,"g");k.ALPHANUMERIC=new RegExp(Go,"g");var $o=new RegExp("^"+Ne+"$"),Xo=new RegExp("^"+Ei+"$"),Zo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");k.testKanji=function(n){return $o.test(n)};k.testNumeric=function(n){return Xo.test(n)};k.testAlphanumeric=function(n){return Zo.test(n)}});var Y=f(_=>{"use strict";var er=Pt(),Nt=Dt();_.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};_.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};_.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};_.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};_.MIXED={bit:-1};_.getCharCountIndicator=function(n,e){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!er.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?n.ccBits[0]:e<27?n.ccBits[1]:n.ccBits[2]};_.getBestModeForData=function(n){return Nt.testNumeric(n)?_.NUMERIC:Nt.testAlphanumeric(n)?_.ALPHANUMERIC:Nt.testKanji(n)?_.KANJI:_.BYTE};_.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};_.isValid=function(n){return n&&n.bit&&n.ccBits};function tr(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return _.NUMERIC;case"alphanumeric":return _.ALPHANUMERIC;case"kanji":return _.KANJI;case"byte":return _.BYTE;default:throw new Error("Unknown mode: "+o)}}_.from=function(n,e){if(_.isValid(n))return n;try{return tr(n)}catch{return e}}});var Ai=f(oe=>{"use strict";var at=V(),nr=Rt(),Si=tt(),Q=Y(),Lt=Pt(),Ri=7973,Ti=at.getBCHDigit(Ri);function ir(o,n,e){for(let t=1;t<=40;t++)if(n<=oe.getCapacity(t,e,o))return t}function xi(o,n){return Q.getCharCountIndicator(o,n)+4}function or(o,n){let e=0;return o.forEach(function(t){let i=xi(t.mode,n);e+=i+t.getBitsLength()}),e}function rr(o,n){for(let e=1;e<=40;e++)if(or(o,e)<=oe.getCapacity(e,n,Q.MIXED))return e}oe.from=function(n,e){return Lt.isValid(n)?parseInt(n,10):e};oe.getCapacity=function(n,e,t){if(!Lt.isValid(n))throw new Error("Invalid QR Code version");typeof t>"u"&&(t=Q.BYTE);let i=at.getSymbolTotalCodewords(n),r=nr.getTotalCodewordsCount(n,e),s=(i-r)*8;if(t===Q.MIXED)return s;let a=s-xi(t,n);switch(t){case Q.NUMERIC:return Math.floor(a/10*3);case Q.ALPHANUMERIC:return Math.floor(a/11*2);case Q.KANJI:return Math.floor(a/13);case Q.BYTE:default:return Math.floor(a/8)}};oe.getBestVersionForData=function(n,e){let t,i=Si.from(e,Si.M);if(Array.isArray(n)){if(n.length>1)return rr(n,i);if(n.length===0)return 1;t=n[0]}else t=n;return ir(t.mode,t.getLength(),i)};oe.getEncodedBits=function(n){if(!Lt.isValid(n)||n<7)throw new Error("Invalid QR Code version");let e=n<<12;for(;at.getBCHDigit(e)-Ti>=0;)e^=Ri<<at.getBCHDigit(e)-Ti;return n<<12|e}});var Li=f(Ni=>{"use strict";var Ft=V(),Di=1335,sr=21522,Pi=Ft.getBCHDigit(Di);Ni.getEncodedBits=function(n,e){let t=n.bit<<3|e,i=t<<10;for(;Ft.getBCHDigit(i)-Pi>=0;)i^=Di<<Ft.getBCHDigit(i)-Pi;return(t<<10|i)^sr}});var ki=f((fa,Fi)=>{"use strict";var ar=Y();function be(o){this.mode=ar.NUMERIC,this.data=o.toString()}be.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(n){let e,t,i;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),i=parseInt(t,10),n.put(i,10);let r=this.data.length-e;r>0&&(t=this.data.substr(e),i=parseInt(t,10),n.put(i,r*3+1))};Fi.exports=be});var Oi=f((ga,Bi)=>{"use strict";var lr=Y(),kt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ye(o){this.mode=lr.ALPHANUMERIC,this.data=o}ye.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let t=kt.indexOf(this.data[e])*45;t+=kt.indexOf(this.data[e+1]),n.put(t,11)}this.data.length%2&&n.put(kt.indexOf(this.data[e]),6)};Bi.exports=ye});var qi=f((pa,Ui)=>{"use strict";var cr=Y();function ve(o){this.mode=cr.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}ve.getBitsLength=function(n){return n*8};ve.prototype.getLength=function(){return this.data.length};ve.prototype.getBitsLength=function(){return ve.getBitsLength(this.data.length)};ve.prototype.write=function(o){for(let n=0,e=this.data.length;n<e;n++)o.put(this.data[n],8)};Ui.exports=ve});var Hi=f((_a,zi)=>{"use strict";var ur=Y(),mr=V();function Me(o){this.mode=ur.KANJI,this.data=o}Me.getBitsLength=function(n){return n*13};Me.prototype.getLength=function(){return this.data.length};Me.prototype.getBitsLength=function(){return Me.getBitsLength(this.data.length)};Me.prototype.write=function(o){let n;for(n=0;n<this.data.length;n++){let e=mr.toSJIS(this.data[n]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),o.put(e,13)}};zi.exports=Me});var Vi=f((ba,Bt)=>{"use strict";var Le={single_source_shortest_paths:function(o,n,e){var t={},i={};i[n]=0;var r=Le.PriorityQueue.make();r.push(n,0);for(var s,a,l,c,u,p,d,w,B;!r.empty();){s=r.pop(),a=s.value,c=s.cost,u=o[a]||{};for(l in u)u.hasOwnProperty(l)&&(p=u[l],d=c+p,w=i[l],B=typeof i[l]>"u",(B||w>d)&&(i[l]=d,r.push(l,d),t[l]=a))}if(typeof e<"u"&&typeof i[e]>"u"){var O=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(O)}return t},extract_shortest_path_from_predecessor_list:function(o,n){for(var e=[],t=n,i;t;)e.push(t),i=o[t],t=o[t];return e.reverse(),e},find_path:function(o,n,e){var t=Le.single_source_shortest_paths(o,n,e);return Le.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(o){var n=Le.PriorityQueue,e={},t;o=o||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=o.sorter||n.default_sorter,e},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var e={value:o,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Bt<"u"&&(Bt.exports=Le)});var $i=f(we=>{"use strict";var h=Y(),Qi=ki(),Ki=Oi(),Wi=qi(),Gi=Hi(),Fe=Dt(),lt=V(),dr=Vi();function ji(o){return unescape(encodeURIComponent(o)).length}function ke(o,n,e){let t=[],i;for(;(i=o.exec(e))!==null;)t.push({data:i[0],index:i.index,mode:n,length:i[0].length});return t}function Ji(o){let n=ke(Fe.NUMERIC,h.NUMERIC,o),e=ke(Fe.ALPHANUMERIC,h.ALPHANUMERIC,o),t,i;return lt.isKanjiModeEnabled()?(t=ke(Fe.BYTE,h.BYTE,o),i=ke(Fe.KANJI,h.KANJI,o)):(t=ke(Fe.BYTE_KANJI,h.BYTE,o),i=[]),n.concat(e,t,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Ot(o,n){switch(n){case h.NUMERIC:return Qi.getBitsLength(o);case h.ALPHANUMERIC:return Ki.getBitsLength(o);case h.KANJI:return Gi.getBitsLength(o);case h.BYTE:return Wi.getBitsLength(o)}}function hr(o){return o.reduce(function(n,e){let t=n.length-1>=0?n[n.length-1]:null;return t&&t.mode===e.mode?(n[n.length-1].data+=e.data,n):(n.push(e),n)},[])}function fr(o){let n=[];for(let e=0;e<o.length;e++){let t=o[e];switch(t.mode){case h.NUMERIC:n.push([t,{data:t.data,mode:h.ALPHANUMERIC,length:t.length},{data:t.data,mode:h.BYTE,length:t.length}]);break;case h.ALPHANUMERIC:n.push([t,{data:t.data,mode:h.BYTE,length:t.length}]);break;case h.KANJI:n.push([t,{data:t.data,mode:h.BYTE,length:ji(t.data)}]);break;case h.BYTE:n.push([{data:t.data,mode:h.BYTE,length:ji(t.data)}])}}return n}function gr(o,n){let e={},t={start:{}},i=["start"];for(let r=0;r<o.length;r++){let s=o[r],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=""+r+l;a.push(u),e[u]={node:c,lastCount:0},t[u]={};for(let p=0;p<i.length;p++){let d=i[p];e[d]&&e[d].node.mode===c.mode?(t[d][u]=Ot(e[d].lastCount+c.length,c.mode)-Ot(e[d].lastCount,c.mode),e[d].lastCount+=c.length):(e[d]&&(e[d].lastCount=c.length),t[d][u]=Ot(c.length,c.mode)+4+h.getCharCountIndicator(c.mode,n))}}i=a}for(let r=0;r<i.length;r++)t[i[r]].end=0;return{map:t,table:e}}function Yi(o,n){let e,t=h.getBestModeForData(o);if(e=h.from(n,t),e!==h.BYTE&&e.bit<t.bit)throw new Error('"'+o+'" cannot be encoded with mode '+h.toString(e)+`.
 Suggested mode is: `+h.toString(t));switch(e===h.KANJI&&!lt.isKanjiModeEnabled()&&(e=h.BYTE),e){case h.NUMERIC:return new Qi(o);case h.ALPHANUMERIC:return new Ki(o);case h.KANJI:return new Gi(o);case h.BYTE:return new Wi(o)}}we.fromArray=function(n){return n.reduce(function(e,t){return typeof t=="string"?e.push(Yi(t,null)):t.data&&e.push(Yi(t.data,t.mode)),e},[])};we.fromString=function(n,e){let t=Ji(n,lt.isKanjiModeEnabled()),i=fr(t),r=gr(i,e),s=dr.find_path(r.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(r.table[s[l]].node);return we.fromArray(hr(a))};we.rawSplit=function(n){return we.fromArray(Ji(n,lt.isKanjiModeEnabled()))}});var Zi=f(Xi=>{"use strict";var ut=V(),Ut=tt(),pr=mi(),_r=hi(),br=fi(),yr=_i(),Ht=bi(),Vt=Rt(),vr=Ci(),ct=Ai(),Mr=Li(),wr=Y(),qt=$i();function Cr(o,n){let e=o.size,t=yr.getPositions(n);for(let i=0;i<t.length;i++){let r=t[i][0],s=t[i][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||e<=r+a))for(let l=-1;l<=7;l++)s+l<=-1||e<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?o.set(r+a,s+l,!0,!0):o.set(r+a,s+l,!1,!0))}}function Ir(o){let n=o.size;for(let e=8;e<n-8;e++){let t=e%2===0;o.set(e,6,t,!0),o.set(6,e,t,!0)}}function Er(o,n){let e=br.getPositions(n);for(let t=0;t<e.length;t++){let i=e[t][0],r=e[t][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?o.set(i+s,r+a,!0,!0):o.set(i+s,r+a,!1,!0)}}function Sr(o,n){let e=o.size,t=ct.getEncodedBits(n),i,r,s;for(let a=0;a<18;a++)i=Math.floor(a/3),r=a%3+e-8-3,s=(t>>a&1)===1,o.set(i,r,s,!0),o.set(r,i,s,!0)}function zt(o,n,e){let t=o.size,i=Mr.getEncodedBits(n,e),r,s;for(r=0;r<15;r++)s=(i>>r&1)===1,r<6?o.set(r,8,s,!0):r<8?o.set(r+1,8,s,!0):o.set(t-15+r,8,s,!0),r<8?o.set(8,t-r-1,s,!0):r<9?o.set(8,15-r-1+1,s,!0):o.set(8,15-r-1,s,!0);o.set(t-8,8,1,!0)}function Tr(o,n){let e=o.size,t=-1,i=e-1,r=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!o.isReserved(i,a-l)){let c=!1;s<n.length&&(c=(n[s]>>>r&1)===1),o.set(i,a-l,c),r--,r===-1&&(s++,r=7)}if(i+=t,i<0||e<=i){i-=t,t=-t;break}}}function Rr(o,n,e){let t=new pr;e.forEach(function(l){t.put(l.mode.bit,4),t.put(l.getLength(),wr.getCharCountIndicator(l.mode,o)),l.write(t)});let i=ut.getSymbolTotalCodewords(o),r=Vt.getTotalCodewordsCount(o,n),s=(i-r)*8;for(t.getLengthInBits()+4<=s&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);let a=(s-t.getLengthInBits())/8;for(let l=0;l<a;l++)t.put(l%2?17:236,8);return xr(t,o,n)}function xr(o,n,e){let t=ut.getSymbolTotalCodewords(n),i=Vt.getTotalCodewordsCount(n,e),r=t-i,s=Vt.getBlocksCount(n,e),a=t%s,l=s-a,c=Math.floor(t/s),u=Math.floor(r/s),p=u+1,d=c-u,w=new vr(d),B=0,O=new Array(s),Gt=new Array(s),ht=0,co=new Uint8Array(o.buffer);for(let se=0;se<s;se++){let gt=se<l?u:p;O[se]=co.slice(B,B+gt),Gt[se]=w.encode(O[se]),B+=gt,ht=Math.max(ht,gt)}let ft=new Uint8Array(t),Jt=0,R,x;for(R=0;R<ht;R++)for(x=0;x<s;x++)R<O[x].length&&(ft[Jt++]=O[x][R]);for(R=0;R<d;R++)for(x=0;x<s;x++)ft[Jt++]=Gt[x][R];return ft}function Ar(o,n,e,t){let i;if(Array.isArray(o))i=qt.fromArray(o);else if(typeof o=="string"){let c=n;if(!c){let u=qt.rawSplit(o);c=ct.getBestVersionForData(u,e)}i=qt.fromString(o,c||40)}else throw new Error("Invalid data");let r=ct.getBestVersionForData(i,e);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=r;else if(n<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let s=Rr(n,e,i),a=ut.getSymbolSize(n),l=new _r(a);return Cr(l,n),Ir(l),Er(l,n),zt(l,e,0),n>=7&&Sr(l,n),Tr(l,s),isNaN(t)&&(t=Ht.getBestMask(l,zt.bind(null,l,e))),Ht.applyMask(t,l),zt(l,e,t),{modules:l,version:n,errorCorrectionLevel:e,maskPattern:t,segments:i}}Xi.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let t=Ut.M,i,r;return typeof e<"u"&&(t=Ut.from(e.errorCorrectionLevel,Ut.M),i=ct.from(e.version),r=Ht.from(e.maskPattern),e.toSJISFunc&&ut.setToSJISFunction(e.toSJISFunc)),Ar(n,i,t,r)}});var jt=f(re=>{"use strict";function eo(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");let e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}re.getOptions=function(n){n||(n={}),n.color||(n.color={});let e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:t,scale:t?4:i,margin:e,color:{dark:eo(n.color.dark||"#000000ff"),light:eo(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};re.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale};re.getImageWidth=function(n,e){let t=re.getScale(n,e);return Math.floor((n+e.margin*2)*t)};re.qrToImageData=function(n,e,t){let i=e.modules.size,r=e.modules.data,s=re.getScale(i,t),a=Math.floor((i+t.margin*2)*s),l=t.margin*s,c=[t.color.light,t.color.dark];for(let u=0;u<a;u++)for(let p=0;p<a;p++){let d=(u*a+p)*4,w=t.color.light;if(u>=l&&p>=l&&u<a-l&&p<a-l){let B=Math.floor((u-l)/s),O=Math.floor((p-l)/s);w=c[r[B*i+O]?1:0]}n[d++]=w.r,n[d++]=w.g,n[d++]=w.b,n[d]=w.a}}});var to=f(mt=>{"use strict";var Yt=jt();function Pr(o,n,e){o.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=e,n.width=e,n.style.height=e+"px",n.style.width=e+"px"}function Dr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}mt.render=function(n,e,t){let i=t,r=e;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),e||(r=Dr()),i=Yt.getOptions(i);let s=Yt.getImageWidth(n.modules.size,i),a=r.getContext("2d"),l=a.createImageData(s,s);return Yt.qrToImageData(l.data,n,i),Pr(a,r,s),a.putImageData(l,0,0),r};mt.renderToDataURL=function(n,e,t){let i=t;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),i||(i={});let r=mt.render(n,e,i),s=i.type||"image/png",a=i.rendererOpts||{};return r.toDataURL(s,a.quality)}});var oo=f(io=>{"use strict";var Nr=jt();function no(o,n){let e=o.a/255,t=n+'="'+o.hex+'"';return e<1?t+" "+n+'-opacity="'+e.toFixed(2).slice(1)+'"':t}function Qt(o,n,e){let t=o+n;return typeof e<"u"&&(t+=" "+e),t}function Lr(o,n,e){let t="",i=0,r=!1,s=0;for(let a=0;a<o.length;a++){let l=Math.floor(a%n),c=Math.floor(a/n);!l&&!r&&(r=!0),o[a]?(s++,a>0&&l>0&&o[a-1]||(t+=r?Qt("M",l+e,.5+c+e):Qt("m",i,0),i=0,r=!1),l+1<n&&o[a+1]||(t+=Qt("h",s),s=0)):i++}return t}io.render=function(n,e,t){let i=Nr.getOptions(e),r=n.modules.size,s=n.modules.data,a=r+i.margin*2,l=i.color.light.a?"<path "+no(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+no(i.color.dark,"stroke")+' d="'+Lr(s,r,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof t=="function"&&t(null,d),d}});var so=f(Be=>{"use strict";var Fr=li(),Kt=Zi(),ro=to(),kr=oo();function Wt(o,n,e,t,i){let r=[].slice.call(arguments,1),s=r.length,a=typeof r[s-1]=="function";if(!a&&!Fr())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=e,e=n,n=t=void 0):s===3&&(n.getContext&&typeof i>"u"?(i=t,t=void 0):(i=t,t=e,e=n,n=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=n,n=t=void 0):s===2&&!n.getContext&&(t=e,e=n,n=void 0),new Promise(function(l,c){try{let u=Kt.create(e,t);l(o(u,n,t))}catch(u){c(u)}})}try{let l=Kt.create(e,t);i(null,o(l,n,t))}catch(l){i(l)}}Be.create=Kt.create;Be.toCanvas=Wt.bind(null,ro.render);Be.toDataURL=Wt.bind(null,ro.renderToDataURL);Be.toString=Wt.bind(null,function(o,n,e){return kr.render(o,e)})});var pe=class o{supabase;constructor(){this.supabase=En(vt.supabaseUrl,vt.supabaseKey)}insertMatch(n){return v(this,null,function*(){try{let{data:e,error:t}=yield this.supabase.from("matches").insert({opponent:n});t&&alert(t.message)}catch(e){alert(e)}})}listMatches(){return v(this,null,function*(){try{let{data:n,error:e}=yield this.supabase.from("matches").select();return e&&alert(e.message),n}catch(n){throw n}})}nextMatch(){return v(this,null,function*(){let n=new Date;return n.setHours(0,0,0,0),this.supabase.from("matches").select("*").gte("matchdatetime",n.toISOString()).order("matchdatetime",{ascending:!0}).single()})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Ve({token:o,factory:o.\u0275fac,providedIn:"root"})};var mo=["*",[["mat-toolbar-row"]]],ho=["*","mat-toolbar-row"],fo=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ye({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return o})(),Yn=(()=>{class o{_elementRef=m(z);_platform=m(Sn);_document=m(q);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(t&1&&ge(r,fo,5),t&2){let s;D(s=N())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(H(i.color?"mat-"+i.color:""),X("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:ho,decls:2,vars:0,template:function(t,i){t&1&&($(mo),P(0),P(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return o})();var Qn=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=me({type:o});static \u0275inj=ce({imports:[L,L]})}return o})();var Xe;function _o(){if(Xe===void 0&&(Xe=null,typeof window<"u")){let o=window;o.trustedTypes!==void 0&&(Xe=o.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Xe}function Te(o){return _o()?.createHTML(o)||o}function Kn(o){return Error(`Unable to find icon with the name "${o}"`)}function bo(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Wn(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function Gn(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}var F=class{url;svgText;options;svgElement;constructor(n,e,t){this.url=n,this.svgText=e,this.options=t}},$n=(()=>{class o{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,i,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,r){return this._addSvgIconConfig(e,t,new F(i,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,r){let s=this._sanitizer.sanitize(ue.HTML,i);if(!s)throw Gn(i);let a=Te(s);return this._addSvgIconConfig(e,t,new F("",a,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new F(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let r=this._sanitizer.sanitize(ue.HTML,t);if(!r)throw Gn(t);let s=Te(r);return this._addSvgIconSetConfig(e,new F("",s,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(ue.RESOURCE_URL,e);if(!t)throw Wn(e);let i=this._cachedIconsByUrl.get(t);return i?A(Ze(i)):this._loadSvgIconFromConfig(new F(e,null)).pipe(He(r=>this._cachedIconsByUrl.set(t,r)),le(r=>Ze(r)))}getNamedSvgIcon(e,t=""){let i=Jn(t,e),r=this._svgIconConfigs.get(i);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(i,r),this._getSvgFromConfig(r);let s=this._iconSetConfigs.get(t);return s?this._getSvgFromIconSetConfigs(e,s):Xt(Kn(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?A(Ze(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(le(t=>Ze(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return A(i);let r=t.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(tn(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(ue.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),A(null)})));return Zt(r).pipe(le(()=>{let s=this._extractIconWithNameFromAnySet(e,t);if(!s)throw Kn(e);return s}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let r=t[i];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(s,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(He(t=>e.svgText=t),le(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?A(null):this._fetchIcon(e).pipe(He(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let r=e.querySelector(`[id="${t}"]`);if(!r)return null;let s=r.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Te("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(Te("<svg></svg>")),i=e.attributes;for(let r=0;r<i.length;r++){let{name:s,value:a}=i[r];s!=="id"&&t.setAttribute(s,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,r=i?.withCredentials??!1;if(!this._httpClient)throw bo();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let s=this._sanitizer.sanitize(ue.RESOURCE_URL,t);if(!s)throw Wn(t);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(le(c=>Te(c)),nn(()=>this._inProgressUrlFetches.delete(s)),on());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(Jn(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let r=this._resolvers[i](t,e);if(r)return yo(r)?new F(r.url,null,r.options):new F(r,null)}}static \u0275fac=function(t){return new(t||o)(Ie(Mn,8),Ie(Je),Ie(q,8),Ie(Se))};static \u0275prov=Ve({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Ze(o){return o.cloneNode(!0)}function Jn(o,n){return o+":"+n}function yo(o){return!!(o.url&&o.options)}var vo=["*"],Mo=new U("MAT_ICON_DEFAULT_OPTIONS"),wo=new U("mat-icon-location",{providedIn:"root",factory:Co});function Co(){let o=m(q),n=o?o.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var Xn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Io=Xn.map(o=>`[${o}]`).join(", "),Eo=/^url\(['"]?#(.*?)['"]?\)$/,Zn=(()=>{class o{_elementRef=m(z);_iconRegistry=m($n);_location=m(wo);_errorHandler=m(Se);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ae.EMPTY;constructor(){let e=m(new vn("aria-hidden"),{optional:!0}),t=m(Mo,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,r)=>{i.forEach(s=>{r.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(Io),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)Xn.forEach(s=>{let a=t[r],l=a.getAttribute(s),c=l?l.match(Eo):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(qe(1)).subscribe(r=>this._setSvgElement(r),r=>{let s=`Error retrieving icon ${t}:${i}! ${r.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&(J("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),H(i.color?"mat-"+i.color:""),X("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ee],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:vo,decls:1,vars:0,template:function(t,i){t&1&&($(),P(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return o})(),ei=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=me({type:o});static \u0275inj=ce({imports:[L,L]})}return o})();var Do=["mat-menu-item",""],No=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Lo=["mat-icon, [matMenuItemIcon]","*"];function Fo(o,n){o&1&&(sn(),b(0,"svg",2),T(1,"polygon",3),y())}var ko=["*"];function Bo(o,n){if(o&1){let e=Qe();b(0,"div",0),he("click",function(){K(e);let i=fe();return W(i.closed.emit("click"))})("animationstart",function(i){K(e);let r=fe();return W(r._onAnimationStart(i.animationName))})("animationend",function(i){K(e);let r=fe();return W(r._onAnimationDone(i.animationName))})("animationcancel",function(i){K(e);let r=fe();return W(r._onAnimationDone(i.animationName))}),b(1,"div",1),P(2),y()()}if(o&2){let e=fe();H(e._classList),X("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),S("id",e.panelId),J("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Et=new U("MAT_MENU_PANEL"),xe=(()=>{class o{_elementRef=m(z);_document=m(q);_focusMonitor=m(Mt);_parentMenu=m(Et,{optional:!0});_changeDetectorRef=m(Ge);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Oe;_focused=new Oe;_highlighted=!1;_triggersSubmenu=!1;constructor(){m(xn).load(Fn),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&he("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(J("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),X("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ee],disableRipple:[2,"disableRipple","disableRipple",ee]},exportAs:["matMenuItem"],attrs:Do,ngContentSelectors:Lo,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&($(No),P(0),b(1,"span",0),P(2,1),y(),T(3,"div",1),gn(4,Fo,2,0,":svg:svg",2)),t&2&&(M(3),S("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),M(),pn(i._triggersSubmenu?4:-1))},dependencies:[Ln],encapsulation:2,changeDetection:0})}return o})();var Oo=new U("MatMenuContent");var Uo=new U("mat-menu-default-options",{providedIn:"root",factory:qo});function qo(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var It="_mat-menu-enter",et="_mat-menu-exit",_e=(()=>{class o{_elementRef=m(z);_changeDetectorRef=m(Ge);_injector=m(Ee);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=wt();_allItems;_directDescendantItems=new ln;_classList={};_panelAnimationState="void";_animationDone=new Oe;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,i=pt({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{i[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{i[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new de;close=this.closed;panelId=m(An).getId("mat-menu-panel-");constructor(){let e=m(Uo);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Dn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ze(this._directDescendantItems),_t(e=>Ue(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),r=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[r]&&!i[r].disabled?t.setActiveItem(r):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(ze(this._directDescendantItems),_t(t=>Ue(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:Pn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=fn(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=$t(pt({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===et;(t||e===It)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===It||e===et)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(et),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?It:et)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(ze(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["mat-menu"]],contentQueries:function(t,i,r){if(t&1&&(ge(r,Oo,5),ge(r,xe,5),ge(r,xe,4)),t&2){let s;D(s=N())&&(i.lazyContent=s.first),D(s=N())&&(i._allItems=s),D(s=N())&&(i.items=s)}},viewQuery:function(t,i){if(t&1&&Ke(un,5),t&2){let r;D(r=N())&&(i.templateRef=r.first)}},hostVars:3,hostBindings:function(t,i){t&2&&J("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ee],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:ee(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[yn([{provide:Et,useExisting:o}])],ngContentSelectors:ko,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&($(),dn(0,Bo,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return o})(),ii=new U("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=m(Ee);return()=>Ct(o)}});function zo(o){let n=m(Ee);return()=>Ct(n)}var Ho={provide:ii,deps:[],useFactory:zo};var Re=new WeakMap,oi=(()=>{class o{_element=m(z);_viewContainerRef=m(mn);_menuItemInstance=m(xe,{optional:!0,self:!0});_dir=m(Nn,{optional:!0});_focusMonitor=m(Mt);_ngZone=m(hn);_injector=m(Ee);_scrollStrategy=m(ii);_changeDetectorRef=m(Ge);_animationsDisabled=wt();_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=ae.EMPTY;_hoverSubscription=ae.EMPTY;_menuCloseSubscription=ae.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new de;onMenuOpen=this.menuOpened;menuClosed=new de;onMenuClose=this.menuClosed;constructor(){let e=m(Et,{optional:!0}),t=m(je);this._parentMaterialMenu=e instanceof _e?e:void 0,this._cleanupTouchstart=t.listen(this._element.nativeElement,"touchstart",i=>{Rn(i)||(this._openedBy="touch")},{passive:!0})}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Re.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=Re.get(e);Re.set(e,this),t&&t!==this&&t.closeMenu();let i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.hasAttached()||(i.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof _e&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(rn(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let t=this._overlayRef,i=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof _e&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(qe(1)).subscribe(()=>{t.detach(),i.lazyContent?.detach()}),i._setIsOpen(!1)):(t.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&Re.delete(i),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=Vn(this._injector,t),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof _e&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new zn({positionStrategy:Hn(this._injector,this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let r=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,s)})})}_setPosition(e,t){let[i,r]=e.xPosition==="before"?["end","start"]:["start","end"],[s,a]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,p]=[i,r],d=0;if(this.triggersSubmenu()){if(p=i=e.xPosition==="before"?"start":"end",r=u=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let w=this._parentMaterialMenu.items.first;this._parentInnerPadding=w?w._getHostElement().offsetTop:0}d=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");t.withPositions([{originX:i,originY:l,overlayX:u,overlayY:s,offsetY:d},{originX:r,originY:l,overlayX:p,overlayY:s,offsetY:d},{originX:i,originY:c,overlayX:u,overlayY:a,offsetY:-d},{originX:r,originY:c,overlayX:p,overlayY:a,offsetY:-d}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:A(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(en(s=>this._menuOpen&&s!==this._menuItemInstance)):A();return Ue(e,i,r,t)}_handleMousedown(e){Tn(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Un(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Re.get(e)===this}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ye({type:o,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&he("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),t&2&&J("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu==null?null:i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return o})(),ri=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=me({type:o});static \u0275inj=ce({providers:[Ho],imports:[Bn,L,jn,qn,L]})}return o})(),si={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},Ws=si.fadeInItems,Gs=si.transformMenu;var Ce=uo(so(),1);var Br=["qrcElement"],ao=(()=>{let n=class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new de,this.context=null}ngOnChanges(){return v(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((i,r)=>{(0,Ce.toDataURL)(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}toCanvas(t,i){return new Promise((r,s)=>{(0,Ce.toCanvas)(t,this.qrdata,i,a=>{a?s(a):r("success")})})}toSVG(t){return new Promise((i,r)=>{(0,Ce.toString)(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}renderElement(t){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return v(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,r),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),s!==this.centerImage.width&&(this.centerImage.width=s);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-s/2,a.height/2-r/2,s,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(t).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let c=a.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(t).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}convertBase64ImageUrlToBlob(t){let i=t.split(";base64,"),r=i[0].split(":")[1],s=atob(i[1]),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return new Blob([a],{type:r})}emitQRCodeURL(t){let i=t.constructor.name;if(i===SVGSVGElement.name){let c=t.outerHTML,u=new Blob([c],{type:"image/svg+xml"}),p=URL.createObjectURL(u),d=this.sanitizer.bypassSecurityTrustUrl(p);this.qrCodeURL.emit(d);return}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src);let s=this.convertBase64ImageUrlToBlob(r),a=URL.createObjectURL(s),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}};n.\u0275fac=function(i){return new(i||n)(bt(je),bt(Je))},n.\u0275cmp=C({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&Ke(Br,7),i&2){let s;D(s=N())&&(r.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[an],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&T(0,"div",null,0),i&2&&H(r.cssClass)},encapsulation:2,changeDetection:0});let o=n;return o})();var dt=class o{auth=m($e);user=G(null);match_service=m(pe);nextMatch=G(null);constructor(){Z(()=>v(this,null,function*(){let n=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(n);this.user.set(e)})),Z(()=>v(this,null,function*(){let{data:n}=yield this.match_service.nextMatch();this.nextMatch.set(n)}))}get qrData(){return JSON.stringify({user:this.user().id,match:this.nextMatch().id})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-next-match"]],decls:4,vars:4,consts:[[1,"d-flex","flex-column","align-items-center","mt-4"],[1,"mb-3"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,t){if(e&1&&(b(0,"div",0)(1,"h3",1),I(2),y(),T(3,"qrcode",2),y()),e&2){let i;M(2),We("Prossima Partita ",(i=t.nextMatch())==null?null:i.opponent),M(),S("qrdata",t.qrData)("width",200)("errorCorrectionLevel","M")}},dependencies:[ao],encapsulation:2})};var Ur=()=>["/user-info"],qr=()=>["/qr-reader"],lo=class o{auth=m($e);router=m(wn);match_service=m(pe);matches=G([]);user=G(null);nextMatch=G(null);openMenu;imagePath="assets/images/logo-piacenza-young.jpeg";constructor(){Z(()=>{this.onListChat()}),Z(()=>v(this,null,function*(){let n=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(n);this.user.set(e),this.user().team===null||this.user().team===void 0?(alert("Completa il tuo profilo per continuare"),this.router.navigate(["/user-info"])):Z(()=>v(this,null,function*(){let{data:t}=yield this.match_service.nextMatch();this.nextMatch.set(t)}))}))}logOut(){return v(this,null,function*(){this.auth.signOut().then(()=>{this.router.navigate(["/"])}).catch(n=>{alert(n.message)})})}onListChat(){this.match_service.listMatches().then(n=>{console.log(n),n!==null?this.matches.set(n):console.log("No matches Found")}).catch(n=>{alert(n.message)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-dashboard"]],decls:30,vars:10,consts:[["menu","matMenu"],["color","primary"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"container"],[1,"d-flex","justify-content-center"],["alt","Logo",1,"logo","img-fluid",3,"src"]],template:function(e,t){if(e&1){let i=Qe();b(0,"main")(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),I(4,"menu"),y()(),b(5,"mat-menu",3,0)(7,"button",4)(8,"mat-icon"),I(9,"account_circle"),y(),b(10,"span"),I(11,"Profilo utente"),y()(),b(12,"button",4)(13,"mat-icon"),I(14,"qr_code_reader"),y(),b(15,"span"),I(16,"Validazione qrCode"),y()(),b(17,"button",5),he("click",function(){return K(i),W(t.logOut())}),b(18,"mat-icon"),I(19,"exit_to_app"),y(),b(20,"span"),I(21,"Logout"),y()()()(),b(22,"div",6)(23,"div",7),T(24,"img",8),y(),b(25,"h3",7),I(26),y(),b(27,"h3",7),I(28),y()(),T(29,"app-next-match"),y()}if(e&2){let i,r,s=_n(6);M(2),S("matMenuTriggerFor",s),M(3),S("overlapTrigger",!1),M(2),S("routerLink",yt(8,Ur)),M(5),S("routerLink",yt(9,qr)),M(12),S("src",t.imagePath,cn),M(2),bn("",(i=t.user())==null?null:i.full_name," (",(i=t.user())==null?null:i.email,")"),M(2),We("Team -> ",(r=t.user())==null||r.teams==null?null:r.teams.name)}},dependencies:[Qn,Yn,ei,Zn,On,kn,ri,_e,xe,oi,dt,In,Cn],encapsulation:2})};export{lo as Dashboard};
