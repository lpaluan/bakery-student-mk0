import{a as y,b as U,c as Tt,d as yE,e as wE,f as p,h as sp,i as ap,l as DE,m as cp}from"./chunk-PZ5UXJ7I.js";var $h=Tt(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var jh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Uh.default=jh});var Vh=Tt($i=>{"use strict";var yD=$i&&$i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($i,"__esModule",{value:!0});var uR=yD((cp(),wE(DE))),lR=yD($h()),Bh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=uR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let u=null,l=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let _=yield i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=_:l=JSON.parse(_))}let v=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,h=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let v=yield i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(l=[],u=null,h=200,f="OK")}catch{i.status===404&&v===""?(h=204,f="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new lR.default(u)}return{error:u,data:l,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}};$i.default=Bh});var zh=Tt(Bi=>{"use strict";var dR=Bi&&Bi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});var fR=dR(Vh()),Hh=class extends fR.default{select(n){let t=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bi.default=Hh});var Kc=Tt(Vi=>{"use strict";var hR=Vi&&Vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});var pR=hR(zh()),qh=class extends pR.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Vi.default=qh});var Wh=Tt(zi=>{"use strict";var gR=zi&&zi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});var Hi=gR(Kc()),Gh=class{constructor(n,{headers:t={},schema:r,fetch:o}){this.url=n,this.headers=t,this.schema=r,this.fetch=o}select(n,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Hi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let c=n.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Hi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),this.headers.Prefer=o.join(","),new Hi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zi.default=Gh});var wD=Tt(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.version=void 0;Qc.version="0.0.0-automated"});var DD=Tt(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.DEFAULT_HEADERS=void 0;var mR=wD();Jc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mR.version}`}});var _D=Tt(qi=>{"use strict";var ED=qi&&qi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});var vR=ED(Wh()),yR=ED(Kc()),wR=DD(),Zh=class e{constructor(n,{headers:t={},schema:r,fetch:o}={}){this.url=n,this.headers=Object.assign(Object.assign({},wR.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=o}from(n){let t=new URL(`${this.url}/${n}`);return new vR.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${n}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(s="POST",c=t);let u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new yR.default({method:s,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};qi.default=Zh});var RD=Tt(he=>{"use strict";var fo=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(he,"__esModule",{value:!0});he.PostgrestError=he.PostgrestBuilder=he.PostgrestTransformBuilder=he.PostgrestFilterBuilder=he.PostgrestQueryBuilder=he.PostgrestClient=void 0;var bD=fo(_D());he.PostgrestClient=bD.default;var ID=fo(Wh());he.PostgrestQueryBuilder=ID.default;var CD=fo(Kc());he.PostgrestFilterBuilder=CD.default;var TD=fo(zh());he.PostgrestTransformBuilder=TD.default;var SD=fo(Vh());he.PostgrestBuilder=SD.default;var MD=fo($h());he.PostgrestError=MD.default;he.default={PostgrestClient:bD.default,PostgrestQueryBuilder:ID.default,PostgrestFilterBuilder:CD.default,PostgrestTransformBuilder:TD.default,PostgrestBuilder:SD.default,PostgrestError:MD.default}});var yu;function wu(){return yu}function St(e){let n=yu;return yu=e,n}var EE=Symbol("NotFound"),os=class extends Error{name="\u0275NotFound";constructor(n){super(n)}};function vr(e){return e===EE||e?.name==="\u0275NotFound"}function us(e,n){return Object.is(e,n)}var te=null,is=!1,Du=1,_E=null,ne=Symbol("SIGNAL");function R(e){let n=te;return te=e,n}function ls(){return te}var Jt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tn(e){if(is)throw new Error("");if(te===null)return;te.consumerOnSignalRead(e);let n=te.nextProducerIndex++;if(hs(te),n<te.producerNode.length&&te.producerNode[n]!==e&&Io(te)){let t=te.producerNode[n];fs(t,te.producerIndexOfThis[n])}te.producerNode[n]!==e&&(te.producerNode[n]=e,te.producerIndexOfThis[n]=Io(te)?lp(e,te,n):0),te.producerLastReadVersion[n]=e.version}function up(){Du++}function ds(e){if(!(Io(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Du)){if(!e.producerMustRecompute(e)&&!Sn(e)){cs(e);return}e.producerRecomputeValue(e),cs(e)}}function Eu(e){if(e.liveConsumerNode===void 0)return;let n=is;is=!0;try{for(let t of e.liveConsumerNode)t.dirty||bE(t)}finally{is=n}}function _u(){return te?.consumerAllowSignalWrites!==!1}function bE(e){e.dirty=!0,Eu(e),e.consumerMarkedDirty?.(e)}function cs(e){e.dirty=!1,e.lastCleanEpoch=Du}function Mt(e){return e&&(e.nextProducerIndex=0),R(e)}function Xt(e,n){if(R(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Io(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)fs(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Sn(e){hs(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(ds(t),r!==t.version))return!0}return!1}function yr(e){if(hs(e),Io(e))for(let n=0;n<e.producerNode.length;n++)fs(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lp(e,n,t){if(dp(e),e.liveConsumerNode.length===0&&fp(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=lp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function fs(e,n){if(dp(e),e.liveConsumerNode.length===1&&fp(e))for(let r=0;r<e.producerNode.length;r++)fs(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];hs(o),o.producerIndexOfThis[r]=n}}function Io(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function dp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function fp(e){return e.producerNode!==void 0}function ps(e){_E?.(e)}function Co(e,n){let t=Object.create(IE);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(ds(t),Tn(t),t.value===bo)throw t.error;return t.value};return r[ne]=t,ps(t),r}var ss=Symbol("UNSET"),as=Symbol("COMPUTING"),bo=Symbol("ERRORED"),IE=U(y({},Jt),{value:ss,dirty:!0,error:null,equal:us,kind:"computed",producerMustRecompute(e){return e.value===ss||e.value===as},producerRecomputeValue(e){if(e.value===as)throw new Error("");let n=e.value;e.value=as;let t=Mt(e),r,o=!1;try{r=e.computation(),R(null),o=n!==ss&&n!==bo&&r!==bo&&e.equal(n,r)}catch(i){r=bo,e.error=i}finally{Xt(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function CE(){throw new Error}var hp=CE;function pp(e){hp(e)}function bu(e){hp=e}var TE=null;function Iu(e,n){let t=Object.create(To);t.value=e,n!==void 0&&(t.equal=n);let r=()=>gp(t);return r[ne]=t,ps(t),[r,s=>wr(t,s),s=>Cu(t,s)]}function gp(e){return Tn(e),e.value}function wr(e,n){_u()||pp(e),e.equal(e.value,n)||(e.value=n,SE(e))}function Cu(e,n){_u()||pp(e),wr(e,n(e.value))}var To=U(y({},Jt),{equal:us,value:void 0,kind:"signal"});function SE(e){e.version++,up(),Eu(e),TE?.(e)}function x(e){return typeof e=="function"}function Dr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gs=Dr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Mn(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var K=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(i){n=i instanceof gs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{mp(i)}catch(s){n=n??[],s instanceof gs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new gs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)mp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Mn(t,n)}remove(n){let{_finalizers:t}=this;t&&Mn(t,n),n instanceof e&&n._removeParent(this)}};K.EMPTY=(()=>{let e=new K;return e.closed=!0,e})();var Tu=K.EMPTY;function ms(e){return e instanceof K||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function mp(e){x(e)?e():e.unsubscribe()}var Ze={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Er={setTimeout(e,n,...t){let{delegate:r}=Er;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Er;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vs(e){Er.setTimeout(()=>{let{onUnhandledError:n}=Ze;if(n)n(e);else throw e})}function So(){}var vp=Su("C",void 0,void 0);function yp(e){return Su("E",void 0,e)}function wp(e){return Su("N",e,void 0)}function Su(e,n,t){return{kind:e,value:n,error:t}}var Rn=null;function _r(e){if(Ze.useDeprecatedSynchronousErrorHandling){let n=!Rn;if(n&&(Rn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Rn;if(Rn=null,t)throw r}}else e()}function Dp(e){Ze.useDeprecatedSynchronousErrorHandling&&Rn&&(Rn.errorThrown=!0,Rn.error=e)}var Nn=class extends K{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ms(n)&&n.add(this)):this.destination=NE}static create(n,t,r){return new Rt(n,t,r)}next(n){this.isStopped?Ru(wp(n),this):this._next(n)}error(n){this.isStopped?Ru(yp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ru(vp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ME=Function.prototype.bind;function Mu(e,n){return ME.call(e,n)}var Nu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){ys(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){ys(r)}else ys(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ys(t)}}},Rt=class extends Nn{constructor(n,t,r){super();let o;if(x(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Ze.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Mu(n.next,i),error:n.error&&Mu(n.error,i),complete:n.complete&&Mu(n.complete,i)}):o=n}this.destination=new Nu(o)}};function ys(e){Ze.useDeprecatedSynchronousErrorHandling?Dp(e):vs(e)}function RE(e){throw e}function Ru(e,n){let{onStoppedNotification:t}=Ze;t&&Er.setTimeout(()=>t(e,n))}var NE={closed:!0,next:So,error:RE,complete:So};var br=typeof Symbol=="function"&&Symbol.observable||"@@observable";function De(e){return e}function xu(...e){return Au(e)}function Au(e){return e.length===0?De:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var F=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=AE(t)?t:new Rt(t,r,o);return _r(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ep(r),new r((o,i)=>{let s=new Rt({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[br](){return this}pipe(...t){return Au(t)(this)}toPromise(t){return t=Ep(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function Ep(e){var n;return(n=e??Ze.Promise)!==null&&n!==void 0?n:Promise}function xE(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}function AE(e){return e&&e instanceof Nn||xE(e)&&ms(e)}function Ou(e){return x(e?.lift)}function M(e){return n=>{if(Ou(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function S(e,n,t,r,o){return new ku(e,n,t,r,o)}var ku=class extends Nn{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ir(){return M((e,n)=>{let t=null;e._refCount++;let r=S(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Cr=class extends F{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ou(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new K;let t=this.getSubject();n.add(this.source.subscribe(S(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=K.EMPTY)}return n}refCount(){return Ir()(this)}};var _p=Dr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ws(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new _p}next(t){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Tu:(this.currentObservers=null,i.push(t),new K(()=>{this.currentObservers=null,Mn(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new F;return t.source=this,t}}return e.create=(n,t)=>new ws(n,t),e})(),ws=class extends H{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Tu}};var ae=class extends H{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Mo={now(){return(Mo.delegate||Date).now()},delegate:void 0};var Ds=class extends H{constructor(n=1/0,t=1/0,r=Mo){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Pu=class extends H{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){let{hasError:t,_hasValue:r,_value:o,thrownError:i,isStopped:s,_isComplete:a}=this;t?n.error(i):(s||a)&&(r&&n.next(o),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){let{_hasValue:n,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,n&&super.next(t),super.complete())}};var Es=class extends K{constructor(n,t){super()}schedule(n,t=0){return this}};var Ro={setInterval(e,n,...t){let{delegate:r}=Ro;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=Ro;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var _s=class extends Es{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(n,t,r=0){return Ro.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ro.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,o;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Mn(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Tr=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};Tr.now=Mo.now;var bs=class extends Tr{constructor(n,t=Tr.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var No=new bs(_s),bp=No;var ge=new F(e=>e.complete());function Is(e){return e&&x(e.schedule)}function Fu(e){return e[e.length-1]}function Cs(e){return x(Fu(e))?e.pop():void 0}function st(e){return Is(Fu(e))?e.pop():void 0}function Ip(e,n){return typeof Fu(e)=="number"?e.pop():n}function Tp(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}function Cp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function Sp(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(v){return new Promise(function(w,_){i.push([f,v,w,_])>1||c(f,v)})},g&&(o[f]=g(o[f])))}function c(f,g){try{u(r[f](g))}catch(v){h(i[0][3],v)}}function u(f){f.value instanceof xn?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Mp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Cp=="function"?Cp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Ts=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ss(e){return x(e?.then)}function Ms(e){return x(e[br])}function Rs(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function Ns(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xs=OE();function As(e){return x(e?.[xs])}function Os(e){return Sp(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield xn(t.read());if(o)return yield xn(void 0);yield yield xn(r)}}finally{t.releaseLock()}})}function ks(e){return x(e?.getReader)}function V(e){if(e instanceof F)return e;if(e!=null){if(Ms(e))return kE(e);if(Ts(e))return PE(e);if(Ss(e))return FE(e);if(Rs(e))return Rp(e);if(As(e))return LE(e);if(ks(e))return jE(e)}throw Ns(e)}function kE(e){return new F(n=>{let t=e[br]();if(x(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PE(e){return new F(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function FE(e){return new F(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,vs)})}function LE(e){return new F(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Rp(e){return new F(n=>{UE(e,n).catch(t=>n.error(t))})}function jE(e){return Rp(Os(e))}function UE(e,n){var t,r,o,i;return Tp(this,void 0,void 0,function*(){try{for(t=Mp(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function Se(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ps(e,n=0){return M((t,r)=>{t.subscribe(S(r,o=>Se(r,e,()=>r.next(o),n),()=>Se(r,e,()=>r.complete(),n),o=>Se(r,e,()=>r.error(o),n)))})}function Fs(e,n=0){return M((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Np(e,n){return V(e).pipe(Fs(n),Ps(n))}function xp(e,n){return V(e).pipe(Fs(n),Ps(n))}function Ap(e,n){return new F(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Op(e,n){return new F(t=>{let r;return Se(t,n,()=>{r=e[xs](),Se(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>x(r?.return)&&r.return()})}function Ls(e,n){if(!e)throw new Error("Iterable cannot be null");return new F(t=>{Se(t,n,()=>{let r=e[Symbol.asyncIterator]();Se(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function kp(e,n){return Ls(Os(e),n)}function Pp(e,n){if(e!=null){if(Ms(e))return Np(e,n);if(Ts(e))return Ap(e,n);if(Ss(e))return xp(e,n);if(Rs(e))return Ls(e,n);if(As(e))return Op(e,n);if(ks(e))return kp(e,n)}throw Ns(e)}function z(e,n){return n?Pp(e,n):V(e)}function C(...e){let n=st(e);return z(e,n)}function Sr(e,n){let t=x(e)?e:()=>e,r=o=>o.error(t());return new F(n?o=>n.schedule(r,0,o):r)}function Lu(e){return!!e&&(e instanceof F||x(e.lift)&&x(e.subscribe))}var Nt=Dr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Fp(e){return e instanceof Date&&!isNaN(e)}function P(e,n){return M((t,r)=>{let o=0;t.subscribe(S(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:$E}=Array;function BE(e,n){return $E(n)?e(...n):e(n)}function js(e){return P(n=>BE(e,n))}var{isArray:VE}=Array,{getPrototypeOf:HE,prototype:zE,keys:qE}=Object;function Us(e){if(e.length===1){let n=e[0];if(VE(n))return{args:n,keys:null};if(GE(n)){let t=qE(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function GE(e){return e&&typeof e=="object"&&HE(e)===zE}function $s(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function xo(...e){let n=st(e),t=Cs(e),{args:r,keys:o}=Us(e);if(r.length===0)return z([],n);let i=new F(WE(r,n,o?s=>$s(o,s):De));return t?i.pipe(js(t)):i}function WE(e,n,t=De){return r=>{Lp(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Lp(n,()=>{let u=z(e[c],n),l=!1;u.subscribe(S(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Lp(e,n,t){e?Se(t,e,n):n()}function jp(e,n,t,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&n.complete()},f=v=>u<r?g(v):c.push(v),g=v=>{i&&n.next(v),u++;let w=!1;V(t(v,l++)).subscribe(S(n,_=>{o?.(_),i?f(_):n.next(_)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){let _=c.shift();s?Se(n,s,()=>g(_)):g(_)}h()}catch(_){n.error(_)}}))};return e.subscribe(S(n,f,()=>{d=!0,h()})),()=>{a?.()}}function J(e,n,t=1/0){return x(n)?J((r,o)=>P((i,s)=>n(r,i,o,s))(V(e(r,o))),t):(typeof n=="number"&&(t=n),M((r,o)=>jp(r,o,e,t)))}function en(e=1/0){return J(De,e)}function Up(){return en(1)}function Mr(...e){return Up()(z(e,st(e)))}function Ao(e){return new F(n=>{V(e()).subscribe(n)})}function ZE(...e){let n=Cs(e),{args:t,keys:r}=Us(e),o=new F(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;V(t[l]).subscribe(S(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?$s(r,a):a),i.complete())}))}});return n?o.pipe(js(n)):o}function $p(e=0,n,t=bp){let r=-1;return n!=null&&(Is(n)?t=n:r=n),new F(o=>{let i=Fp(e)?+e-t.now():e;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function YE(...e){let n=st(e),t=Ip(e,1/0),r=e;return r.length?r.length===1?V(r[0]):en(t)(z(r,n)):ge}function oe(e,n){return M((t,r)=>{let o=0;t.subscribe(S(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Bp(e){return M((n,t)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let u=o;o=null,t.next(u)}s&&t.complete()},c=()=>{i=null,s&&t.complete()};n.subscribe(S(t,u=>{r=!0,o=u,i||V(e(u)).subscribe(i=S(t,a,c))},()=>{s=!0,(!r||!i||i.closed)&&t.complete()}))})}function KE(e,n=No){return Bp(()=>$p(e,n))}function xt(e){return M((n,t)=>{let r=null,o=!1,i;r=n.subscribe(S(t,void 0,void 0,s=>{i=V(e(s,xt(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Vp(e,n,t,r,o){return(i,s)=>{let a=t,c=n,u=0;i.subscribe(S(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function at(e,n){return x(n)?J(e,n,1):J(e,1)}function QE(e,n=No){return M((t,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=n.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}t.subscribe(S(r,u=>{i=u,s=n.now(),o||(o=n.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function tn(e){return M((n,t)=>{let r=!1;n.subscribe(S(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function At(e){return e<=0?()=>ge:M((n,t)=>{let r=0;n.subscribe(S(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function JE(e,n=De){return e=e??XE,M((t,r)=>{let o,i=!0;t.subscribe(S(r,s=>{let a=n(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function XE(e,n){return e===n}function Bs(e=e_){return M((n,t)=>{let r=!1;n.subscribe(S(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function e_(){return new Nt}function Rr(e){return M((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Ot(e,n){let t=arguments.length>=2;return r=>r.pipe(e?oe((o,i)=>e(o,i,r)):De,At(1),t?tn(n):Bs(()=>new Nt))}function Nr(e){return e<=0?()=>ge:M((n,t)=>{let r=[];n.subscribe(S(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ju(e,n){let t=arguments.length>=2;return r=>r.pipe(e?oe((o,i)=>e(o,i,r)):De,Nr(1),t?tn(n):Bs(()=>new Nt))}function t_(){return M((e,n)=>{let t,r=!1;e.subscribe(S(n,o=>{let i=t;t=o,r&&n.next([i,o]),r=!0}))})}function Uu(e,n){return M(Vp(e,n,arguments.length>=2,!0))}function Bu(e={}){let{connector:n=()=>new H,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},g=()=>{let v=s;f(),v?.unsubscribe()};return M((v,w)=>{u++,!d&&!l&&h();let _=c=c??n();w.add(()=>{u--,u===0&&!d&&!l&&(a=$u(g,o))}),_.subscribe(w),!s&&u>0&&(s=new Rt({next:pe=>_.next(pe),error:pe=>{d=!0,h(),a=$u(f,t,pe),_.error(pe)},complete:()=>{l=!0,h(),a=$u(f,r),_.complete()}}),V(v).subscribe(s))})(i)}}function $u(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new Rt({next:()=>{r.unsubscribe(),e()}});return V(n(...t)).subscribe(r)}function n_(e,n,t){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:t}=e:r=e??1/0,Bu({connector:()=>new Ds(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function r_(e){return oe((n,t)=>e<=t)}function Vu(...e){let n=st(e);return M((t,r)=>{(n?Mr(e,t,n):Mr(e,t)).subscribe(r)})}function Me(e,n){return M((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(S(r,c=>{o?.unsubscribe();let u=0,l=i++;V(e(c,l)).subscribe(o=S(r,d=>r.next(n?n(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Vs(e){return M((n,t)=>{V(e).subscribe(S(t,()=>t.complete(),So)),!t.closed&&n.subscribe(t)})}function o_(e,n=!1){return M((t,r)=>{let o=0;t.subscribe(S(r,i=>{let s=e(i,o++);(s||n)&&r.next(i),!s&&r.complete()}))})}function ie(e,n,t){let r=x(e)||n||t?{next:e,error:n,complete:t}:e;return r?M((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(S(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):De}function Hp(e){let n=R(null);try{return e()}finally{R(n)}}var Ws="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(n,t){super(Ar(n,t)),this.code=n}};function i_(e){return`NG0${Math.abs(e)}`}function Ar(e,n){return`${i_(e)}${n?": "+n:""}`}var rn=globalThis;function W(e){for(let n in e)if(e[n]===W)return n;throw Error("")}function Wp(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Re(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Re).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Zs(e,n){return e?n?`${e} ${n}`:e:n||""}var s_=W({__forward_ref__:W});function Ys(e){return e.__forward_ref__=Ys,e.toString=function(){return Re(this())},e}function ce(e){return el(e)?e():e}function el(e){return typeof e=="function"&&e.hasOwnProperty(s_)&&e.__forward_ref__===Ys}function Zp(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Lo(e){return a_(e,Ks)}function tl(e){return Lo(e)!==null}function a_(e,n){return e.hasOwnProperty(n)&&e[n]||null}function c_(e){let n=e?.[Ks]??null;return n||null}function zu(e){return e&&e.hasOwnProperty(zs)?e[zs]:null}var Ks=W({\u0275prov:W}),zs=W({\u0275inj:W}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=E({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nl(e){return e&&!!e.\u0275providers}var rl=W({\u0275cmp:W}),ol=W({\u0275dir:W}),il=W({\u0275pipe:W}),sl=W({\u0275mod:W}),ko=W({\u0275fac:W}),Ln=W({__NG_ELEMENT_ID__:W}),zp=W({__NG_ENV_ID__:W});function jn(e){return typeof e=="string"?e:e==null?"":String(e)}function Yp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():jn(e)}function al(e,n){throw new D(-200,e)}function Qs(e,n){throw new D(-201,!1)}var qu;function Kp(){return qu}function Ae(e){let n=qu;return qu=e,n}function cl(e,n,t){let r=Lo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;Qs(e,"Injector")}var u_={},An=u_,Gu="__NG_DI_FLAG__",Wu=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=On(t)||0;try{return this.injector.get(n,r&8?null:An,r)}catch(o){if(vr(o))return o;throw o}}},qs="ngTempTokenPath",l_="ngTokenPath",d_=/\n/gm,f_="\u0275",qp="__source";function h_(e,n=0){let t=wu();if(t===void 0)throw new D(-203,!1);if(t===null)return cl(e,void 0,n);{let r=p_(n),o=t.retrieve(e,r);if(vr(o)){if(r.optional)return null;throw o}return o}}function I(e,n=0){return(Kp()||h_)(ce(e),n)}function m(e,n){return I(e,On(n))}function On(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function p_(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Zu(e){let n=[];for(let t=0;t<e.length;t++){let r=ce(e[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=g_(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}n.push(I(o,i))}else n.push(I(r))}return n}function ul(e,n){return e[Gu]=n,e.prototype[Gu]=n,e}function g_(e){return e[Gu]}function m_(e,n,t,r){let o=e[qs];throw n[qp]&&o.unshift(n[qp]),e.message=v_(`
`+e.message,o,t,r),e[l_]=o,e[qs]=null,e}function v_(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==f_?e.slice(2):e;let o=Re(n);if(Array.isArray(n))o=n.map(Re).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Re(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(d_,`
  `)}`}function kn(e,n){let t=e.hasOwnProperty(ko);return t?e[ko]:null}function Qp(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function Jp(e){return e.flat(Number.POSITIVE_INFINITY)}function Js(e,n){e.forEach(t=>Array.isArray(t)?Js(t,n):n(t))}function ll(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function jo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Xp(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}function eg(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function Xs(e,n,t){let r=Or(e,n);return r>=0?e[r|1]=t:(r=~r,eg(e,r,n,t)),r}function ea(e,n){let t=Or(e,n);if(t>=0)return e[t|1]}function Or(e,n){return y_(e,n,1)}function y_(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var on={},me=[],ct=new b(""),dl=new b("",-1),fl=new b(""),Po=class{get(n,t=An){if(t===An)throw new os(`NullInjectorError: No provider for ${Re(n)}!`);return t}};function hl(e){return e[sl]||null}function ut(e){return e[rl]||null}function pl(e){return e[ol]||null}function tg(e){return e[il]||null}function lt(e){return{\u0275providers:e}}function ng(e){return lt([{provide:ct,multi:!0,useValue:e}])}function rg(...e){return{\u0275providers:gl(!0,e),\u0275fromNgModule:!0}}function gl(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return Js(n,s=>{let a=s;Gs(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&og(o,i),t}function og(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];ml(o,i=>{n(i,r)})}}function Gs(e,n,t,r){if(e=ce(e),!e)return!1;let o=null,i=zu(e),s=!i&&ut(e);if(!i&&!s){let c=e.ngModule;if(i=zu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Gs(u,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Js(i.imports,l=>{Gs(l,n,t,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&og(u,n)}if(!a){let u=kn(o)||(()=>new o);n({provide:o,useFactory:u,deps:me},o),n({provide:fl,useValue:o,multi:!0},o),n({provide:ct,useValue:()=>I(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;ml(c,l=>{n(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function ml(e,n){for(let t of e)nl(t)&&(t=t.\u0275providers),Array.isArray(t)?ml(t,n):n(t)}var w_=W({provide:String,useValue:W});function ig(e){return e!==null&&typeof e=="object"&&w_ in e}function D_(e){return!!(e&&e.useExisting)}function E_(e){return!!(e&&e.useFactory)}function Pn(e){return typeof e=="function"}function sg(e){return!!e.useClass}var Uo=new b(""),Hs={},Gp={},Hu;function kr(){return Hu===void 0&&(Hu=new Po),Hu}var X=class{},Fn=class extends X{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,Ku(n,s=>this.processProvider(s)),this.records.set(dl,xr(void 0,this)),o.has("environment")&&this.records.set(X,xr(void 0,this));let i=this.records.get(Uo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(fl,me,{self:!0}))}retrieve(n,t){let r=On(t)||0;try{return this.get(n,An,r)}catch(o){if(vr(o))return o;throw o}}destroy(){Oo(this),this._destroyed=!0;let n=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(n)}}onDestroy(n){return Oo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Oo(this);let t=St(this),r=Ae(void 0),o;try{return n()}finally{St(t),Ae(r)}}get(n,t=An,r){if(Oo(this),n.hasOwnProperty(zp))return n[zp](this);let o=On(r),i,s=St(this),a=Ae(void 0);try{if(!(o&4)){let u=this.records.get(n);if(u===void 0){let l=T_(n)&&Lo(n);l&&this.injectableDefInScope(l)?u=xr(Yu(n),Hs):u=null,this.records.set(n,u)}if(u!=null)return this.hydrate(n,u)}let c=o&2?kr():this.parent;return t=o&8&&t===An?null:t,c.get(n,t)}catch(c){if(vr(c)){if((c[qs]=c[qs]||[]).unshift(Re(n)),s)throw c;return m_(c,n,"R3InjectorError",this.source)}else throw c}finally{Ae(a),St(s)}}resolveInjectorInitializers(){let n=R(null),t=St(this),r=Ae(void 0),o;try{let i=this.get(ct,me,{self:!0});for(let s of i)s()}finally{St(t),Ae(r),R(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Re(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ce(n);let t=Pn(n)?n:ce(n&&n.provide),r=b_(n);if(!Pn(n)&&n.multi===!0){let o=this.records.get(t);o||(o=xr(void 0,Hs,!0),o.factory=()=>Zu(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=R(null);try{return t.value===Gp?al(Re(n)):t.value===Hs&&(t.value=Gp,t.value=t.factory()),typeof t.value=="object"&&t.value&&C_(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{R(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ce(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Yu(e){let n=Lo(e),t=n!==null?n.factory:kn(e);if(t!==null)return t;if(e instanceof b)throw new D(204,!1);if(e instanceof Function)return __(e);throw new D(204,!1)}function __(e){if(e.length>0)throw new D(204,!1);let t=c_(e);return t!==null?()=>t.factory(e):()=>new e}function b_(e){if(ig(e))return xr(void 0,e.useValue);{let n=vl(e);return xr(n,Hs)}}function vl(e,n,t){let r;if(Pn(e)){let o=ce(e);return kn(o)||Yu(o)}else if(ig(e))r=()=>ce(e.useValue);else if(E_(e))r=()=>e.useFactory(...Zu(e.deps||[]));else if(D_(e))r=()=>I(ce(e.useExisting));else{let o=ce(e&&(e.useClass||e.provide));if(I_(e))r=()=>new o(...Zu(e.deps));else return kn(o)||Yu(o)}return r}function Oo(e){if(e.destroyed)throw new D(205,!1)}function xr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function I_(e){return!!e.deps}function C_(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function T_(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ku(e,n){for(let t of e)Array.isArray(t)?Ku(t,n):t&&nl(t)?Ku(t.\u0275providers,n):n(t)}function Ee(e,n){let t;e instanceof Fn?(Oo(e),t=e):t=new Wu(e);let r,o=St(t),i=Ae(void 0);try{return n()}finally{St(o),Ae(i)}}function yl(){return Kp()!==void 0||wu()!=null}function wl(e){if(!yl())throw new D(-203,!1)}var Ke=0,A=1,T=2,se=3,je=4,_e=5,Pr=6,Fr=7,le=8,Un=9,dt=10,Z=11,Lr=12,Dl=13,$n=14,Ne=15,sn=16,Bn=17,ft=18,$o=19,El=20,kt=21,ta=22,Ft=23,Oe=24,Vn=25,ve=26,ag=1;var an=7,Bo=8,Hn=9,ye=10;function ht(e){return Array.isArray(e)&&typeof e[ag]=="object"}function Qe(e){return Array.isArray(e)&&e[ag]===!0}function _l(e){return(e.flags&4)!==0}function cn(e){return e.componentOffset>-1}function na(e){return(e.flags&1)===1}function pt(e){return!!e.template}function jr(e){return(e[T]&512)!==0}function zn(e){return(e[T]&256)===256}var bl="svg",cg="math";function Ue(e){for(;Array.isArray(e);)e=e[Ke];return e}function Il(e,n){return Ue(n[e])}function Je(e,n){return Ue(n[e.index])}function Vo(e,n){return e.data[n]}function ug(e,n){return e[n]}function $e(e,n){let t=n[e];return ht(t)?t:t[Ke]}function lg(e){return(e[T]&4)===4}function ra(e){return(e[T]&128)===128}function dg(e){return Qe(e[se])}function qn(e,n){return n==null?null:e[n]}function Cl(e){e[Bn]=0}function Tl(e){e[T]&1024||(e[T]|=1024,ra(e)&&un(e))}function fg(e,n){for(;e>0;)n=n[$n],e--;return n}function Ho(e){return!!(e[T]&9216||e[Oe]?.dirty)}function oa(e){e[dt].changeDetectionScheduler?.notify(8),e[T]&64&&(e[T]|=1024),Ho(e)&&un(e)}function un(e){e[dt].changeDetectionScheduler?.notify(0);let n=nn(e);for(;n!==null&&!(n[T]&8192||(n[T]|=8192,!ra(n)));)n=nn(n)}function Sl(e,n){if(zn(e))throw new D(911,!1);e[kt]===null&&(e[kt]=[]),e[kt].push(n)}function hg(e,n){if(e[kt]===null)return;let t=e[kt].indexOf(n);t!==-1&&e[kt].splice(t,1)}function nn(e){let n=e[se];return Qe(n)?n[se]:n}function Ml(e){return e[Fr]??=[]}function Rl(e){return e.cleanup??=[]}function pg(e,n,t,r){let o=Ml(n);o.push(t),e.firstCreatePass&&Rl(e).push(r,o.length-1)}var k={lFrame:xg(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zo=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(zo||{}),S_=0,Qu=!1;function gg(){return k.lFrame.elementDepthCount}function mg(){k.lFrame.elementDepthCount++}function vg(){k.lFrame.elementDepthCount--}function Nl(){return k.bindingsEnabled}function xl(){return k.skipHydrationRootTNode!==null}function yg(e){return k.skipHydrationRootTNode===e}function wg(){k.skipHydrationRootTNode=null}function N(){return k.lFrame.lView}function Q(){return k.lFrame.tView}function Dg(e){return k.lFrame.contextLView=e,e[le]}function Eg(e){return k.lFrame.contextLView=null,e}function de(){let e=Al();for(;e!==null&&e.type===64;)e=e.parent;return e}function Al(){return k.lFrame.currentTNode}function _g(){let e=k.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Ur(e,n){let t=k.lFrame;t.currentTNode=e,t.isParent=n}function Ol(){return k.lFrame.isParent}function kl(){k.lFrame.isParent=!1}function bg(){return k.lFrame.contextLView}function Pl(e){Zp("Must never be called in production mode"),S_=e}function Fl(){return Qu}function $r(e){let n=Qu;return Qu=e,n}function ia(){let e=k.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ig(){return k.lFrame.bindingIndex}function Cg(e){return k.lFrame.bindingIndex=e}function Gn(){return k.lFrame.bindingIndex++}function sa(e){let n=k.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Tg(){return k.lFrame.inI18n}function Sg(e,n){let t=k.lFrame;t.bindingIndex=t.bindingRootIndex=e,aa(n)}function Mg(){return k.lFrame.currentDirectiveIndex}function aa(e){k.lFrame.currentDirectiveIndex=e}function Rg(e){let n=k.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function ca(){return k.lFrame.currentQueryIndex}function qo(e){k.lFrame.currentQueryIndex=e}function M_(e){let n=e[A];return n.type===2?n.declTNode:n.type===1?e[_e]:null}function Ll(e,n,t){if(t&4){let o=n,i=e;for(;o=o.parent,o===null&&!(t&1);)if(o=M_(i),o===null||(i=i[$n],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=k.lFrame=Ng();return r.currentTNode=n,r.lView=e,!0}function ua(e){let n=Ng(),t=e[A];k.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Ng(){let e=k.lFrame,n=e===null?null:e.child;return n===null?xg(e):n}function xg(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Ag(){let e=k.lFrame;return k.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var jl=Ag;function la(){let e=Ag();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Og(e){return(k.lFrame.contextLView=fg(e,k.lFrame.contextLView))[le]}function Lt(){return k.lFrame.selectedIndex}function ln(e){k.lFrame.selectedIndex=e}function Go(){let e=k.lFrame;return Vo(e.tView,e.selectedIndex)}function kg(){k.lFrame.currentNamespace=bl}function Pg(){return k.lFrame.currentNamespace}var Fg=!0;function da(){return Fg}function fa(e){Fg=e}function Ju(e,n=null,t=null,r){let o=Ul(e,n,t,r);return o.resolveInjectorInitializers(),o}function Ul(e,n=null,t=null,r,o=new Set){let i=[t||me,rg(e)];return r=r||(typeof e=="object"?void 0:Re(e)),new Fn(i,n||kr(),r||null,o)}var ue=class e{static THROW_IF_NOT_FOUND=An;static NULL=new Po;static create(n,t){if(Array.isArray(n))return Ju({name:""},t,n,"");{let r=n.name??"";return Ju({name:r},n.parent,n.providers,r)}}static \u0275prov=E({token:e,providedIn:"any",factory:()=>I(dl)});static __NG_ELEMENT_ID__=-1},Y=new b(""),Be=(()=>{class e{static __NG_ELEMENT_ID__=R_;static __NG_ENV_ID__=t=>t}return e})(),Fo=class extends Be{_lView;constructor(n){super(),this._lView=n}get destroyed(){return zn(this._lView)}onDestroy(n){let t=this._lView;return Sl(t,n),()=>hg(t,n)}};function R_(){return new Fo(N())}var Le=class{_console=console;handleError(n){this._console.error("ERROR",n)}},ke=new b("",{providedIn:"root",factory:()=>{let e=m(X),n;return t=>{n??=e.get(Le),n.handleError(t)}}}),Lg={provide:ct,useValue:()=>void m(Le),multi:!0},N_=new b("",{providedIn:"root",factory:()=>{let e=m(Y).defaultView;if(!e)return;let n=m(ke),t=i=>{n(i.reason),i.preventDefault()},r=i=>{i.error?n(i.error):n(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),m(Be).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function x_(){return lt([ng(()=>void m(N_))])}function $l(e){return typeof e=="function"&&e[ne]!==void 0}function Br(e,n){let[t,r,o]=Iu(e,n?.equal),i=t,s=i[ne];return i.set=r,i.update=o,i.asReadonly=Bl.bind(i),i}function Bl(){let e=this[ne];if(e.readonlyFn===void 0){let n=()=>this();n[ne]=e,e.readonlyFn=n}return e.readonlyFn}function Vl(e){return $l(e)&&typeof e.set=="function"}var Ye=class{},Vr=new b("",{providedIn:"root",factory:()=>!1});var Hl=new b(""),zl=new b("");var Wn=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=A_}return e})();function A_(){return new Wn(N(),de())}var dn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ae(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new F(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})();function Zn(...e){}var Wo=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>new Xu})}return e})(),Xu=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Wr(e){return{toString:e}.toString()}var ha="__parameters__";function $_(e){return function(...t){if(e){let r=e(...t);for(let o in r)this[o]=r[o]}}}function vm(e,n,t){return Wr(()=>{let r=$_(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(ha)?c[ha]:Object.defineProperty(c,ha,{value:[]})[ha];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Pd=ul(vm("Optional"),8);var ym=ul(vm("SkipSelf"),4);function B_(e){return typeof e=="function"}var _a=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function wm(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var er=(()=>{let e=()=>Dm;return e.ngInherit=!0,e})();function Dm(e){return e.type.prototype.ngOnChanges&&(e.setInput=H_),V_}function V_(){let e=_m(this),n=e?.current;if(n){let t=e.previous;if(t===on)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function H_(e,n,t,r,o){let i=this.declaredInputs[r],s=_m(e)||z_(e,{previous:on,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new _a(u&&u.currentValue,t,c===on),wm(e,n,o,t)}var Em="__ngSimpleChanges__";function _m(e){return e[Em]||null}function z_(e,n){return e[Em]=n}var jg=[];var B=function(e,n=null,t){for(let r=0;r<jg.length;r++){let o=jg[r];o(e,n,t)}};function q_(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=Dm(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function bm(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function ya(e,n,t){Im(e,n,3,t)}function wa(e,n,t,r){(e[T]&3)===t&&Im(e,n,t,r)}function ql(e,n){let t=e[T];(t&3)===n&&(t&=16383,t+=1,e[T]=t)}function Im(e,n,t,r){let o=r!==void 0?e[Bn]&65535:0,i=r??-1,s=n.length-1,a=0;for(let c=o;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Bn]+=65536),(a<i||i==-1)&&(G_(e,t,n,c),e[Bn]=(e[Bn]&4294901760)+c+2),c++}function Ug(e,n){B(4,e,n);let t=R(null);try{n.call(e)}finally{R(t),B(5,e,n)}}function G_(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[T]>>14<e[Bn]>>16&&(e[T]&3)===n&&(e[T]+=16384,Ug(a,i)):Ug(a,i)}var zr=-1,Kn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function W_(e){return(e.flags&8)!==0}function Z_(e){return(e.flags&16)!==0}function Y_(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];K_(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function Cm(e){return e===3||e===4||e===6}function K_(e){return e.charCodeAt(0)===64}function Ko(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?$g(e,t,o,null,n[++r]):$g(e,t,o,null,null))}}return e}function $g(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function Tm(e){return e!==zr}function ba(e){return e&32767}function Q_(e){return e>>16}function Ia(e,n){let t=Q_(e),r=n;for(;t>0;)r=r[$n],t--;return r}var td=!0;function Bg(e){let n=td;return td=e,n}var J_=256,Sm=J_-1,Mm=5,X_=0,gt={};function eb(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ln)&&(r=t[Ln]),r==null&&(r=t[Ln]=X_++);let o=r&Sm,i=1<<o;n.data[e+(o>>Mm)]|=i}function Ca(e,n){let t=Rm(e,n);if(t!==-1)return t;let r=n[A];r.firstCreatePass&&(e.injectorIndex=n.length,Gl(r.data,e),Gl(n,null),Gl(r.blueprint,null));let o=Fd(e,n),i=e.injectorIndex;if(Tm(o)){let s=ba(o),a=Ia(o,n),c=a[A].data;for(let u=0;u<8;u++)n[i+u]=a[s+u]|c[s+u]}return n[i+8]=o,i}function Gl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Rm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Fd(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=km(o),r===null)return zr;if(t++,o=o[$n],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zr}function nd(e,n,t){eb(e,n,t)}function tb(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(Cm(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function Nm(e,n,t){if(t&8||e!==void 0)return e;Qs(n,"NodeInjector")}function xm(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=e[Un],i=Ae(void 0);try{return o?o.get(n,r,t&8):cl(n,r,t&8)}finally{Ae(i)}}return Nm(r,n,t)}function Am(e,n,t,r=0,o){if(e!==null){if(n[T]&2048&&!(r&2)){let s=ib(e,n,t,r,gt);if(s!==gt)return s}let i=Om(e,n,t,r,gt);if(i!==gt)return i}return xm(n,t,r,o)}function Om(e,n,t,r,o){let i=rb(t);if(typeof i=="function"){if(!Ll(n,e,r))return r&1?Nm(o,t,r):xm(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Qs(t);else return s}finally{jl()}}else if(typeof i=="number"){let s=null,a=Rm(e,n),c=zr,u=r&1?n[Ne][_e]:null;for((a===-1||r&4)&&(c=a===-1?Fd(e,n):n[a+8],c===zr||!Hg(r,!1)?a=-1:(s=n[A],a=ba(c),n=Ia(c,n)));a!==-1;){let l=n[A];if(Vg(i,a,l.data)){let d=nb(a,n,t,s,r,u);if(d!==gt)return d}c=n[a+8],c!==zr&&Hg(r,n[A].data[a+8]===u)&&Vg(i,a,n)?(s=l,a=ba(c),n=Ia(c,n)):a=-1}}return o}function nb(e,n,t,r,o,i){let s=n[A],a=s.data[e+8],c=r==null?cn(a)&&td:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=Da(a,s,t,c,u);return l!==null?Qo(n,s,l,a):gt}function Da(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(o){let f=s[c];if(f&&pt(f)&&f.type===t)return c}return null}function Qo(e,n,t,r){let o=e[t],i=n.data;if(o instanceof Kn){let s=o;s.resolving&&al(Yp(i[t]));let a=Bg(s.canSeeViewProviders);s.resolving=!0;let c=i[t].type||i[t],u,l=s.injectImpl?Ae(s.injectImpl):null,d=Ll(e,r,0);try{o=e[t]=s.factory(void 0,i,e,r),n.firstCreatePass&&t>=r.directiveStart&&q_(t,i[t],n)}finally{l!==null&&Ae(l),Bg(a),s.resolving=!1,jl()}}return o}function rb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Ln)?e[Ln]:void 0;return typeof n=="number"?n>=0?n&Sm:ob:n}function Vg(e,n,t){let r=1<<e;return!!(t[n+(e>>Mm)]&r)}function Hg(e,n){return!(e&2)&&!(e&1&&n)}var Yn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Am(this._tNode,this._lView,n,On(r),t)}};function ob(){return new Yn(de(),N())}function Ua(e){return Wr(()=>{let n=e.prototype.constructor,t=n[ko]||rd(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[ko]||rd(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rd(e){return el(e)?()=>{let n=rd(ce(e));return n&&n()}:kn(e)}function ib(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[T]&2048&&!jr(s);){let a=Om(i,s,t,r|2,gt);if(a!==gt)return a;let c=i.parent;if(!c){let u=s[El];if(u){let l=u.get(t,gt,r);if(l!==gt)return l}c=km(s),s=s[$n]}i=c}return o}function km(e){let n=e[A],t=n.type;return t===2?n.declTNode:t===1?e[_e]:null}function ni(e){return tb(de(),e)}function sb(){return Zr(de(),N())}function Zr(e,n){return new mt(Je(e,n))}var mt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=sb}return e})();function Pm(e){return e instanceof mt?e.nativeElement:e}function ab(){return this._results[Symbol.iterator]()}var Ta=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new H}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Jp(n);(this._changesDetected=!Qp(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ab};function Fm(e){return(e.flags&128)===128}var Ld=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ld||{}),Lm=new Map,cb=0;function ub(){return cb++}function lb(e){Lm.set(e[$o],e)}function od(e){Lm.delete(e[$o])}var zg="__ngContext__";function ri(e,n){ht(n)?(e[zg]=n[$o],lb(n)):e[zg]=n}function jm(e){return $m(e[Lr])}function Um(e){return $m(e[je])}function $m(e){for(;e!==null&&!Qe(e);)e=e[je];return e}var id;function jd(e){id=e}function Bm(){if(id!==void 0)return id;if(typeof document<"u")return document;throw new D(210,!1)}var $a=new b("",{providedIn:"root",factory:()=>db}),db="ng",Ba=new b(""),Yr=new b("",{providedIn:"platform",factory:()=>"unknown"});var fb=new b(""),Va=new b("",{providedIn:"root",factory:()=>Bm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hb="h",pb="b";var Vm=!1,Hm=new b("",{providedIn:"root",factory:()=>Vm});var gb=(e,n,t,r)=>{};function mb(e,n,t,r){gb(e,n,t,r)}var vb=()=>null;function zm(e,n,t=!1){return vb(e,n,t)}function qm(e,n){let t=e.contentQueries;if(t!==null){let r=R(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];qo(i),a.contentQueries(2,n[s],s)}}}finally{R(r)}}}function sd(e,n,t){qo(0);let r=R(null);try{n(e,t)}finally{R(r)}}function Gm(e,n,t){if(_l(n)){let r=R(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{R(r)}}}var jt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jt||{}),pa;function Wm(){if(pa===void 0&&(pa=null,rn.trustedTypes))try{pa=rn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pa}function Ha(e){return Wm()?.createHTML(e)||e}function yb(e){return Wm()?.createScriptURL(e)||e}var ga;function wb(){if(ga===void 0&&(ga=null,rn.trustedTypes))try{ga=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ga}function qg(e){return wb()?.createScriptURL(e)||e}var Ut=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ws})`}},ad=class extends Ut{getTypeName(){return"HTML"}},cd=class extends Ut{getTypeName(){return"Style"}},ud=class extends Ut{getTypeName(){return"Script"}},ld=class extends Ut{getTypeName(){return"URL"}},dd=class extends Ut{getTypeName(){return"ResourceURL"}};function He(e){return e instanceof Ut?e.changingThisBreaksApplicationSecurity:e}function Bt(e,n){let t=Zm(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Ws})`)}return t===n}function Zm(e){return e instanceof Ut&&e.getTypeName()||null}function Ud(e){return new ad(e)}function $d(e){return new cd(e)}function Bd(e){return new ud(e)}function Vd(e){return new ld(e)}function Hd(e){return new dd(e)}function Db(e){let n=new hd(e);return Eb()?new fd(n):n}var fd=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Ha(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},hd=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Ha(n),t}};function Eb(){try{return!!new window.DOMParser().parseFromString(Ha(""),"text/html")}catch{return!1}}var _b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oi(e){return e=String(e),e.match(_b)?e:"unsafe:"+e}function Vt(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function ii(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var Ym=Vt("area,br,col,hr,img,wbr"),Km=Vt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qm=Vt("rp,rt"),bb=ii(Qm,Km),Ib=ii(Km,Vt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cb=ii(Qm,Vt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gg=ii(Ym,Ib,Cb,bb),Jm=Vt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tb=Vt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sb=Vt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Mb=ii(Jm,Tb,Sb),Rb=Vt("script,style,template"),pd=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,o=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){o.push(t),t=Ab(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=xb(t);if(i){t=i;break}t=o.pop()}}return this.buf.join("")}startElement(n){let t=Wg(n).toLowerCase();if(!Gg.hasOwnProperty(t))return this.sanitizedSomething=!0,!Rb.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!Mb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Jm[a]&&(c=oi(c)),this.buf.push(" ",s,'="',Zg(c),'"')}return this.buf.push(">"),!0}endElement(n){let t=Wg(n).toLowerCase();Gg.hasOwnProperty(t)&&!Ym.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Zg(n))}};function Nb(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function xb(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw Xm(n);return n}function Ab(e){let n=e.firstChild;if(n&&Nb(e,n))throw Xm(n);return n}function Wg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function Xm(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var Ob=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kb=/([^\#-~ |!])/g;function Zg(e){return e.replace(/&/g,"&amp;").replace(Ob,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(kb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ma;function zd(e,n){let t=null;try{ma=ma||Db(e);let r=n?String(n):"";t=ma.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=ma.getInertBodyElement(r)}while(r!==i);let a=new pd().sanitizeChildren(Yg(t)||t);return Ha(a)}finally{if(t){let r=Yg(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Yg(e){return"content"in e&&Pb(e)?e.content:null}function Pb(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var tt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(tt||{});function ev(e){let n=nv();return n?n.sanitize(tt.URL,e)||"":Bt(e,"URL")?He(e):oi(jn(e))}function tv(e){let n=nv();if(n)return qg(n.sanitize(tt.RESOURCE_URL,e)||"");if(Bt(e,"ResourceURL"))return qg(He(e));throw new D(904,!1)}function Fb(e){return yb(e[0])}function Lb(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?tv:ev}function qd(e,n,t){return Lb(n,t)(e)}function nv(){let e=N();return e&&e[dt].sanitizer}function rv(e){return e instanceof Function?e():e}function jb(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var ov="ng-template";function Ub(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&jb(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(Gd(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function Gd(e){return e.type===4&&e.value!==ov}function $b(e,n,t){let r=e.type===4&&!t?ov:e.value;return n===r}function Bb(e,n,t){let r=4,o=e.attrs,i=o!==null?zb(o):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Xe(r)&&!Xe(c))return!1;if(s&&Xe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!$b(e,c,t)||c===""&&n.length===1){if(Xe(r))return!1;s=!0}}else if(r&8){if(o===null||!Ub(e,o,c,t)){if(Xe(r))return!1;s=!0}}else{let u=n[++a],l=Vb(c,o,Gd(e),t);if(l===-1){if(Xe(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(Xe(r))return!1;s=!0}}}}return Xe(r)||s}function Xe(e){return(e&1)===0}function Vb(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return qb(n,e)}function iv(e,n,t=!1){for(let r=0;r<n.length;r++)if(Bb(e,n[r],t))return!0;return!1}function Hb(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function zb(e){for(let n=0;n<e.length;n++){let t=e[n];if(Cm(t))return n}return e.length}function qb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Gb(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function Kg(e,n){return e?":not("+n.trim()+")":n}function Wb(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Xe(s)&&(n+=Kg(i,o),o=""),r=s,i=i||!Xe(r);t++}return o!==""&&(n+=Kg(i,o)),n}function Zb(e){return e.map(Wb).join(",")}function Yb(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!Xe(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var Ie={};function Kb(e,n){return e.createText(n)}function Qb(e,n,t){e.setValue(n,t)}function sv(e,n,t){return e.createElement(n,t)}function Sa(e,n,t,r,o){e.insertBefore(n,t,r,o)}function av(e,n,t){e.appendChild(n,t)}function Qg(e,n,t,r,o){r!==null?Sa(e,n,t,r,o):av(e,n,t)}function Jb(e,n,t){e.removeChild(null,n,t)}function Xb(e,n,t){e.setAttribute(n,"style",t)}function eI(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function cv(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Y_(e,n,r),o!==null&&eI(e,n,o),i!==null&&Xb(e,n,i)}function Wd(e,n,t,r,o,i,s,a,c,u,l){let d=ve+r,h=d+o,f=tI(d,h),g=typeof u=="function"?u():u;return f[A]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function tI(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ie);return t}function nI(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Wd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Zd(e,n,t,r,o,i,s,a,c,u,l){let d=n.blueprint.slice();return d[Ke]=o,d[T]=r|4|128|8|64|1024,(u!==null||e&&e[T]&2048)&&(d[T]|=2048),Cl(d),d[se]=d[$n]=e,d[le]=t,d[dt]=s||e&&e[dt],d[Z]=a||e&&e[Z],d[Un]=c||e&&e[Un]||null,d[_e]=i,d[$o]=ub(),d[Pr]=l,d[El]=u,d[Ne]=n.type==2?e[Ne]:d,d}function rI(e,n,t){let r=Je(n,e),o=nI(t),i=e[dt].rendererFactory,s=Yd(e,Zd(e,o,null,uv(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function uv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function lv(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function Yd(e,n){return e[Lr]?e[Dl][je]=n:e[Lr]=n,e[Dl]=n,n}function oI(e=1){dv(Q(),N(),Lt()+e,!1)}function dv(e,n,t,r){if(!r)if((n[T]&3)===3){let i=e.preOrderCheckHooks;i!==null&&ya(n,i,t)}else{let i=e.preOrderHooks;i!==null&&wa(n,i,0,t)}ln(t)}var za=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(za||{});function gd(e,n,t,r){let o=R(null);try{let[i,s,a]=e.inputs[t],c=null;(s&za.SignalBased)!==0&&(c=n[i][ne]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,i):wm(n,c,i,r)}finally{R(o)}}function fv(e,n,t,r,o){let i=Lt(),s=r&2;try{ln(-1),s&&n.length>ve&&dv(e,n,ve,!1),B(s?2:0,o,t),t(r,o)}finally{ln(i),B(s?3:1,o,t)}}function Kd(e,n,t){lI(e,n,t),(t.flags&64)===64&&dI(e,n,t)}function hv(e,n,t=Je){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function iI(e,n,t,r){let i=r.get(Hm,Vm)||t===jt.ShadowDom,s=e.selectRootElement(n,i);return sI(s),s}function sI(e){aI(e)}var aI=()=>null;function cI(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function pv(e,n,t,r,o,i){let s=n[A];if(Qd(e,s,n,t,r)){cn(e)&&uI(n,e.index);return}gv(e,n,t,r,o,i)}function gv(e,n,t,r,o,i){if(e.type&3){let s=Je(e,n);t=cI(t),r=i!=null?i(r,e.value||"",t):r,o.setProperty(s,t,r)}else e.type&12}function uI(e,n){let t=$e(n,e);t[T]&16||(t[T]|=64)}function lI(e,n,t){let r=t.directiveStart,o=t.directiveEnd;cn(t)&&rI(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Ca(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Qo(n,e,s,t);if(ri(c,n),i!==null&&gI(n,s-r,c,a,t,i),pt(a)){let u=$e(t.index,n);u[le]=Qo(n,e,s,t)}}}function dI(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=Mg();try{ln(i);for(let a=r;a<o;a++){let c=e.data[a],u=n[a];aa(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fI(c,u)}}finally{ln(-1),aa(s)}}function fI(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function mv(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];iv(n,i.selectors,!1)&&(r??=[],pt(i)?r.unshift(i):r.push(i))}return r}function hI(e,n,t,r,o,i){let s=Je(e,n);pI(n[Z],s,i,e.value,t,r,o)}function pI(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?jn(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function gI(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];gd(r,t,c,u)}}function mI(e,n){let t=e[Un];if(!t)return;t.get(ke,null)?.(n)}function Qd(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=n.data[u];gd(d,t[u],l,o),a=!0}if(i)for(let c of i){let u=t[c],l=n.data[c];gd(l,u,r,o),a=!0}return a}function vI(e,n){let t=$e(n,e),r=t[A];yI(r,t);let o=t[Ke];o!==null&&t[Pr]===null&&(t[Pr]=zm(o,t[Un])),B(18),Jd(r,t,t[le]),B(19,t[le])}function yI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Jd(e,n,t){ua(n);try{let r=e.viewQuery;r!==null&&sd(1,r,t);let o=e.template;o!==null&&fv(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ft]?.finishViewCreation(e),e.staticContentQueries&&qm(e,n),e.staticViewQueries&&sd(2,e.viewQuery,t);let i=e.components;i!==null&&wI(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[T]&=-5,la()}}function wI(e,n){for(let t=0;t<n.length;t++)vI(e,n[t])}function Xd(e,n,t,r){let o=R(null);try{let i=n.tView,a=e[T]&4096?4096:16,c=Zd(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[n.index];c[sn]=u;let l=e[ft];return l!==null&&(c[ft]=l.createEmbeddedView(i)),Jd(i,c,t),c}finally{R(o)}}function Ma(e,n){return!n||n.firstChild===null||Fm(e)}var Jg=!1,DI=new b(""),EI;function ef(e,n){return EI(e,n)}var $t=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($t||{});function qa(e){return(e.flags&32)===32}function Hr(e,n,t,r,o){if(r!=null){let i,s=!1;Qe(r)?i=r:ht(r)&&(s=!0,r=r[Ke]);let a=Ue(r);e===0&&t!==null?o==null?av(n,t,a):Sa(n,t,a,o||null,!0):e===1&&t!==null?Sa(n,t,a,o||null,!0):e===2?Jb(n,a,s):e===3&&n.destroyNode(a),i!=null&&xI(n,e,i,t,o)}}function _I(e,n){vv(e,n),n[Ke]=null,n[_e]=null}function bI(e,n,t,r,o,i){r[Ke]=o,r[_e]=n,Ga(e,r,t,1,o,i)}function vv(e,n){n[dt].changeDetectionScheduler?.notify(9),Ga(e,n,n[Z],2,null,null)}function II(e){let n=e[Lr];if(!n)return Wl(e[A],e);for(;n;){let t=null;if(ht(n))t=n[Lr];else{let r=n[ye];r&&(t=r)}if(!t){for(;n&&!n[je]&&n!==e;)ht(n)&&Wl(n[A],n),n=n[se];n===null&&(n=e),ht(n)&&Wl(n[A],n),t=n&&n[je]}n=t}}function tf(e,n){let t=e[Hn],r=t.indexOf(n);t.splice(r,1)}function nf(e,n){if(zn(n))return;let t=n[Z];t.destroyNode&&Ga(e,n,t,3,null,null),II(n)}function Wl(e,n){if(zn(n))return;let t=R(null);try{n[T]&=-129,n[T]|=256,n[Oe]&&yr(n[Oe]),TI(e,n),CI(e,n),n[A].type===1&&n[Z].destroy();let r=n[sn];if(r!==null&&Qe(n[se])){r!==n[se]&&tf(r,n);let o=n[ft];o!==null&&o.detachView(e)}od(n)}finally{R(t)}}function CI(e,n){let t=e.cleanup,r=n[Fr];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Fr]=null);let o=n[kt];if(o!==null){n[kt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[Ft];if(i!==null){n[Ft]=null;for(let s of i)s.destroy()}}function TI(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof Kn)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];B(4,a,c);try{c.call(a)}finally{B(5,a,c)}}else{B(4,o,i);try{i.call(o)}finally{B(5,o,i)}}}}}function yv(e,n,t){return SI(e,n.parent,t)}function SI(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Ke];if(cn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===jt.None||o===jt.Emulated)return null}return Je(r,t)}function wv(e,n,t){return RI(e,n,t)}function MI(e,n,t){return e.type&40?Je(e,t):null}var RI=MI,Xg;function rf(e,n,t,r){let o=yv(e,r,n),i=n[Z],s=r.parent||n[_e],a=wv(s,r,n);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Qg(i,o,t[c],a,!1);else Qg(i,o,t,a,!1);Xg!==void 0&&Xg(i,r,n,t,o)}function Zo(e,n){if(n!==null){let t=n.type;if(t&3)return Je(n,e);if(t&4)return md(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Zo(e,r);{let o=e[n.index];return Qe(o)?md(-1,o):Ue(o)}}else{if(t&128)return Zo(e,n.next);if(t&32)return ef(n,e)()||Ue(e[n.index]);{let r=Dv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=nn(e[Ne]);return Zo(o,r)}else return Zo(e,n.next)}}}return null}function Dv(e,n){if(n!==null){let r=e[Ne][_e],o=n.projection;return r.projection[o]}return null}function md(e,n){let t=ye+e+1;if(t<n.length){let r=n[t],o=r[A].firstChild;if(o!==null)return Zo(r,o)}return n[an]}function of(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&n===0&&(a&&ri(Ue(a),r),t.flags|=2),!qa(t))if(c&8)of(e,n,t.child,r,o,i,!1),Hr(n,e,o,a,i);else if(c&32){let u=ef(t,r),l;for(;l=u();)Hr(n,e,o,l,i);Hr(n,e,o,a,i)}else c&16?Ev(e,n,r,t,o,i):Hr(n,e,o,a,i);t=s?t.projectionNext:t.next}}function Ga(e,n,t,r,o,i){of(t,r,e.firstChild,n,o,i,!1)}function NI(e,n,t){let r=n[Z],o=yv(e,t,n),i=t.parent||n[_e],s=wv(i,t,n);Ev(r,0,n,t,o,s)}function Ev(e,n,t,r,o,i){let s=t[Ne],c=s[_e].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Hr(n,e,o,l,i)}else{let u=c,l=s[se];Fm(r)&&(u.flags|=128),of(e,n,u,l,o,i,!0)}}function xI(e,n,t,r,o){let i=t[an],s=Ue(t);i!==s&&Hr(n,e,r,i,o);for(let a=ye;a<t.length;a++){let c=t[a];Ga(c[A],c,e,n,r,i)}}function AI(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:$t.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=$t.Important),e.setStyle(t,r,o,i))}}function Jo(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(Ue(i)),Qe(i)&&_v(i,r);let s=t.type;if(s&8)Jo(e,n,t.child,r);else if(s&32){let a=ef(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=Dv(n,t);if(Array.isArray(a))r.push(...a);else{let c=nn(n[Ne]);Jo(c[A],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function _v(e,n){for(let t=ye;t<e.length;t++){let r=e[t],o=r[A].firstChild;o!==null&&Jo(r[A],r,o,n)}e[an]!==e[Ke]&&n.push(e[an])}function bv(e){if(e[Vn]!==null){for(let n of e[Vn])n.impl.addSequence(n);e[Vn].length=0}}var Iv=[];function OI(e){return e[Oe]??kI(e)}function kI(e){let n=Iv.pop()??Object.create(FI);return n.lView=e,n}function PI(e){e.lView[Oe]!==e&&(e.lView=null,Iv.push(e))}var FI=U(y({},Jt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{un(e.lView)},consumerOnSignalRead(){this.lView[Oe]=this}});function LI(e){let n=e[Oe]??Object.create(jI);return n.lView=e,n}var jI=U(y({},Jt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=nn(e.lView);for(;n&&!Cv(n[A]);)n=nn(n);n&&Tl(n)},consumerOnSignalRead(){this.lView[Oe]=this}});function Cv(e){return e.type!==2}function Tv(e){if(e[Ft]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ft])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[T]&8192)}}var UI=100;function sf(e,n=0){let r=e[dt].rendererFactory,o=!1;o||r.begin?.();try{$I(e,n)}finally{o||r.end?.()}}function $I(e,n){let t=Fl();try{$r(!0),vd(e,n);let r=0;for(;Ho(e);){if(r===UI)throw new D(103,!1);r++,vd(e,1)}}finally{$r(t)}}function Sv(e,n){Pl(n?zo.Exhaustive:zo.OnlyDirtyViews);try{sf(e)}finally{Pl(zo.Off)}}function BI(e,n,t,r){if(zn(n))return;let o=n[T],i=!1,s=!1;ua(n);let a=!0,c=null,u=null;i||(Cv(e)?(u=OI(n),c=Mt(u)):ls()===null?(a=!1,u=LI(n),c=Mt(u)):n[Oe]&&(yr(n[Oe]),n[Oe]=null));try{Cl(n),Cg(e.bindingStartIndex),t!==null&&fv(e,n,t,2,r);let l=(o&3)===3;if(!i)if(l){let f=e.preOrderCheckHooks;f!==null&&ya(n,f,null)}else{let f=e.preOrderHooks;f!==null&&wa(n,f,0,null),ql(n,0)}if(s||VI(n),Tv(n),Mv(n,0),e.contentQueries!==null&&qm(e,n),!i)if(l){let f=e.contentCheckHooks;f!==null&&ya(n,f)}else{let f=e.contentHooks;f!==null&&wa(n,f,1),ql(n,1)}zI(e,n);let d=e.components;d!==null&&Nv(n,d,0);let h=e.viewQuery;if(h!==null&&sd(2,h,r),!i)if(l){let f=e.viewCheckHooks;f!==null&&ya(n,f)}else{let f=e.viewHooks;f!==null&&wa(n,f,2),ql(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[ta]){for(let f of n[ta])f();n[ta]=null}i||(bv(n),n[T]&=-73)}catch(l){throw i||un(n),l}finally{u!==null&&(Xt(u,c),a&&PI(u)),la()}}function Mv(e,n){for(let t=jm(e);t!==null;t=Um(t))for(let r=ye;r<t.length;r++){let o=t[r];Rv(o,n)}}function VI(e){for(let n=jm(e);n!==null;n=Um(n)){if(!(n[T]&2))continue;let t=n[Hn];for(let r=0;r<t.length;r++){let o=t[r];Tl(o)}}}function HI(e,n,t){B(18);let r=$e(n,e);Rv(r,t),B(19,r[le])}function Rv(e,n){ra(e)&&vd(e,n)}function vd(e,n){let r=e[A],o=e[T],i=e[Oe],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&Sn(i)),s||=!1,i&&(i.dirty=!1),e[T]&=-9217,s)BI(r,e,r.template,e[le]);else if(o&8192){let a=R(null);try{Tv(e),Mv(e,1);let c=r.components;c!==null&&Nv(e,c,1),bv(e)}finally{R(a)}}}function Nv(e,n,t){for(let r=0;r<n.length;r++)HI(e,n[r],t)}function zI(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)ln(~o);else{let i=o,s=t[++r],a=t[++r];Sg(s,i);let c=n[i];B(24,c),a(2,c),B(25,c)}}}finally{ln(-1)}}function af(e,n){let t=Fl()?64:1088;for(e[dt].changeDetectionScheduler?.notify(n);e;){e[T]|=t;let r=nn(e);if(jr(e)&&!r)return e;e=r}return null}function xv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function qI(e,n){let t=ye+n;if(t<e.length)return e[t]}function cf(e,n,t,r=!0){let o=n[A];if(WI(o,n,e,t),r){let s=md(t,e),a=n[Z],c=a.parentNode(e[an]);c!==null&&bI(o,e[_e],a,n,c,s)}let i=n[Pr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function GI(e,n){let t=Ra(e,n);return t!==void 0&&nf(t[A],t),t}function Ra(e,n){if(e.length<=ye)return;let t=ye+n,r=e[t];if(r){let o=r[sn];o!==null&&o!==e&&tf(o,r),n>0&&(e[t-1][je]=r[je]);let i=jo(e,ye+n);_I(r[A],r);let s=i[ft];s!==null&&s.detachView(i[A]),r[se]=null,r[je]=null,r[T]&=-129}return r}function WI(e,n,t,r){let o=ye+r,i=t.length;r>0&&(t[o-1][je]=n),r<i-ye?(n[je]=t[o],ll(t,ye+r,n)):(t.push(n),n[je]=null),n[se]=t;let s=n[sn];s!==null&&t!==s&&Av(s,n);let a=n[ft];a!==null&&a.insertView(e),oa(n),n[T]|=128}function Av(e,n){let t=e[Hn],r=n[se];if(ht(r))e[T]|=2;else{let o=r[se][Ne];n[Ne]!==o&&(e[T]|=2)}t===null?e[Hn]=[n]:t.push(n)}var fn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[A];return Jo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[le]}set context(n){this._lView[le]=n}get destroyed(){return zn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[se];if(Qe(n)){let t=n[Bo],r=t?t.indexOf(this):-1;r>-1&&(Ra(n,r),jo(t,r))}this._attachedToViewContainer=!1}nf(this._lView[A],this._lView)}onDestroy(n){Sl(this._lView,n)}markForCheck(){af(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){oa(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,sf(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Un].get(DI,Jg)}catch{this.exhaustive=Jg}}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=jr(this._lView),t=this._lView[sn];t!==null&&!n&&tf(t,this._lView),vv(this._lView[A],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=n;let t=jr(this._lView),r=this._lView[sn];r!==null&&!t&&Av(r,this._lView),oa(this._lView)}};var Qn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ZI;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=Xd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new fn(i)}}return e})();function ZI(){return Wa(de(),N())}function Wa(e,n){return e.type&4?new Qn(n,e,Zr(e,n)):null}function Za(e,n,t,r,o){let i=e.data[n];if(i===null)i=YI(e,n,t,r,o),Tg()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=_g();i.injectorIndex=s===null?-1:s.injectorIndex}return Ur(i,!0),i}function YI(e,n,t,r,o){let i=Al(),s=Ol(),a=s?i:i&&i.parent,c=e.data[n]=QI(e,a,t,n,r,o);return KI(e,c,i,s),c}function KI(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function QI(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return xl()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var b1=new RegExp(`^(\\d+)*(${pb}|${hb})*(.*)`);var JI=()=>null,XI=()=>null;function yd(e,n){return JI(e,n)}function eC(e,n,t){return XI(e,n,t)}var Ov=class{},Ya=class{},wd=class{resolveComponentFactory(n){throw new D(917,!1)}},si=class{static NULL=new wd},Jn=class{},Kr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>tC()}return e})();function tC(){let e=N(),n=de(),t=$e(n.index,e);return(ht(t)?t:e)[Z]}var kv=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>null})}return e})();var Ea={},Dd=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let o=this.injector.get(n,Ea,r);return o!==Ea||t===Ea?o:this.parentInjector.get(n,t,r)}};function em(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=Zs(o,a);else if(i==2){let c=a,u=n[++s];r=Zs(r,c+": "+u+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function fe(e,n=0){let t=N();if(t===null)return I(e,n);let r=de();return Am(r,t,ce(e),n)}function uf(){let e="invalid";throw new Error(e)}function Pv(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}oC(e,n,t,a,i,c,u)}i!==null&&r!==null&&nC(t,r,i)}function nC(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new D(-301,!1);r.push(n[o],i)}}function rC(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function oC(e,n,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&pt(f)&&(c=!0,rC(e,t,h)),nd(Ca(t,n),e,f.type)}lC(t,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=lv(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Ko(t.mergedAttrs,f.hostAttrs),sC(e,t,n,d,f),uC(d,f,o),s!==null&&s.has(f)){let[v,w]=s.get(f);t.directiveToIndex.set(f.type,[d,v+t.directiveStart,w+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!u&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}iC(e,t,i)}function iC(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))tm(0,n,o,r),tm(1,n,o,r),rm(n,r,!1);else{let i=t.get(o);nm(0,n,i,r),nm(1,n,i,r),rm(n,r,!0)}}}function tm(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),Fv(n,i)}}function nm(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Fv(n,s)}}function Fv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function rm(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||Gd(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===n){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function sC(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=kn(o.type,!0)),s=new Kn(i,pt(o),fe);e.blueprint[r]=s,t[r]=s,aC(e,n,r,lv(e,t,o.hostVars,Ie),o)}function aC(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;cC(s)!=a&&s.push(a),s.push(t,r,i)}}function cC(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function uC(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;pt(n)&&(t[""]=e)}}function lC(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Lv(e,n,t,r,o,i,s,a){let c=n.consts,u=qn(c,s),l=Za(n,e,2,r,u);return i&&Pv(n,t,l,qn(c,a),o),l.mergedAttrs=Ko(l.mergedAttrs,l.attrs),l.attrs!==null&&em(l,l.attrs,!1),l.mergedAttrs!==null&&em(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function jv(e,n){bm(e,n),_l(n)&&e.queries.elementEnd(n)}function lf(e){return $v(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Uv(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function $v(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function df(e,n,t){return e[n]=t}function dC(e,n){return e[n]}function Ve(e,n,t){if(t===Ie)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Bv(e,n,t,r){let o=Ve(e,n,t);return Ve(e,n+1,r)||o}function fC(e,n,t,r,o){let i=Bv(e,n,t,r);return Ve(e,n+2,o)||i}function Zl(e,n,t){return function r(o){let i=cn(e)?$e(e.index,n):n;af(i,5);let s=n[le],a=om(n,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=om(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function om(e,n,t,r){let o=R(null);try{return B(6,n,t),t(r)!==!1}catch(i){return mI(e,i),!1}finally{B(7,n,t),R(o)}}function hC(e,n,t,r,o,i,s,a){let c=na(e),u=!1,l=null;if(!r&&c&&(l=pC(n,t,i,e.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Je(e,t),h=r?r(d):d;mb(t,h,i,a);let f=o.listen(h,i,a),g=r?v=>r(Ue(v[e.index])):e.index;Vv(g,n,t,i,a,f,!1)}return u}function pC(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[Fr],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Vv(e,n,t,r,o,i,s){let a=n.firstCreatePass?Rl(n):null,c=Ml(t),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function im(e,n,t,r,o,i){let s=n[t],a=n[A],u=a.data[t].outputs[r],d=s[u].subscribe(i);Vv(e.index,a,n,o,i,d,!0)}var Ed=Symbol("BINDING");var Na=class extends si{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=ut(n);return new hn(t,this.ngModule)}};function gC(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&za.SignalBased)!==0};return o&&(i.transform=o),i})}function mC(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function vC(e,n,t){let r=n instanceof X?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Dd(t,r):t}function yC(e){let n=e.get(Jn,null);if(n===null)throw new D(407,!1);let t=e.get(kv,null),r=e.get(Ye,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function wC(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return sv(n,t,t==="svg"?bl:t==="math"?cg:null)}var hn=class extends Ya{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mC(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Zb(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o,i,s){B(22);let a=R(null);try{let c=this.componentDef,u=DC(r,c,s,i),l=vC(c,o||this.ngModule,n),d=yC(l),h=d.rendererFactory.createRenderer(null,c),f=r?iI(h,r,c.encapsulation,l):wC(c,h),g=s?.some(sm)||i?.some(_=>typeof _!="function"&&_.bindings.some(sm)),v=Zd(null,u,null,512|uv(c),null,null,d,h,l,null,zm(f,l,!0));v[ve]=f,ua(v);let w=null;try{let _=Lv(ve,u,v,"#host",()=>u.directiveRegistry,!0,0);f&&(cv(h,f,_),ri(f,v)),Kd(u,v,_),Gm(u,_,v),jv(u,_),t!==void 0&&_C(_,this.ngContentSelectors,t),w=$e(_.index,v),v[le]=w[le],Jd(u,v,null)}catch(_){throw w!==null&&od(w),od(v),_}finally{B(23),la()}return new xa(this.componentType,v,!!g)}finally{R(a)}}};function DC(e,n,t,r){let o=e?["ng-version","20.0.4"]:Yb(n.selectors[0]),i=null,s=null,a=0;if(t)for(let l of t)a+=l[Ed].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Ed].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[n];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=pl(d);c.push(h)}return Wd(0,null,EC(i,s),1,a,c,null,null,null,[o],null)}function EC(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function sm(e){let n=e[Ed].kind;return n==="input"||n==="twoWay"}var xa=class extends Ov{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Vo(t[A],ve),this.location=Zr(this._tNode,t),this.instance=$e(this._tNode.index,t)[le],this.hostView=this.changeDetectorRef=new fn(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=Qd(r,o[A],o,n,t);this.previousInputValues.set(n,t);let s=$e(r.index,o);af(s,1)}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function _C(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ht=(()=>{class e{static __NG_ELEMENT_ID__=bC}return e})();function bC(){let e=de();return zv(e,N())}var IC=Ht,Hv=class extends IC{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Zr(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Fd(this._hostTNode,this._hostLView);if(Tm(n)){let t=Ia(n,this._hostLView),r=ba(n),o=t[A].data[r+8];return new Yn(o,t)}else return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=am(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ye}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=yd(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Ma(this._hostTNode,s)),a}createComponent(n,t,r,o,i,s,a){let c=n&&!B_(n),u;if(c)u=t;else{let w=t||{};u=w.index,r=w.injector,o=w.projectableNodes,i=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let l=c?n:new hn(ut(n)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let _=(c?d:this.parentInjector).get(X,null);_&&(i=_)}let h=ut(l.componentType??{}),f=yd(this._lContainer,h?.id??null),g=f?.firstChild??null,v=l.create(d,o,g,i,s,a);return this.insertImpl(v.hostView,u,Ma(this._hostTNode,f)),v}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(dg(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=o[se],u=new Hv(c,c[_e],c[se]);u.detach(u.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return cf(s,o,i,r),n.attachToViewContainerRef(),ll(Yl(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=am(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Ra(this._lContainer,t);r&&(jo(Yl(this._lContainer),t),nf(r[A],r))}detach(n){let t=this._adjustIndex(n,-1),r=Ra(this._lContainer,t);return r&&jo(Yl(this._lContainer),t)!=null?new fn(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function am(e){return e[Bo]}function Yl(e){return e[Bo]||(e[Bo]=[])}function zv(e,n){let t,r=n[e.index];return Qe(r)?t=r:(t=xv(r,n,null,e),n[e.index]=t,Yd(n,t)),TC(t,n,e,r),new Hv(t,e,n)}function CC(e,n){let t=e[Z],r=t.createComment(""),o=Je(n,e),i=t.parentNode(o);return Sa(t,i,r,t.nextSibling(o),!1),r}var TC=RC,SC=()=>!1;function MC(e,n,t){return SC(e,n,t)}function RC(e,n,t,r){if(e[an])return;let o;t.type&8?o=Ue(r):o=CC(n,t),e[an]=o}var _d=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},bd=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let s=t.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)hf(n,t).matches!==null&&this.queries[t].setDirty()}},Aa=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=kC(n):this.predicate=n}},Id=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Cd=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(n,t,NC(t,i)),this.matchTNodeWithReadOption(n,t,Da(t,n,i,!1,!1))}else r===Qn?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Da(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===mt||o===Ht||o===Qn&&t.type&4)this.addMatch(t.index,-2);else{let i=Da(t,n,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function NC(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function xC(e,n){return e.type&11?Zr(e,n):e.type&4?Wa(e,n):null}function AC(e,n,t,r){return t===-1?xC(n,e):t===-2?OC(e,n,r):Qo(e,e[A],t,n)}function OC(e,n,t){if(t===mt)return Zr(n,e);if(t===Qn)return Wa(n,e);if(t===Ht)return zv(n,e)}function qv(e,n,t,r){let o=n[ft].queries[r];if(o.matches===null){let i=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=i[u];a.push(AC(n,l,s[c+1],t.metadata.read))}}o.matches=a}return o.matches}function Td(e,n,t,r){let o=e.queries.getByIndex(t),i=o.matches;if(i!==null){let s=qv(e,n,o,t);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let u=i[a+1],l=n[-c];for(let d=ye;d<l.length;d++){let h=l[d];h[sn]===h[se]&&Td(h[A],h,u,r)}if(l[Hn]!==null){let d=l[Hn];for(let h=0;h<d.length;h++){let f=d[h];Td(f[A],f,u,r)}}}}}return r}function ff(e,n){return e[ft].queries[n].queryList}function Gv(e,n,t){let r=new Ta((t&4)===4);return pg(e,n,r,r.destroy),(n[ft]??=new bd).queries.push(new _d(r))-1}function Wv(e,n,t){let r=Q();return r.firstCreatePass&&(Yv(r,new Aa(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),Gv(r,N(),n)}function Zv(e,n,t,r){let o=Q();if(o.firstCreatePass){let i=de();Yv(o,new Aa(n,t,r),i.index),PC(o,e),(t&2)===2&&(o.staticContentQueries=!0)}return Gv(o,N(),t)}function kC(e){return e.split(",").map(n=>n.trim())}function Yv(e,n,t){e.queries===null&&(e.queries=new Id),e.queries.track(new Cd(n,t))}function PC(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function hf(e,n){return e.queries.getByIndex(n)}function Kv(e,n){let t=e[A],r=hf(t,n);return r.crossesNgTemplate?Td(t,e,n,[]):qv(t,e,r,n)}function Qv(e,n,t){let r,o=Co(()=>{r._dirtyCounter();let i=FC(r,e);if(n&&i===void 0)throw new D(-951,!1);return i});return r=o[ne],r._dirtyCounter=Br(0),r._flatValue=void 0,o}function pf(e){return Qv(!0,!1,e)}function gf(e){return Qv(!0,!0,e)}function Jv(e,n){let t=e[ne];t._lView=N(),t._queryIndex=n,t._queryList=ff(t._lView,n),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function FC(e,n){let t=e._lView,r=e._queryIndex;if(t===void 0||r===void 0||t[T]&4)return n?void 0:me;let o=ff(t,r),i=Kv(t,r);return o.reset(i,Pm),n?o.first:o._changesDetected||e._flatValue===void 0?e._flatValue=o.toArray():e._flatValue}var cm=new Set;function vt(e){cm.has(e)||(cm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var qr=class{},Ka=class{};var Oa=class extends qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Na(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=hl(n);this._bootstrapComponents=rv(i.bootstrap),this._r3Injector=Ul(n,t,[{provide:qr,useValue:this},{provide:si,useValue:this.componentFactoryResolver},...r],Re(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},ka=class extends Ka{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Oa(this.moduleType,n,[])}};var Xo=class extends qr{injector;componentFactoryResolver=new Na(this);instance=null;constructor(n){super();let t=new Fn([...n.providers,{provide:qr,useValue:this},{provide:si,useValue:this.componentFactoryResolver}],n.parent||kr(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Qr(e,n,t=null){return new Xo({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var LC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=gl(!1,t.type),o=r.length>0?Qr([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(I(X))})}return e})();function mf(e){return Wr(()=>{let n=Xv(e),t=U(y({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ld.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(LC).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jt.Emulated,styles:e.styles||me,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&vt("NgStandalone"),ey(t);let r=e.dependencies;return t.directiveDefs=um(r,!1),t.pipeDefs=um(r,!0),t.id=VC(t),t})}function jC(e){return ut(e)||pl(e)}function UC(e){return e!==null}function pn(e){return Wr(()=>({type:e.type,bootstrap:e.bootstrap||me,declarations:e.declarations||me,imports:e.imports||me,exports:e.exports||me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $C(e,n){if(e==null)return on;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=za.None,c=null),t[i]=[r,a,c],n[i]=s}return t}function BC(e){if(e==null)return on;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function zt(e){return Wr(()=>{let n=Xv(e);return ey(n),n})}function Xv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||on,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$C(e.inputs,n),outputs:BC(e.outputs),debugInfo:null}}function ey(e){e.features?.forEach(n=>n(e))}function um(e,n){if(!e)return null;let t=n?tg:jC;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(UC)}function VC(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function HC(e){return Object.getPrototypeOf(e.prototype).constructor}function ty(e){let n=HC(e.type),t=!0,r=[e];for(;n;){let o;if(pt(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new D(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);let s=e;s.inputs=Kl(e.inputs),s.declaredInputs=Kl(e.declaredInputs),s.outputs=Kl(e.outputs);let a=o.hostBindings;a&&ZC(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&GC(e,c),u&&WC(e,u),zC(e,o),Wp(e.outputs,o.outputs),pt(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===ty&&(t=!1)}}n=Object.getPrototypeOf(n)}qC(r)}function zC(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function qC(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Ko(o.hostAttrs,t=Ko(t,o.hostAttrs))}}function Kl(e){return e===on?{}:e===me?[]:e}function GC(e,n){let t=e.viewQuery;t?e.viewQuery=(r,o)=>{n(r,o),t(r,o)}:e.viewQuery=n}function WC(e,n){let t=e.contentQueries;t?e.contentQueries=(r,o,i)=>{n(r,o,i),t(r,o,i)}:e.contentQueries=n}function ZC(e,n){let t=e.hostBindings;t?e.hostBindings=(r,o)=>{n(r,o),t(r,o)}:e.hostBindings=n}function YC(e,n,t,r,o,i,s,a,c){let u=n.consts,l=Za(n,e,4,s||null,a||null);Nl()&&Pv(n,t,l,qn(u,c),mv),l.mergedAttrs=Ko(l.mergedAttrs,l.attrs),bm(n,l);let d=l.tView=Wd(2,l,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return n.queries!==null&&(n.queries.template(n,l),d.queries=n.queries.embeddedTView(l)),l}function Qa(e,n,t,r,o,i,s,a,c,u,l){let d=t+ve,h=n.firstCreatePass?YC(d,n,e,r,o,i,s,a,u):n.data[d];c&&(h.flags|=c),Ur(h,!1);let f=KC(n,e,h,t);da()&&rf(n,e,f,h),ri(f,e);let g=xv(f,e,f,h);return e[d]=g,Yd(e,g),MC(g,h,e),na(h)&&Kd(n,e,h),u!=null&&hv(e,h,l),h}function ny(e,n,t,r,o,i,s,a){let c=N(),u=Q(),l=qn(u.consts,i);return Qa(c,u,e,n,t,r,o,l,void 0,s,a),ny}var KC=QC;function QC(e,n,t,r){return fa(!0),n[Z].createComment("")}var Ja=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ja||{}),gn=new b(""),ry=!1,Sd=class extends H{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,yl()&&(this.destroyRef=m(Be,{optional:!0})??void 0,this.pendingTasks=m(dn,{optional:!0})??void 0)}emit(n){let t=R(null);try{super.next(n)}finally{R(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof K&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},be=Sd;function oy(e){let n,t;function r(){e=Zn;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function lm(e){return queueMicrotask(()=>e()),()=>{e=Zn}}var vf="isAngularZone",Pa=vf+"_ID",JC=0,q=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new be(!1);onMicrotaskEmpty=new be(!1);onStable=new be(!1);onError=new be(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=ry}=n;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,tT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,XC,Zn,Zn);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},XC={};function yf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function eT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){oy(()=>{e.callbackScheduled=!1,Md(e),e.isCheckStableRunning=!0,yf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Md(e)}function tT(e){let n=()=>{eT(e)},t=JC++;e._inner=e._inner.fork({name:"angular",properties:{[vf]:!0,[Pa]:t,[Pa+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(nT(c))return r.invokeTask(i,s,a,c);try{return dm(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),fm(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return dm(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!rT(c)&&n(),fm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Md(e),yf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Md(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function dm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fm(e){e._nesting--,yf(e)}var Fa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new be;onMicrotaskEmpty=new be;onStable=new be;onError=new be;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function nT(e){return iy(e,"__ignore_ng_zone__")}function rT(e){return iy(e,"__scheduler_tick__")}function iy(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Xa=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})(),wf=[0,1,2,3],Df=(()=>{class e{ngZone=m(q);scheduler=m(Ye);errorHandler=m(Le,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(gn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&B(16),this.executing=!0;for(let r of wf)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&B(17)}register(t){let{view:r}=t;r!==void 0?((r[Vn]??=[]).push(t),un(r),r[T]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ja.AFTER_NEXT_RENDER,t):t()}static \u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}return e})(),ei=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Vn];n&&(this.view[Vn]=n.filter(t=>t!==this))}};function ec(e,n){!n?.injector&&wl(ec);let t=n?.injector??m(ue);return vt("NgAfterNextRender"),iT(e,t,n,!0)}function oT(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function iT(e,n,t,r){let o=n.get(Xa);o.impl??=n.get(Df);let i=n.get(gn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(Be):null,a=n.get(Wn,null,{optional:!0}),c=new ei(o.impl,oT(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var tc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Ef=new b("");function ai(e){return!!e&&typeof e.then=="function"}function sy(e){return!!e&&typeof e.subscribe=="function"}var _f=new b("");function nc(e){return lt([{provide:_f,multi:!0,useValue:e}])}var bf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=m(_f,{optional:!0})??[];injector=m(ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=Ee(this.injector,o);if(ai(i))t.push(i);else if(sy(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ci=new b("");function ay(){bu(()=>{let e="";throw new D(600,e)})}function cy(e){return e.isBoundToModule}var sT=10;var mn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(ke);afterRenderManager=m(Xa);zonelessEnabled=m(Vr);rootEffectScheduler=m(Wo);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new H;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=m(dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(P(t=>!t))}constructor(){m(gn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=m(X);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=ue.NULL){return this._injector.get(q).run(()=>{B(10);let s=t instanceof Ya;if(!this._injector.get(bf).done){let g="";throw new D(405,g)}let c;s?c=t:c=this._injector.get(si).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=cy(c)?void 0:this._injector.get(qr),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Ef,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Yo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),B(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){B(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ja.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let t=R(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(t),this.afterTick.next(),B(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Jn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<sT;)B(14),this.synchronizeOnce(),B(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ho(o))continue;let i=r&&!this.zonelessEnabled?0:1;sf(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ho(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yo(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(ci,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yo(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function rc(e,n,t,r){let o=N(),i=Gn();if(Ve(o,i,n)){let s=Q(),a=Go();hI(a,o,e,n,t,r)}return rc}function aT(e,n,t,r,o,i,s,a){vt("NgControlFlow");let c=N(),u=Q(),l=qn(u.consts,i);return Qa(c,u,e,n,t,r,o,l,256,s,a),If}function If(e,n,t,r,o,i,s,a){vt("NgControlFlow");let c=N(),u=Q(),l=qn(u.consts,i);return Qa(c,u,e,n,t,r,o,l,512,s,a),If}function cT(e,n){vt("NgControlFlow");let t=N(),r=Gn(),o=t[r]!==Ie?t[r]:-1,i=o!==-1?hm(t,ve+o):void 0,s=0;if(Ve(t,r,e)){let a=R(null);try{if(i!==void 0&&GI(i,s),e!==-1){let c=ve+e,u=hm(t,c),l=uT(t[A],c),d=eC(u,l,t),h=Xd(t,l,n,{dehydratedView:d});cf(u,h,s,Ma(l,d))}}finally{R(a)}}else if(i!==void 0){let a=qI(i,s);a!==void 0&&(a[le]=n)}}function hm(e,n){return e[n]}function uT(e,n){return Vo(e,n)}function uy(e,n,t){let r=N(),o=Gn();if(Ve(r,o,n)){let i=Q(),s=Go();pv(s,r,e,n,r[Z],t)}return uy}function Rd(e,n,t,r,o){Qd(n,e,t,o?"class":"style",r)}function Cf(e,n,t,r){let o=N(),i=Q(),s=ve+e,a=o[Z],c=i.firstCreatePass?Lv(s,i,o,n,mv,Nl(),t,r):i.data[s],u=lT(i,o,c,a,n,e);o[s]=u;let l=na(c);return Ur(c,!0),cv(a,u,c),!qa(c)&&da()&&rf(i,o,u,c),(gg()===0||l)&&ri(u,o),mg(),l&&(Kd(i,o,c),Gm(i,c,o)),r!==null&&hv(o,c),Cf}function Tf(){let e=de();Ol()?kl():(e=e.parent,Ur(e,!1));let n=e;yg(n)&&wg(),vg();let t=Q();return t.firstCreatePass&&jv(t,n),n.classesWithoutHost!=null&&W_(n)&&Rd(t,n,N(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Z_(n)&&Rd(t,n,N(),n.stylesWithoutHost,!1),Tf}function oc(e,n,t,r){return Cf(e,n,t,r),Tf(),oc}var lT=(e,n,t,r,o,i)=>(fa(!0),sv(r,o,Pg()));function dT(){return N()}function ly(e,n,t){let r=N(),o=Gn();if(Ve(r,o,n)){let i=Q(),s=Go();gv(s,r,e,n,r[Z],t)}return ly}var ui="en-US";var fT=ui;function dy(e){typeof e=="string"&&(fT=e.toLowerCase().replace(/_/g,"-"))}function ic(e,n,t){let r=N(),o=Q(),i=de();return fy(o,r,r[Z],i,e,n,t),ic}function fy(e,n,t,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Zl(r,n,i),hC(r,e,n,s,t,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=Zl(r,n,i),im(r,n,h,f,o,c)}if(u&&u.length)for(let d of u)c??=Zl(r,n,i),im(r,n,d,o,o,c)}}function hT(e=1){return Og(e)}function pT(e,n){let t=null,r=Hb(e);for(let o=0;o<n.length;o++){let i=n[o];if(i==="*"){t=o;continue}if(r===null?iv(e,i,!0):Gb(r,i))return o}return t}function gT(e){let n=N()[Ne][_e];if(!n.projection){let t=e?e.length:1,r=n.projection=Xp(t,null),o=r.slice(),i=n.child;for(;i!==null;){if(i.type!==128){let s=e?pT(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function mT(e,n=0,t,r,o,i){let s=N(),a=Q(),c=r?e+1:null;c!==null&&Qa(s,a,c,r,o,i,null,t);let u=Za(a,ve+e,16,null,t||null);u.projection===null&&(u.projection=n),kl();let d=!s[Pr]||xl();s[Ne][_e].projection[u.projection]===null&&c!==null?vT(s,a,c):d&&!qa(u)&&NI(a,s,u)}function vT(e,n,t){let r=ve+t,o=n.data[r],i=e[r],s=yd(i,o.tView.ssrId),a=Xd(e,o,void 0,{dehydratedView:s});cf(i,a,0,Ma(o,s))}function hy(e,n,t,r){Zv(e,n,t,r)}function yT(e,n,t){Wv(e,n,t)}function py(e){let n=N(),t=Q(),r=ca();qo(r+1);let o=hf(t,r);if(e.dirty&&lg(n)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=Kv(n,r);e.reset(i,Pm),e.notifyOnChanges()}return!0}return!1}function gy(){return ff(N(),ca())}function wT(e,n,t,r,o){Jv(n,Zv(e,t,r,o))}function DT(e,n,t,r){Jv(e,Wv(n,t,r))}function ET(e=1){qo(ca()+e)}function _T(e){let n=bg();return ug(n,ve+e)}function va(e,n){return e<<17|n<<2}function Xn(e){return e>>17&32767}function bT(e){return(e&2)==2}function IT(e,n){return e&131071|n<<17}function Nd(e){return e|2}function Gr(e){return(e&131068)>>2}function Ql(e,n){return e&-131069|n<<2}function CT(e){return(e&1)===1}function xd(e){return e|1}function TT(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Xn(s),c=Gr(s);e[r]=t;let u=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||Or(d,l)>0)&&(u=!0)}else l=t;if(o)if(c!==0){let h=Xn(e[a+1]);e[r+1]=va(h,a),h!==0&&(e[h+1]=Ql(e[h+1],r)),e[a+1]=IT(e[a+1],r)}else e[r+1]=va(a,0),a!==0&&(e[a+1]=Ql(e[a+1],r)),a=r;else e[r+1]=va(c,0),a===0?a=r:e[c+1]=Ql(e[c+1],r),c=r;u&&(e[r+1]=Nd(e[r+1])),pm(e,l,r,!0),pm(e,l,r,!1),ST(n,l,e,r,i),s=va(a,c),i?n.classBindings=s:n.styleBindings=s}function ST(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&Or(i,n)>=0&&(t[r+1]=xd(t[r+1]))}function pm(e,n,t,r){let o=e[t+1],i=n===null,s=r?Xn(o):Gr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];MT(c,n)&&(a=!0,e[s+1]=r?xd(u):Nd(u)),s=r?Xn(u):Gr(u)}a&&(e[t+1]=r?Nd(o):xd(o))}function MT(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Or(e,n)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RT(e){return e.substring(et.key,et.keyEnd)}function NT(e){return xT(e),my(e,vy(e,0,et.textEnd))}function my(e,n){let t=et.textEnd;return t===n?-1:(n=et.keyEnd=AT(e,et.key=n,t),vy(e,n,t))}function xT(e){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=e.length}function vy(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function AT(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function yy(e,n){return PT(e,n,null,!0),yy}function OT(e){FT(VT,kT,e,!0)}function kT(e,n){for(let t=NT(n);t>=0;t=my(n,t))Xs(e,RT(n),!0)}function PT(e,n,t,r){let o=N(),i=Q(),s=sa(2);if(i.firstUpdatePass&&Dy(i,e,s,r),n!==Ie&&Ve(o,s,n)){let a=i.data[Lt()];Ey(i,a,o,o[Z],e,o[s+1]=zT(n,t),r,s)}}function FT(e,n,t,r){let o=Q(),i=sa(2);o.firstUpdatePass&&Dy(o,null,i,r);let s=N();if(t!==Ie&&Ve(s,i,t)){let a=o.data[Lt()];if(_y(a,r)&&!wy(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Zs(c,t||"")),Rd(o,a,s,t,r)}else HT(o,a,s,s[Z],s[i+1],s[i+1]=BT(e,n,t),r,i)}}function wy(e,n){return n>=e.expandoStartIndex}function Dy(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Lt()],s=wy(e,t);_y(i,r)&&n===null&&!s&&(n=!1),n=LT(o,i,n,r),TT(o,i,n,t,s,r)}}function LT(e,n,t,r){let o=Rg(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=Jl(null,e,n,t,r),t=ti(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=Jl(o,e,n,t,r),i===null){let c=jT(e,n,r);c!==void 0&&Array.isArray(c)&&(c=Jl(null,e,n,c[1],r),c=ti(c,n.attrs,r),UT(e,n,r,c))}else i=$T(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function jT(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Gr(r)!==0)return e[Xn(r)]}function UT(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[Xn(o)]=r}function $T(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ti(r,s,t)}return ti(r,n.attrs,t)}function Jl(e,n,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=n[a],r=ti(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function ti(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Xs(e,s,t?!0:n[++i]))}return e===void 0?null:e}function BT(e,n,t){if(t==null||t==="")return me;let r=[],o=He(t);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&n(r,o);return r}function VT(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Xs(e,r,t)}function HT(e,n,t,r,o,i,s,a){o===Ie&&(o=me);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;l!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=u<i.length?i[u+1]:void 0,g=null,v;l===d?(c+=2,u+=2,h!==f&&(g=d,v=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,v=f),g!==null&&Ey(e,n,t,r,g,v,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}function Ey(e,n,t,r,o,i,s,a){if(!(n.type&3))return;let c=e.data,u=c[a+1],l=CT(u)?gm(c,n,t,o,Gr(u),s):void 0;if(!La(l)){La(i)||bT(u)&&(i=gm(c,null,t,o,a,s));let d=Il(Lt(),t);AI(r,s,d,o,i)}}function gm(e,n,t,r,o,i){let s=n===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=t[o+1];h===Ie&&(h=d?me:void 0);let f=d?ea(h,r):l===r?h:void 0;if(u&&!La(f)&&(f=ea(c,r)),La(f)&&(a=f,s))return a;let g=e[o+1];o=s?Xn(g):Gr(g)}if(n!==null){let c=i?n.residualClasses:n.residualStyles;c!=null&&(a=ea(c,r))}return a}function La(e){return e!==void 0}function zT(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Re(He(e)))),e}function _y(e,n){return(e.flags&(n?8:16))!==0}function qT(e,n=""){let t=N(),r=Q(),o=e+ve,i=r.firstCreatePass?Za(r,o,1,n,null):r.data[o],s=GT(r,t,i,n,e);t[o]=s,da()&&rf(r,t,s,i),Ur(i,!1)}var GT=(e,n,t,r,o)=>(fa(!0),Kb(n[Z],r));function by(e,n,t,r=""){return Ve(e,Gn(),t)?n+jn(t)+r:Ie}function WT(e,n,t,r,o,i=""){let s=Ig(),a=Bv(e,s,t,o);return sa(2),a?n+jn(t)+r+jn(o)+i:Ie}function Iy(e){return Sf("",e),Iy}function Sf(e,n,t){let r=N(),o=by(r,e,n,t);return o!==Ie&&Ty(r,Lt(),o),Sf}function Cy(e,n,t,r,o){let i=N(),s=WT(i,e,n,t,r,o);return s!==Ie&&Ty(i,Lt(),s),Cy}function Ty(e,n,t){let r=Il(n,e);Qb(e[Z],r,t)}function Sy(e,n,t){Vl(n)&&(n=n());let r=N(),o=Gn();if(Ve(r,o,n)){let i=Q(),s=Go();pv(s,r,e,n,r[Z],t)}return Sy}function ZT(e,n){let t=Vl(e);return t&&e.set(n),t}function My(e,n){let t=N(),r=Q(),o=de();return fy(r,t,t[Z],o,e,n),My}function YT(e,n,t=""){return by(N(),e,n,t)}function KT(e,n,t){let r=Q();if(r.firstCreatePass){let o=pt(e);Ad(t,r.data,r.blueprint,o,!0),Ad(n,r.data,r.blueprint,o,!1)}}function Ad(e,n,t,r,o){if(e=ce(e),Array.isArray(e))for(let i=0;i<e.length;i++)Ad(e[i],n,t,r,o);else{let i=Q(),s=N(),a=de(),c=Pn(e)?e:ce(e.provide),u=vl(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Pn(e)||!e.multi){let f=new Kn(u,o,fe),g=ed(c,n,o?l:l+h,d);g===-1?(nd(Ca(a,s),i,c),Xl(i,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=ed(c,n,l+h,d),g=ed(c,n,l,l+h),v=f>=0&&t[f],w=g>=0&&t[g];if(o&&!w||!o&&!v){nd(Ca(a,s),i,c);let _=XT(o?JT:QT,t.length,o,r,u);!o&&w&&(t[g].providerFactory=_),Xl(i,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else{let _=Ry(t[o?g:f],u,!o&&r);Xl(i,e,f>-1?f:g,_)}!o&&r&&w&&t[g].componentProviders++}}}function Xl(e,n,t,r){let o=Pn(n),i=sg(n);if(o||i){let c=(i?ce(n.useClass):n).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){let l=u.indexOf(t);l===-1?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function Ry(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ed(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function QT(e,n,t,r){return Od(this.multi,[])}function JT(e,n,t,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Qo(t,t[A],this.providerFactory.index,r);i=a.slice(0,s),Od(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Od(o,i);return i}function Od(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function XT(e,n,t,r,o){let i=new Kn(e,t,fe);return i.multi=[],i.index=n,i.componentProviders=0,Ry(i,o,r&&!t),i}function eS(e,n=[]){return t=>{t.providersResolver=(r,o)=>KT(r,o?o(e):e,n)}}function tS(e,n,t){let r=ia()+e,o=N();return o[r]===Ie?df(o,r,t?n.call(t):n()):dC(o,r)}function nS(e,n,t,r){return oS(N(),ia(),e,n,t,r)}function rS(e,n,t,r,o,i){return iS(N(),ia(),e,n,t,r,o,i)}function Ny(e,n){let t=e[n];return t===Ie?void 0:t}function oS(e,n,t,r,o,i){let s=n+t;return Ve(e,s,o)?df(e,s+1,i?r.call(i,o):r(o)):Ny(e,s+1)}function iS(e,n,t,r,o,i,s,a){let c=n+t;return fC(e,c,o,i,s)?df(e,c+3,a?r.call(a,o,i,s):r(o,i,s)):Ny(e,c+3)}function sS(e,n){return Wa(e,n)}var ja=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Mf=(()=>{class e{compileModuleSync(t){return new ka(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=hl(t),i=rv(o.declarations).reduce((s,a)=>{let c=ut(a);return c&&s.push(new hn(c)),s},[]);return new ja(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var aS=(()=>{class e{zone=m(q);changeDetectionScheduler=m(Ye);applicationRef=m(mn);applicationErrorHandler=m(ke);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xy=new b("",{factory:()=>!1});function Rf({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new q(U(y({},Nf()),{scheduleInRootZone:t})),[{provide:q,useFactory:e},{provide:ct,multi:!0,useFactory:()=>{let r=m(aS,{optional:!0});return()=>r.initialize()}},{provide:ct,multi:!0,useFactory:()=>{let r=m(uS);return()=>{r.initialize()}}},n===!0?{provide:Hl,useValue:!0}:[],{provide:zl,useValue:t??ry},{provide:ke,useFactory:()=>{let r=m(q),o=m(X),i;return s=>{i??=o.get(Le),r.runOutsideAngular(()=>i.handleError(s))}}}]}function cS(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Rf({ngZoneFactory:()=>{let o=Nf(e);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&vt("NgZone_CoalesceEvent"),new q(o)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return lt([{provide:xy,useValue:!0},{provide:Vr,useValue:!1},r])}function Nf(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uS=(()=>{class e{subscription=new K;initialized=!1;zone=m(q);pendingTasks=m(dn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{q.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{q.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ay=(()=>{class e{applicationErrorHandler=m(ke);appRef=m(mn);taskService=m(dn);ngZone=m(q);zonelessEnabled=m(Vr);tracing=m(gn,{optional:!0});disableScheduling=m(Hl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new K;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(zl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fa||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?lm:oy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lS(){return typeof $localize<"u"&&$localize.locale||ui}var xf=new b("",{providedIn:"root",factory:()=>m(xf,{optional:!0,skipSelf:!0})||lS()});function Of(e){return Hp(e)}function dS(e,n){return Co(e,n?.equal)}var Af=class{[ne];constructor(n){this[ne]=n}destroy(){this[ne].destroy()}};function fS(e,n){let t=n?.injector??m(ue),r=n?.manualCleanup!==!0?t.get(Be):null,o,i=t.get(Wn,null,{optional:!0}),s=t.get(Ye);return i!==null?(o=gS(i.view,s,e),r instanceof Fo&&r._lView===i.view&&(r=null)):o=mS(e,t.get(Wo),s),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Af(o)}var Oy=U(y({},Jt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Zn,run(){if(this.dirty=!1,this.hasRun&&!Sn(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),n=Mt(this),t=$r(!1);try{this.maybeCleanup(),this.fn(e)}finally{$r(t),Xt(this,n)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let e=R(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],R(e)}}}),hS=U(y({},Oy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){yr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),pS=U(y({},Oy),{consumerMarkedDirty(){this.view[T]|=8192,un(this.view),this.notifier.notify(13)},destroy(){yr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ft]?.delete(this)}});function gS(e,n,t){let r=Object.create(pS);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=t,e[Ft]??=new Set,e[Ft].add(r),r.consumerMarkedDirty(r),r}function mS(e,n,t){let r=Object.create(hS);return r.fn=e,r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var $y=Symbol("InputSignalNode#UNSET"),CS=U(y({},To),{transformFn:void 0,applyValueToInputSignal(e,n){wr(e,n)}});function By(e,n){let t=Object.create(CS);t.value=e,t.transformFn=n?.transform;function r(){if(Tn(t),t.value===$y){let o=null;throw new D(-950,o)}return t.value}return r[ne]=t,r}var ac=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>ni(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},TS=new b("");TS.__NG_ELEMENT_ID__=e=>{let n=de();if(n===null)throw new D(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new D(204,!1)};function ky(e,n){return By(e,n)}function SS(e){return By($y,e)}var Vy=(ky.required=SS,ky);function Py(e,n){return pf(n)}function MS(e,n){return gf(n)}var mH=(Py.required=MS,Py);function Fy(e,n){return pf(n)}function RS(e,n){return gf(n)}var vH=(Fy.required=RS,Fy);var Pf=new b(""),NS=new b("");function li(e){return!e.moduleRef}function xS(e){let n=li(e)?e.r3Injector:e.moduleRef.injector,t=n.get(q);return t.run(()=>{li(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(ke),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),li(e)){let i=()=>n.destroy(),s=e.platformInjector.get(Pf);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Pf);s.add(i),e.moduleRef.onDestroy(()=>{Yo(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return OS(r,t,()=>{let i=n.get(bf);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(xf,ui);if(dy(s||ui),!n.get(NS,!0))return li(e)?n.get(mn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(li(e)){let c=n.get(mn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return AS?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var AS;function OS(e,n,t){try{let r=t();return ai(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var sc=null;function kS(e=[],n){return ue.create({name:n,providers:[{provide:Uo,useValue:"platform"},{provide:Pf,useValue:new Set([()=>sc=null])},...e]})}function PS(e=[]){if(sc)return sc;let n=kS(e);return sc=n,ay(),FS(n),n}function FS(e){let n=e.get(Ba,null);Ee(e,()=>{n?.forEach(t=>t())})}var di=(()=>{class e{static __NG_ELEMENT_ID__=LS}return e})();function LS(e){return jS(de(),N(),(e&16)===16)}function jS(e,n,t){if(cn(e)&&!t){let r=$e(e.index,n);return new fn(r,r)}else if(e.type&175){let r=n[Ne];return new fn(r,n)}return null}var Ff=class{constructor(){}supports(n){return lf(n)}create(n){return new Lf(n)}},US=(e,n)=>n,Lf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||US}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<Ly(r,o,i)?t:r,a=Ly(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;l<=g&&g<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!lf(n))throw new D(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,Uv(n,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new jf(t,r),i,o)),n}_verifyReinsertion(n,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let o=t===null?this._itHead:t._next;return n._next=o,n._prev=t,o===null?this._itTail=n:o._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new cc),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cc),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},jf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Uf=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},cc=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Uf,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,o=this.map.get(r);return o?o.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ly(e,n,t){let r=e.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function jy(){return new Bf([new Ff])}var Bf=(()=>{class e{factories;static \u0275prov=E({token:e,providedIn:"root",factory:jy});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||jy()),deps:[[e,new ym,new Pd]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new D(901,!1)}}return e})();function Hy(e){B(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,o=PS(r),i=[Rf({}),{provide:Ye,useExisting:Ay},Lg,...t||[]],s=new Xo({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return xS({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{B(9)}}function fi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function $S(e,n=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):n}var kf=Symbol("NOT_SET"),zy=new Set,BS=U(y({},To),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:kf,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(e){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==kf&&!Sn(this))return this.signal;try{for(let o of this.cleanup??zy)o()}finally{this.cleanup?.clear()}let n=[];e!==void 0&&n.push(e),n.push(this.registerCleanupFn);let t=Mt(this),r;try{r=this.userFn.apply(null,n)}finally{Xt(this,t)}return(this.value===kf||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),$f=class extends ei{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(n,t,r,o,i,s=null){super(n,[void 0,void 0,void 0,void 0],r,!1,i,s),this.scheduler=o;for(let a of wf){let c=t[a];if(c===void 0)continue;let u=Object.create(BS);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(Tn(u),u.value),u.signal[ne]=u,u.registerCleanupFn=l=>(u.cleanup??=new Set).add(l),this.nodes[a]=u,this.hooks[a]=l=>u.phaseFn(l)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let n of this.nodes)for(let t of n?.cleanup??zy)t()}};function yH(e,n){let t=n?.injector??m(ue),r=t.get(Ye),o=t.get(Xa),i=t.get(gn,null,{optional:!0});o.impl??=t.get(Df);let s=e;typeof s=="function"&&(s={mixedReadWrite:e});let a=t.get(Wn,null,{optional:!0}),c=new $f(o.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t.get(Be),i?.snapshot(null));return o.impl.register(c),c}function wH(e,n){let t=ut(e),r=n.elementInjector||kr();return new hn(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function qy(e){let n=ut(e);if(!n)return null;let t=new hn(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Zy=null;function Gt(){return Zy}function Vf(e){Zy??=e}var hi=class{},pi=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(Yy),providedIn:"platform"})}return e})(),Hf=new b(""),Yy=(()=>{class e extends pi{_location;_history;_doc=m(Y);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function uc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Gy(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function nt(e){return e&&e[0]!=="?"?`?${e}`:e}var rt=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(dc),providedIn:"root"})}return e})(),lc=new b(""),dc=(()=>{class e extends rt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+nt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+nt(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+nt(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(I(pi),I(lc,8))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vn=(()=>{class e{_subject=new H;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zS(Gy(Wy(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nt(r))}normalize(t){return e.stripTrailingSlash(HS(this._basePath,Wy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=nt;static joinWithSlash=uc;static stripTrailingSlash=Gy;static \u0275fac=function(r){return new(r||e)(I(rt))};static \u0275prov=E({token:e,factory:()=>VS(),providedIn:"root"})}return e})();function VS(){return new vn(I(rt))}function HS(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Wy(e){return e.replace(/\/index.html$/,"")}function zS(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var qf=(()=>{class e extends rt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=uc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+nt(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+nt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(I(pi),I(lc,8))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var zf=/\s+/,Ky=[],qS=(()=>{class e{_ngEl;_renderer;initialClasses=Ky;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(zf):Ky}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zf):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let o=this.stateMap.get(t);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zf).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(fe(mt),fe(Kr))};static \u0275dir=zt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var fc=class{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jy=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new fc(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Qy(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Qy(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(fe(Ht),fe(Qn),fe(Bf))};static \u0275dir=zt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Qy(e,n){e.context.$implicit=n.item}var GS=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(t,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static \u0275fac=function(r){return new(r||e)(fe(Ht))};static \u0275dir=zt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[er]})}return e})();var Xy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({})}return e})();function Gf(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var gi=class{};var Zf="browser",ZS="server";function q2(e){return e===Zf}function ew(e){return e===ZS}var tw=(()=>{class e{static \u0275prov=E({token:e,providedIn:"root",factory:()=>new Wf(m(Y),window)})}return e})(),Wf=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(U(y({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=YS(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n,t){let r=n.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(U(y({},t),{left:o-s[0],top:i-s[1]}))}};function YS(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var gc=new b(""),Jf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(I(gc),I(q))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),mi=class{_doc;constructor(n){this._doc=n}manager},hc="ng-app-id";function nw(e){for(let n of e)n.remove()}function rw(e,n){let t=n.createElement("style");return t.textContent=e,t}function QS(e,n,t,r){let o=e.head?.querySelectorAll(`style[${hc}="${n}"],link[${hc}="${n}"]`);if(o)for(let i of o)i.removeAttribute(hc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function Kf(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Xf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=ew(i),QS(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,rw);r?.forEach(o=>this.addUsage(o,this.external,Kf))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(nw(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])nw(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,rw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,Kf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(hc,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(I(Y),I($a),I(Va,8),I(Yr))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eh=/%COMP%/g;var iw="%COMP%",JS=`_nghost-${iw}`,XS=`_ngcontent-${iw}`,e0=!0,t0=new b("",{providedIn:"root",factory:()=>e0});function n0(e){return XS.replace(eh,e)}function r0(e){return JS.replace(eh,e)}function sw(e,n){return n.map(t=>t.replace(eh,e))}var th=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new vi(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof pc?o.applyToHost(t):o instanceof yi&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case jt.Emulated:i=new pc(c,u,r,this.appId,l,s,a,d,h);break;case jt.ShadowDom:return new Qf(c,u,t,r,s,a,this.nonce,d,h);default:i=new yi(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(I(Jf),I(Xf),I($a),I(t0),I(Y),I(Yr),I(q),I(Va),I(gn,8))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),vi=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Yf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ow(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ow(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Yf[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Yf[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&($t.DashCase|$t.Important)?n.style.setProperty(t,r,o&$t.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&$t.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Gt().getGlobalEventTarget(this.doc,n),!n))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function ow(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Qf=class extends vi{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,c,u){super(n,i,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=sw(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=Kf(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yi=class extends vi{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,c,u){super(n,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?sw(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pc=class extends yi{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(n,t,r,i,s,a,c,u,l),this.contentAttr=n0(l),this.hostAttr=r0(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var mc=class e extends hi{supportsDOMEvents=!0;static makeCurrent(){Vf(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=o0();return t==null?null:i0(t)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Gf(document.cookie,n)}},wi=null;function o0(){return wi=wi||document.head.querySelector("base"),wi?wi.getAttribute("href"):null}function i0(e){return new URL(e,document.baseURI).pathname}var s0=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),cw=(()=>{class e extends mi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(I(Y))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),aw=["alt","control","meta","shift"],a0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c0={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},uw=(()=>{class e extends mi{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),aw.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=a0[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),aw.forEach(s=>{if(s!==o){let a=c0[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(I(Y))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();function u0(e,n){return Hy(y({rootComponent:e},l0(n)))}function l0(e){return{appProviders:[...g0,...e?.providers??[]],platformProviders:p0}}function d0(){mc.makeCurrent()}function f0(){return new Le}function h0(){return jd(document),document}var p0=[{provide:Yr,useValue:Zf},{provide:Ba,useValue:d0,multi:!0},{provide:Y,useFactory:h0}];var g0=[{provide:Uo,useValue:"root"},{provide:Le,useFactory:f0},{provide:gc,useClass:cw,multi:!0,deps:[Y]},{provide:gc,useClass:uw,multi:!0,deps:[Y]},th,Xf,Jf,{provide:Jn,useExisting:th},{provide:gi,useClass:s0},[]];var rh=class{};var tr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let o=(n.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=n.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var oh=class{encodeKey(n){return lw(n)}encodeValue(n){return lw(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function m0(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var v0=/%(\d[a-f0-9])/gi,y0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lw(e){return encodeURIComponent(e).replace(v0,(n,t)=>y0[t]??n)}function vc(e){return`${e}`}var Wt=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new oh,n.fromString){if(n.fromObject)throw new D(2805,!1);this.map=m0(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],o=Array.isArray(r)?r.map(vc):[vc(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let o=n[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(vc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],o=r.indexOf(vc(n.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var ih=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function w0(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function fw(e){return typeof Blob<"u"&&e instanceof Blob}function hw(e){return typeof FormData<"u"&&e instanceof FormData}function D0(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var E0="X-Request-URL",pw="text/plain",gw="application/json",Iz=`${gw}, ${pw}, */*`,Jr=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,o){this.url=t,this.method=n.toUpperCase();let i;if(w0(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new tr,this.context??=new ih,!this.params)this.params=new Wt,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dw(this.body)||fw(this.body)||hw(this.body)||D0(this.body)?this.body:this.body instanceof Wt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hw(this.body)?null:fw(this.body)?this.body.type||null:dw(this.body)?null:typeof this.body=="string"?pw:this.body instanceof Wt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?gw:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.keepalive??this.keepalive,s=n.transferCache??this.transferCache,a=n.body!==void 0?n.body:this.body,c=n.withCredentials??this.withCredentials,u=n.reportProgress??this.reportProgress,l=n.headers||this.headers,d=n.params||this.params,h=n.context??this.context;return n.setHeaders!==void 0&&(l=Object.keys(n.setHeaders).reduce((f,g)=>f.set(g,n.setHeaders[g]),l)),n.setParams&&(d=Object.keys(n.setParams).reduce((f,g)=>f.set(g,n.setParams[g]),d)),new e(t,r,a,{params:d,headers:l,context:h,reportProgress:u,responseType:o,withCredentials:c,transferCache:s,keepalive:i})}},ah=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ah||{}),sh=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new tr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}};var yc=class e extends sh{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=ah.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}};function nh(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}var _0=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Jr)i=t;else{let c;o.headers instanceof tr?c=o.headers:c=new tr(o.headers);let u;o.params&&(o.params instanceof Wt?u=o.params:u=new Wt({fromObject:o.params})),i=new Jr(t,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive})}let s=C(i).pipe(at(c=>this.handler.handle(c)));if(t instanceof Jr||o.observe==="events")return s;let a=s.pipe(oe(c=>c instanceof yc));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(P(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new D(2806,!1);return c.body}));case"blob":return a.pipe(P(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new D(2807,!1);return c.body}));case"text":return a.pipe(P(c=>{if(c.body!==null&&typeof c.body!="string")throw new D(2808,!1);return c.body}));case"json":default:return a.pipe(P(c=>c.body))}case"response":return a;default:throw new D(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Wt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,nh(o,r))}post(t,r,o={}){return this.request("POST",t,nh(o,r))}put(t,r,o={}){return this.request("PUT",t,nh(o,r))}static \u0275fac=function(r){return new(r||e)(I(rh))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var Cz=RegExp(`^${E0}:`,"m");var mw=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(I(Y))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var b0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=I(I0),o},providedIn:"root"})}return e})(),I0=(()=>{class e extends b0{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case tt.NONE:return r;case tt.HTML:return Bt(r,"HTML")?He(r):zd(this._doc,String(r)).toString();case tt.STYLE:return Bt(r,"Style")?He(r):r;case tt.SCRIPT:if(Bt(r,"Script"))return He(r);throw new D(5200,!1);case tt.URL:return Bt(r,"URL")?He(r):oi(String(r));case tt.RESOURCE_URL:if(Bt(r,"ResourceURL"))return He(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(t){return Ud(t)}bypassSecurityTrustStyle(t){return $d(t)}bypassSecurityTrustScript(t){return Bd(t)}bypassSecurityTrustUrl(t){return Vd(t)}bypassSecurityTrustResourceUrl(t){return Hd(t)}static \u0275fac=function(r){return new(r||e)(I(Y))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var O="primary",Ai=Symbol("RouteTitle"),fh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function or(e){return new fh(e)}function Iw(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function T0(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!yt(e[t],n[t]))return!1;return!0}function yt(e,n){let t=e?hh(e):void 0,r=n?hh(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Cw(e[o],n[o]))return!1;return!0}function hh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Cw(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function Tw(e){return e.length>0?e[e.length-1]:null}function Zt(e){return Lu(e)?e:ai(e)?z(Promise.resolve(e)):C(e)}var S0={exact:Mw,subset:Rw},Sw={exact:M0,subset:R0,ignored:()=>!0};function vw(e,n,t){return S0[t.paths](e.root,n.root,t.matrixParams)&&Sw[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function M0(e,n){return yt(e,n)}function Mw(e,n,t){if(!nr(e.segments,n.segments)||!Ec(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Mw(e.children[r],n.children[r],t))return!1;return!0}function R0(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Cw(e[t],n[t]))}function Rw(e,n,t){return Nw(e,n,n.segments,t)}function Nw(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!nr(o,t)||n.hasChildren()||!Ec(o,t,r))}else if(e.segments.length===t.length){if(!nr(e.segments,t)||!Ec(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!Rw(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!nr(e.segments,o)||!Ec(e.segments,o,r)||!e.children[O]?!1:Nw(e.children[O],n,i,r)}}function Ec(e,n,t){return n.every((r,o)=>Sw[t](e[o].parameters,r.parameters))}var Dt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new $([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){return A0.serialize(this)}},$=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _c(this)}},yn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=or(this.parameters),this._parameterMap}toString(){return Aw(this)}};function N0(e,n){return nr(e,n)&&e.every((t,r)=>yt(t.parameters,n[r].parameters))}function nr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function x0(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===O&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==O&&(t=t.concat(n(o,r)))}),t}var ir=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>new wn,providedIn:"root"})}return e})(),wn=class{parse(n){let t=new gh(n);return new Dt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Di(n.root,!0)}`,r=P0(n.queryParams),o=typeof n.fragment=="string"?`#${O0(n.fragment)}`:"";return`${t}${r}${o}`}},A0=new wn;function _c(e){return e.segments.map(n=>Aw(n)).join("/")}function Di(e,n){if(!e.hasChildren())return _c(e);if(n){let t=e.children[O]?Di(e.children[O],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==O&&r.push(`${o}:${Di(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=x0(e,(r,o)=>o===O?[Di(e.children[O],!1)]:[`${o}:${Di(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[O]!=null?`${_c(e)}/${t[0]}`:`${_c(e)}/(${t.join("//")})`}}function xw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(e){return xw(e).replace(/%3B/gi,";")}function O0(e){return encodeURI(e)}function ph(e){return xw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bc(e){return decodeURIComponent(e)}function yw(e){return bc(e.replace(/\+/g,"%20"))}function Aw(e){return`${ph(e.path)}${k0(e.parameters)}`}function k0(e){return Object.entries(e).map(([n,t])=>`;${ph(n)}=${ph(t)}`).join("")}function P0(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${wc(t)}=${wc(o)}`).join("&"):`${wc(t)}=${wc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var F0=/^[^\/()?;#]+/;function ch(e){let n=e.match(F0);return n?n[0]:""}var L0=/^[^\/()?;=#]+/;function j0(e){let n=e.match(L0);return n?n[0]:""}var U0=/^[^=?&#]+/;function $0(e){let n=e.match(U0);return n?n[0]:""}var B0=/^[^&#]+/;function V0(e){let n=e.match(B0);return n?n[0]:""}var gh=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[O]=new $(n,t)),r}parseSegment(){let n=ch(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(n),new yn(bc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=j0(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=ch(this.remaining);o&&(r=o,this.capture(r))}n[bc(t)]=bc(r)}parseQueryParam(n){let t=$0(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=V0(this.remaining);s&&(r=s,this.capture(r))}let o=yw(t),i=yw(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ch(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=O);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[O]:new $([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new D(4011,!1)}};function Ow(e){return e.segments.length>0?new $([],{[O]:e}):e}function kw(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=kw(o);if(r===O&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new $(e.segments,n);return H0(t)}function H0(e){if(e.numberOfChildren===1&&e.children[O]){let n=e.children[O];return new $(e.segments.concat(n.segments),n.children)}return e}function Dn(e){return e instanceof Dt}function Pw(e,n,t=null,r=null){let o=Fw(e);return Lw(o,n,t,r)}function Fw(e){let n;function t(i){let s={};for(let c of i.children){let u=t(c);s[c.outlet]=u}let a=new $(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=Ow(r);return n??o}function Lw(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return uh(o,o,o,t,r);let i=z0(n);if(i.toRoot())return uh(o,o,new $([],{}),t,r);let s=q0(i,o,e),a=s.processChildren?_i(s.segmentGroup,s.index,i.commands):Uw(s.segmentGroup,s.index,i.commands);return uh(o,s.segmentGroup,a,t,r)}function Ic(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ii(e){return typeof e=="object"&&e!=null&&e.outlets}function uh(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===n?s=t:s=jw(e,n,t);let a=Ow(kw(s));return new Dt(a,i,o)}function jw(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=jw(i,n,t)}),new $(e.segments,r)}var Cc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ic(r[0]))throw new D(4003,!1);let o=r.find(Ii);if(o&&o!==Tw(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z0(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Cc(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Cc(t,n,r)}var to=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function q0(e,n,t){if(e.isAbsolute)return new to(n,!0,0);if(!t)return new to(n,!1,NaN);if(t.parent===null)return new to(t,!0,0);let r=Ic(e.commands[0])?0:1,o=t.segments.length-1+r;return G0(t,o,e.numberOfDoubleDots)}function G0(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new to(r,!1,o-i)}function W0(e){return Ii(e[0])?e[0].outlets:{[O]:e}}function Uw(e,n,t){if(e??=new $([],{}),e.segments.length===0&&e.hasChildren())return _i(e,n,t);let r=Z0(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new $(e.segments.slice(0,r.pathIndex),{});return i.children[O]=new $(e.segments.slice(r.pathIndex),e.children),_i(i,0,o)}else return r.match&&o.length===0?new $(e.segments,{}):r.match&&!e.hasChildren()?mh(e,n,t):r.match?_i(e,0,o):mh(e,n,t)}function _i(e,n,t){if(t.length===0)return new $(e.segments,{});{let r=W0(t),o={};if(Object.keys(r).some(i=>i!==O)&&e.children[O]&&e.numberOfChildren===1&&e.children[O].segments.length===0){let i=_i(e.children[O],n,t);return new $(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Uw(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new $(e.segments,o)}}function Z0(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(Ii(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Dw(c,u,s))return i;r+=2}else{if(!Dw(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function mh(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Ii(i)){let c=Y0(i.outlets);return new $(r,c)}if(o===0&&Ic(t[0])){let c=e.segments[n];r.push(new yn(c.path,ww(t[0]))),o++;continue}let s=Ii(i)?i.outlets[O]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Ic(a)?(r.push(new yn(s,ww(a))),o+=2):(r.push(new yn(s,{})),o++)}return new $(r,{})}function Y0(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=mh(new $([],{}),0,r))}),n}function ww(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Dw(e,n,t){return e==t.path&&yt(n,t.parameters)}var no="imperative",re=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(re||{}),Fe=class{id;url;constructor(n,t){this.id=n,this.url=t}},En=class extends Fe{type=re.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ze=class extends Fe{urlAfterRedirects;type=re.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ce=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ce||{}),oo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(oo||{}),wt=class extends Fe{reason;code;type=re.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Et=class extends Fe{reason;code;type=re.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},io=class extends Fe{error;target;type=re.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ci=class extends Fe{urlAfterRedirects;state;type=re.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tc=class extends Fe{urlAfterRedirects;state;type=re.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class extends Fe{urlAfterRedirects;state;shouldActivate;type=re.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mc=class extends Fe{urlAfterRedirects;state;type=re.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rc=class extends Fe{urlAfterRedirects;state;type=re.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nc=class{route;type=re.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xc=class{route;type=re.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ac=class{snapshot;type=re.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oc=class{snapshot;type=re.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{snapshot;type=re.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{snapshot;type=re.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},so=class{routerEvent;position;anchor;type=re.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ti=class{},ao=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function K0(e){return!(e instanceof Ti)&&!(e instanceof ao)}function Q0(e,n){return e.providers&&!e._injector&&(e._injector=Qr(e.providers,n,`Route: ${e.path}`)),e._injector??n}function ot(e){return e.outlet||O}function J0(e,n){let t=e.filter(r=>ot(r)===n);return t.push(...e.filter(r=>ot(r)!==n)),t}function Oi(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Fc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Oi(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new sr(this.rootInjector)}},sr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Fc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(I(X))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=vh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=vh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=yh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return yh(n,this._root).map(t=>t.value)}};function vh(e,n){if(e===n.value)return n;for(let t of n.children){let r=vh(e,t);if(r)return r}return null}function yh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=yh(e,t);if(r.length)return r.unshift(n),r}return[]}var Pe=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function eo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Si=class extends Lc{snapshot;constructor(n,t){super(n),this.snapshot=t,Th(this,n)}toString(){return this.snapshot.toString()}};function $w(e){let n=X0(e),t=new ae([new yn("",{})]),r=new ae({}),o=new ae({}),i=new ae({}),s=new ae(""),a=new _t(t,r,i,s,o,O,e,n.root);return a.snapshot=n.root,new Si(new Pe(a,[]),n)}function X0(e){let n={},t={},r={},o="",i=new rr([],n,r,o,t,O,e,null,{});return new Mi("",new Pe(i,[]))}var _t=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(u=>u[Ai]))??C(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(n=>or(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(n=>or(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jc(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:y(y({},n.params),e.params),data:y(y({},n.data),e.data),resolve:y(y(y(y({},e.data),n.data),o?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},o&&Vw(o)&&(r.resolve[Ai]=o.title),r}var rr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ai]}constructor(n,t,r,o,i,s,a,c,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=or(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Mi=class extends Lc{url;constructor(n,t){super(t),this.url=n,Th(this,t)}toString(){return Bw(this._root)}};function Th(e,n){n.value._routerState=e,n.children.forEach(t=>Th(e,t))}function Bw(e){let n=e.children.length>0?` { ${e.children.map(Bw).join(", ")} } `:"";return`${e.value}${n}`}function lh(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,yt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),yt(n.params,t.params)||e.paramsSubject.next(t.params),T0(n.url,t.url)||e.urlSubject.next(t.url),yt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function wh(e,n){let t=yt(e.params,n.params)&&N0(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||wh(e.parent,n.parent))}function Vw(e){return typeof e.title=="string"||e.title===null}var Hw=new b(""),Sh=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new be;deactivateEvents=new be;attachEvents=new be;detachEvents=new be;routerOutletData=Vy(void 0);parentContexts=m(sr);location=m(Ht);changeDetector=m(di);inputBinder=m(ki,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Dh(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=zt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[er]})}return e})(),Dh=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===_t?this.route:n===sr?this.childContexts:n===Hw?this.outletData:this.parent.get(n,t)}},ki=new b(""),Mh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=xo([r.queryParams,r.params,r.data]).pipe(Me(([i,s,a],c)=>(a=y(y(y({},i),s),a),c===0?C(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=qy(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),Rh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mf({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&oc(0,"router-outlet")},dependencies:[Sh],encapsulation:2})}return e})();function Nh(e){let n=e.children&&e.children.map(Nh),t=n?U(y({},e),{children:n}):y({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==O&&(t.component=Rh),t}function eM(e,n,t){let r=Ri(e,n._root,t?t._root:void 0);return new Si(r,n)}function Ri(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=tM(e,n,t);return new Pe(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ri(e,a)),s}}let r=nM(n.value),o=n.children.map(i=>Ri(e,i));return new Pe(r,o)}}function tM(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ri(e,r,o);return Ri(e,r)})}function nM(e){return new _t(new ae(e.url),new ae(e.params),new ae(e.queryParams),new ae(e.fragment),new ae(e.data),e.outlet,e.component,e)}var co=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},zw="ngNavigationCancelingError";function Uc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Dn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=qw(!1,Ce.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function qw(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[zw]=!0,t.cancellationCode=n,t}function rM(e){return Gw(e)&&Dn(e.url)}function Gw(e){return!!e&&e[zw]}var oM=(e,n,t,r)=>P(o=>(new Eh(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),Eh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),lh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=eo(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=eo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=eo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=eo(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Pc(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Oc(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(lh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lh(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},$c=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ro=class{component;route;constructor(n,t){this.component=n,this.route=t}};function iM(e,n,t){let r=e._root,o=n?n._root:null;return Ei(r,o,t,[r.value])}function sM(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function lo(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!tl(e)?e:n.get(e):r}function Ei(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=eo(n);return e.children.forEach(s=>{aM(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>bi(a,t.getContext(s),o)),o}function aM(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=cM(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new $c(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ei(e,n,a?a.children:null,r,o):Ei(e,n,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ro(a.outlet.component,s))}else s&&bi(n,a,o),o.canActivateChecks.push(new $c(r)),i.component?Ei(e,null,a?a.children:null,r,o):Ei(e,null,t,r,o);return o}function cM(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!nr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!nr(e.url,n.url)||!yt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wh(e,n)||!yt(e.queryParams,n.queryParams);case"paramsChange":default:return!wh(e,n)}}function bi(e,n,t){let r=eo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?bi(s,n.children.getContext(i),t):bi(s,null,t):bi(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ro(n.outlet.component,o)):t.canDeactivateChecks.push(new ro(null,o)):t.canDeactivateChecks.push(new ro(null,o))}function Pi(e){return typeof e=="function"}function uM(e){return typeof e=="boolean"}function lM(e){return e&&Pi(e.canLoad)}function dM(e){return e&&Pi(e.canActivate)}function fM(e){return e&&Pi(e.canActivateChild)}function hM(e){return e&&Pi(e.canDeactivate)}function pM(e){return e&&Pi(e.canMatch)}function Ww(e){return e instanceof Nt||e?.name==="EmptyError"}var Dc=Symbol("INITIAL_VALUE");function uo(){return Me(e=>xo(e.map(n=>n.pipe(At(1),Vu(Dc)))).pipe(P(n=>{for(let t of n)if(t!==!0){if(t===Dc)return Dc;if(t===!1||gM(t))return t}return!0}),oe(n=>n!==Dc),At(1)))}function gM(e){return Dn(e)||e instanceof co}function mM(e,n){return J(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?C(U(y({},t),{guardsResult:!0})):vM(s,r,o,e).pipe(J(a=>a&&uM(a)?yM(r,i,e,n):C(a)),P(a=>U(y({},t),{guardsResult:a})))})}function vM(e,n,t,r){return z(e).pipe(J(o=>bM(o.component,o.route,t,n,r)),Ot(o=>o!==!0,!0))}function yM(e,n,t,r){return z(n).pipe(at(o=>Mr(DM(o.route.parent,r),wM(o.route,r),_M(e,o.path,t),EM(e,o.route,t))),Ot(o=>o!==!0,!0))}function wM(e,n){return e!==null&&n&&n(new kc(e)),C(!0)}function DM(e,n){return e!==null&&n&&n(new Ac(e)),C(!0)}function EM(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return C(!0);let o=r.map(i=>Ao(()=>{let s=Oi(n)??t,a=lo(i,s),c=dM(a)?a.canActivate(n,e):Ee(s,()=>a(n,e));return Zt(c).pipe(Ot())}));return C(o).pipe(uo())}function _M(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>sM(s)).filter(s=>s!==null).map(s=>Ao(()=>{let a=s.guards.map(c=>{let u=Oi(s.node)??t,l=lo(c,u),d=fM(l)?l.canActivateChild(r,e):Ee(u,()=>l(r,e));return Zt(d).pipe(Ot())});return C(a).pipe(uo())}));return C(i).pipe(uo())}function bM(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return C(!0);let s=i.map(a=>{let c=Oi(n)??o,u=lo(a,c),l=hM(u)?u.canDeactivate(e,n,t,r):Ee(c,()=>u(e,n,t,r));return Zt(l).pipe(Ot())});return C(s).pipe(uo())}function IM(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return C(!0);let i=o.map(s=>{let a=lo(s,e),c=lM(a)?a.canLoad(n,t):Ee(e,()=>a(n,t));return Zt(c)});return C(i).pipe(uo(),Zw(r))}function Zw(e){return xu(ie(n=>{if(typeof n!="boolean")throw Uc(e,n)}),P(n=>n===!0))}function CM(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return C(!0);let i=o.map(s=>{let a=lo(s,e),c=pM(a)?a.canMatch(n,t):Ee(e,()=>a(n,t));return Zt(c)});return C(i).pipe(uo(),Zw(r))}var Ni=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},xi=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Xr(e){return Sr(new Ni(e))}function TM(e){return Sr(new D(4e3,!1))}function SM(e){return Sr(qw(!1,Ce.GuardRejected))}var _h=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return C(r);if(o.numberOfChildren>1||!o.children[O])return TM(`${n.redirectTo}`);o=o.children[O]}}applyRedirectCommands(n,t,r,o,i){return MM(t,o,i).pipe(P(s=>{if(s instanceof Dt)throw new xi(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new xi(a);return a}))}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new Dt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new $(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}};function MM(e,n,t){if(typeof e=="string")return C(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=n;return Zt(Ee(t,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var bh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RM(e,n,t,r,o){let i=Yw(e,n,t);return i.matched?(r=Q0(n,r),CM(r,n,t,o).pipe(P(s=>s===!0?i:y({},bh)))):C(i)}function Yw(e,n,t){if(n.path==="**")return NM(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?y({},bh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Iw)(t,e,n);if(!o)return y({},bh);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function NM(e){return{matched:!0,parameters:e.length>0?Tw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ew(e,n,t,r){return t.length>0&&OM(e,t,r)?{segmentGroup:new $(n,AM(r,new $(t,e.children))),slicedSegments:[]}:t.length===0&&kM(e,t,r)?{segmentGroup:new $(e.segments,xM(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new $(e.segments,e.children),slicedSegments:t}}function xM(e,n,t,r){let o={};for(let i of t)if(Vc(e,n,i)&&!r[ot(i)]){let s=new $([],{});o[ot(i)]=s}return y(y({},r),o)}function AM(e,n){let t={};t[O]=n;for(let r of e)if(r.path===""&&ot(r)!==O){let o=new $([],{});t[ot(r)]=o}return t}function OM(e,n,t){return t.some(r=>Vc(e,n,r)&&ot(r)!==O)}function kM(e,n,t){return t.some(r=>Vc(e,n,r))}function Vc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PM(e,n,t){return n.length===0&&!e.children[t]}var Ih=class{};function FM(e,n,t,r,o,i,s="emptyOnly"){return new Ch(e,n,t,r,o,s,i).recognize()}var LM=31,Ch=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _h(this.urlSerializer,this.urlTree)}noMatchError(n){return new D(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ew(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(P(({children:t,rootSnapshot:r})=>{let o=new Pe(r,t),i=new Mi("",o),s=Pw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new rr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,O,t).pipe(P(r=>({children:r,rootSnapshot:t})),xt(r=>{if(r instanceof xi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ni?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(P(s=>s instanceof Pe?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return z(i).pipe(at(s=>{let a=r.children[s],c=J0(t,s);return this.processSegmentGroup(n,c,a,s,o)}),Uu((s,a)=>(s.push(...a),s)),tn(null),ju(),J(s=>{if(s===null)return Xr(r);let a=Kw(s);return jM(a),C(a)}))}processSegment(n,t,r,o,i,s,a){return z(t).pipe(at(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,o,i,s,a).pipe(xt(u=>{if(u instanceof Ni)return C(null);throw u}))),Ot(c=>!!c),xt(c=>{if(Ww(c))return PM(r,o,i)?C(new Ih):Xr(r);throw c}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,c){return ot(r)!==s&&(s===O||!Vc(o,i,r))?Xr(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,c):Xr(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=Yw(t,o,i);if(!c)return Xr(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LM&&(this.allowRedirects=!1));let f=new rr(i,u,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,_w(o),ot(o),o.component??o._loadedComponent??null,o,bw(o)),g=jc(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,n).pipe(Me(w=>this.applyRedirects.lineralizeSegments(o,w)),J(w=>this.processSegment(n,r,t,w.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let a=RM(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Me(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(Me(({routes:u})=>{let l=r._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new rr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,_w(r),ot(r),r.component??r._loadedComponent??null,r,bw(r)),v=jc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:_}=Ew(t,h,f,u);if(_.length===0&&w.hasChildren())return this.processChildren(l,u,w,g).pipe(P(Te=>new Pe(g,Te)));if(u.length===0&&_.length===0)return C(new Pe(g,[]));let pe=ot(r)===i;return this.processSegment(l,u,w,_,pe?O:i,!0,g).pipe(P(Te=>new Pe(g,Te instanceof Pe?[Te]:[])))}))):Xr(t)))}getChildConfig(n,t,r){return t.children?C({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?C({routes:t._loadedRoutes,injector:t._loadedInjector}):IM(n,t,r,this.urlSerializer).pipe(J(o=>o?this.configLoader.loadChildren(n,t).pipe(ie(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):SM(t))):C({routes:[],injector:n})}};function jM(e){e.sort((n,t)=>n.value.outlet===O?-1:t.value.outlet===O?1:n.value.outlet.localeCompare(t.value.outlet))}function UM(e){let n=e.value.routeConfig;return n&&n.path===""}function Kw(e){let n=[],t=new Set;for(let r of e){if(!UM(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=Kw(r.children);n.push(new Pe(r.value,o))}return n.filter(r=>!t.has(r))}function _w(e){return e.data||{}}function bw(e){return e.resolve||{}}function $M(e,n,t,r,o,i){return J(s=>FM(e,n,t,r,s.extractedUrl,o,i).pipe(P(({state:a,tree:c})=>U(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function BM(e,n){return J(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return C(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of Qw(c))s.add(u);let a=0;return z(s).pipe(at(c=>i.has(c)?VM(c,r,e,n):(c.data=jc(c,c.parent,e).resolve,C(void 0))),ie(()=>a++),Nr(1),J(c=>a===s.size?C(t):ge))})}function Qw(e){let n=e.children.map(t=>Qw(t)).flat();return[e,...n]}function VM(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!Vw(o)&&(i[Ai]=o.title),Ao(()=>(e.data=jc(e,e.parent,t).resolve,HM(i,e,n,r).pipe(P(s=>(e._resolvedData=s,e.data=y(y({},e.data),s),null)))))}function HM(e,n,t,r){let o=hh(e);if(o.length===0)return C({});let i={};return z(o).pipe(J(s=>zM(e[s],n,t,r).pipe(Ot(),ie(a=>{if(a instanceof co)throw Uc(new wn,a);i[s]=a}))),Nr(1),P(()=>i),xt(s=>Ww(s)?ge:Sr(s)))}function zM(e,n,t,r){let o=Oi(n)??r,i=lo(e,o),s=i.resolve?i.resolve(n,t):Ee(o,()=>i(n,t));return Zt(s)}function dh(e){return Me(n=>{let t=e(n);return t?z(t).pipe(P(()=>n)):C(n)})}var xh=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===O);return r}getResolvedTitleForRoute(t){return t.data[Ai]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(Jw),providedIn:"root"})}return e})(),Jw=(()=>{class e extends xh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(I(mw))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_n=new b("",{providedIn:"root",factory:()=>({})}),ar=new b(""),Hc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(Mf);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return C(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zt(t.loadComponent()).pipe(P(eD),ie(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Rr(()=>{this.componentLoaders.delete(t)})),o=new Cr(r,()=>new H).pipe(Ir());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return C({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Xw(r,this.compiler,t,this.onLoadEndListener).pipe(Rr(()=>{this.childrenLoaders.delete(r)})),s=new Cr(i,()=>new H).pipe(Ir());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xw(e,n,t,r){return Zt(e.loadChildren()).pipe(P(eD),J(o=>o instanceof Ka||Array.isArray(o)?C(o):z(n.compileModuleAsync(o))),P(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(ar,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nh),injector:i}}))}function qM(e){return e&&typeof e=="object"&&"default"in e}function eD(e){return qM(e)?e.default:e}var zc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(GM),providedIn:"root"})}return e})(),GM=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ah=new b(""),Oh=new b("");function tD(e,n,t){let r=e.get(Oh),o=e.get(Y);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),WM(e))),{onViewTransitionCreated:c}=r;return c&&Ee(e,()=>c({transition:a,from:n,to:t})),s}function WM(e){return new Promise(n=>{ec({read:()=>setTimeout(n)},{injector:e})})}var kh=new b(""),qc=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new H;transitionAbortWithErrorSubject=new H;configLoader=m(Hc);environmentInjector=m(X);destroyRef=m(Be);urlSerializer=m(ir);rootContexts=m(sr);location=m(vn);inputBindingEnabled=m(ki,{optional:!0})!==null;titleStrategy=m(xh);options=m(_n,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(zc);createViewTransition=m(Ah,{optional:!0});navigationErrorHandler=m(kh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>C(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Nc(o)),r=o=>this.events.next(new xc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(U(y({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ae(null),this.transitions.pipe(oe(r=>r!==null),Me(r=>{let o=!1;return C(r).pipe(Me(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ce.SupersededByNewNavigation),ge;this.currentTransition=r,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?U(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new Et(i.id,this.urlSerializer.serialize(i.rawUrl),c,oo.IgnoredSameUrlNavigation)),i.resolve(!1),ge}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return C(i).pipe(Me(c=>(this.events.next(new En(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ge:Promise.resolve(c))),$M(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ie(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=U(y({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new En(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let g=$w(this.rootComponentType).snapshot;return this.currentTransition=r=U(y({},i),{targetSnapshot:g,urlAfterRedirects:u,extras:U(y({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,C(r)}else{let c="";return this.events.next(new Et(i.id,this.urlSerializer.serialize(i.extractedUrl),c,oo.IgnoredByUrlHandlingStrategy)),i.resolve(!1),ge}}),ie(i=>{let s=new Tc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),P(i=>(this.currentTransition=r=U(y({},i),{guards:iM(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),mM(this.environmentInjector,i=>this.events.next(i)),ie(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Uc(this.urlSerializer,i.guardsResult);let s=new Sc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),oe(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ce.GuardRejected),!1)),dh(i=>{if(i.guards.canActivateChecks.length!==0)return C(i).pipe(ie(s=>{let a=new Mc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Me(s=>{let a=!1;return C(s).pipe(BM(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ce.NoDataFromResolver)}}))}),ie(s=>{let a=new Rc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),dh(i=>{let s=a=>{let c=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(a.routeConfig).pipe(ie(u=>{a.component=u}),P(()=>{})));for(let u of a.children)c.push(...s(u));return c};return xo(s(i.targetSnapshot.root)).pipe(tn(null),At(1))}),dh(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?z(a).pipe(P(()=>r)):C(r)}),P(i=>{let s=eM(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=U(y({},i),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),ie(()=>{this.events.next(new Ti)}),oM(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),At(1),Vs(new F(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(oe(()=>!o&&!r.targetRouterState),ie(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ce.Aborted)}))),ie({next:i=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ze(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),Vs(this.transitionAbortWithErrorSubject.pipe(ie(i=>{throw i}))),Rr(()=>{o||this.cancelNavigationTransition(r,"",Ce.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(i=>{if(this.destroyed)return r.resolve(!1),ge;if(o=!0,Gw(i))this.events.next(new wt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),rM(i)?this.events.next(new ao(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new io(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Ee(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof co){let{message:c,cancellationCode:u}=Uc(this.urlSerializer,a);this.events.next(new wt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ao(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ge}))}))}cancelNavigationTransition(t,r,o){let i=new wt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZM(e){return e!==no}var nD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(YM),providedIn:"root"})}return e})(),Bc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},YM=(()=>{class e extends Bc{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ua(e)))(o||e)}})();static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rD=(()=>{class e{urlSerializer=m(ir);options=m(_n,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(vn);urlHandlingStrategy=m(zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Dt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=$w(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:()=>m(KM),providedIn:"root"})}return e})(),KM=(()=>{class e extends rD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof En?this.updateStateMemento():t instanceof Et?this.commitTransition(r):t instanceof Ci?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ti?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wt&&t.code!==Ce.SupersededByNewNavigation&&t.code!==Ce.Redirect?this.restoreHistory(r):t instanceof io?this.restoreHistory(r,!0):t instanceof ze&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,c=y(y({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",c)}else{let a=y(y({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ua(e)))(o||e)}})();static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gc(e,n){e.events.pipe(oe(t=>t instanceof ze||t instanceof wt||t instanceof io||t instanceof Et),P(t=>t instanceof ze||t instanceof Et?0:(t instanceof wt?t.code===Ce.Redirect||t.code===Ce.SupersededByNewNavigation:!1)?2:1),oe(t=>t!==2),At(1)).subscribe(()=>{n()})}var QM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(tc);stateManager=m(rD);options=m(_n,{optional:!0})||{};pendingTasks=m(dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(qc);urlSerializer=m(ir);location=m(vn);urlHandlingStrategy=m(zc);injector=m(X);_events=new H;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(nD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(ar,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ki,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new K;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof wt&&r.code!==Ce.Redirect&&r.code!==Ce.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ze)this.navigated=!0;else if(r instanceof ao){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZM(o.source)},s);this.scheduleNavigation(a,no,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}K0(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i).catch(c=>{this.injector.get(ke)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Nh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=Fw(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Lw(d,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Dn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,no,null,r)}navigate(t,r={skipLocationChange:!1}){return XM(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=y({},QM):r===!1?o=y({},JM):o=r,Dn(t))return vw(this.currentUrlTree,t,o);let i=this.parseUrl(t);return vw(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Gc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XM(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new D(4008,!1)}var oD=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Br(null);get href(){return Of(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new H;applicationErrorHandler=m(ke);options=m(_n,{optional:!0});constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(m(new ac("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=o=>o==="merge"||o==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(o=>{o instanceof ze&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Dn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Dn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(fe(qe),fe(_t),ni("tabindex"),fe(Kr),fe(mt),fe(rt))};static \u0275dir=zt({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&ic("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&rc("href",o.reactiveHref(),qd)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fi],replaceUrl:[2,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},features:[er]})}return e})();var Fi=class{};var iD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(oe(t=>t instanceof ze),at(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Qr(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return z(o).pipe(en())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=C(null);let i=o.pipe(J(s=>s===null?C(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return z([i,s]).pipe(en())}else return i})}static \u0275fac=function(r){return new(r||e)(I(qe),I(X),I(Fi),I(Hc))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sD=new b(""),eR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=no;restoredId=0;store={};constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof En?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ze?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Et&&t.code===oo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof so&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>p(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new so(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){uf()};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();function tR(e,...n){return lt([{provide:ar,multi:!0,useValue:e},[],{provide:_t,useFactory:aD,deps:[qe]},{provide:ci,multi:!0,useFactory:cD},n.map(t=>t.\u0275providers)])}function aD(e){return e.routerState.root}function Li(e,n){return{\u0275kind:e,\u0275providers:n}}function cD(){let e=m(ue);return n=>{let t=e.get(mn);if(n!==t.components[0])return;let r=e.get(qe),o=e.get(uD);e.get(Fh)===1&&r.initialNavigation(),e.get(fD,null,{optional:!0})?.setUpPreloading(),e.get(sD,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var uD=new b("",{factory:()=>new H}),Fh=new b("",{providedIn:"root",factory:()=>1});function lD(){let e=[{provide:Fh,useValue:0},nc(()=>{let n=m(ue);return n.get(Hf,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(qe),i=n.get(uD);Gc(o,()=>{r(!0)}),n.get(qc).afterPreactivation=()=>(r(!0),i.closed?C(void 0):i),o.initialNavigation()}))})];return Li(2,e)}function dD(){let e=[nc(()=>{m(qe).setUpLocationChangeListener()}),{provide:Fh,useValue:2}];return Li(3,e)}var fD=new b("");function hD(e){return Li(0,[{provide:fD,useExisting:iD},{provide:Fi,useExisting:e}])}function pD(){return Li(8,[Mh,{provide:ki,useExisting:Mh}])}function gD(e){vt("NgRouterViewTransitions");let n=[{provide:Ah,useValue:tD},{provide:Oh,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Li(9,n)}var mD=[vn,{provide:ir,useClass:wn},qe,sr,{provide:_t,useFactory:aD,deps:[qe]},Hc,[]],nR=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[mD,[],{provide:ar,multi:!0,useValue:t},[],r?.errorHandler?{provide:kh,useValue:r.errorHandler}:[],{provide:_n,useValue:r||{}},r?.useHash?oR():iR(),rR(),r?.preloadingStrategy?hD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sR(r):[],r?.bindToComponentInputs?pD().\u0275providers:[],r?.enableViewTransitions?gD().\u0275providers:[],aR()]}}static forChild(t){return{ngModule:e,providers:[{provide:ar,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=pn({type:e});static \u0275inj=Pt({})}return e})();function rR(){return{provide:sD,useFactory:()=>{let e=m(tw),n=m(q),t=m(_n),r=m(qc),o=m(ir);return t.scrollOffset&&e.setOffset(t.scrollOffset),new eR(o,r,e,n,t)}}}function oR(){return{provide:rt,useClass:qf}}function iR(){return{provide:rt,useClass:dc}}function sR(e){return[e.initialNavigation==="disabled"?dD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?lD().\u0275providers:[]]}var Ph=new b("");function aR(){return[{provide:Ph,useFactory:cD},{provide:ci,multi:!0,useExisting:Ph}]}var vD=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var ji=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Wc=class extends ji{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Zc=class extends ji{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Yc=class extends ji{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Lh=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Lh||{});var cR=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},Ui=class{constructor(n,{headers:t={},customFetch:r,region:o=Lh.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=vD(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return cR(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(g=>{throw new Wc(g)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new Zc(l);if(!l.ok)throw new Yc(l);let h=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield l.json():h==="application/octet-stream"?f=yield l.blob():h==="text/event-stream"?f=l:h==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var ND=yE(RD(),1),{PostgrestClient:xD,PostgrestQueryBuilder:nq,PostgrestFilterBuilder:rq,PostgrestTransformBuilder:oq,PostgrestBuilder:iq,PostgrestError:DR}=ND.default;function AD(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var OD=AD();var kD="2.11.13";var PD={"X-Client-Info":`realtime-js/${kD}`},FD="1.0.0";var Xc=1e4,LD=1e3,Gi=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Gi||{}),we=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(we||{}),Ge=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Ge||{}),Yh=function(e){return e.websocket="websocket",e}(Yh||{}),cr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(cr||{});var eu=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let c=r.decode(n.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var ho=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var G=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(G||{}),Qh=(e,n,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=ER(s,e,n,o),i),{})},ER=(e,n,t,r)=>{let o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?jD(i,s):Kh(s)},jD=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return CR(n,t)}switch(e){case G.bool:return _R(n);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return bR(n);case G.json:case G.jsonb:return IR(n);case G.timestamp:return TR(n);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Kh(n);default:return Kh(n)}},Kh=e=>e,_R=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bR=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},IR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},CR=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>jD(n,a))}return e},TR=e=>typeof e=="string"?e.replace(" ","T"):e,tu=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var po=class{constructor(n,t,r={},o=Xc){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Wi=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){let i=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),g=l.filter(w=>f.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(c[u]=v)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(n,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=n[a])!==null&&u!==void 0?u:[];if(n[a]=this.cloneDeep(c),l.length>0){let d=n[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=n[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),n[a]=u,o(a,u,c),u.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let o=n[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Yt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Yt||{});var Zi=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new po(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new ho(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Wi(this),this.broadcastEndpointURL=tu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(l=>n?.(Yt.CHANNEL_ERROR,l)),this._onClose(()=>n?.(Yt.CLOSED));let c={},u={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",d=>p(this,[d],function*({postgres_changes:l}){var h;if(this.socket.setAuth(),l===void 0){n?.(Yt.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(h=f?.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<g;w++){let _=f[w],{filter:{event:pe,schema:Te,table:We,filter:Ct}}=_,mr=l&&l[w];if(mr&&mr.event===pe&&mr.schema===Te&&mr.table===We&&mr.filter===Ct)v.push(Object.assign(Object.assign({},_),{id:mr.id}));else{this.unsubscribe(),this.state=we.errored,n?.(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,n&&n(Yt.SUBSCRIBED);return}})).receive("error",l=>{this.state=we.errored,n?.(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{n?.(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return p(this,arguments,function*(n,t={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=l.body)===null||i===void 0?void 0:i.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;let l=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=we.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new po(this,Ge.leave,{},n),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new po(this,n,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ge;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,v,w;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,v,w,_,pe,Te;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let We=f.id,Ct=(g=f.filter)===null||g===void 0?void 0:g.event;return We&&((v=t.ids)===null||v===void 0?void 0:v.includes(We))&&(Ct==="*"||Ct?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let We=(pe=(_=f?.filter)===null||_===void 0?void 0:_.event)===null||pe===void 0?void 0:pe.toLocaleLowerCase();return We==="*"||We===((Te=t?.event)===null||Te===void 0?void 0:Te.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:v,table:w,commit_timestamp:_,type:pe,errors:Te}=g;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:_,eventType:pe,new:{},old:{},errors:Te}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ge.close,{},n)}_onError(n){this._on(Ge.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Qh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Qh(n.columns,n.old_record)),t}};var UD=()=>{},MR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Yi=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=PD,this.params={},this.timeout=Xc,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=UD,this.ref=0,this.logger=UD,this.conn=null,this.sendBuffer=[],this.serializer=new eu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Yh.websocket}`,this.httpEndpoint=tu(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let o=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ho(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=OD),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FD}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return p(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return cr.Connecting;case Gi.open:return cr.Open;case Gi.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}channel(n,t={config:{}}){let r=`realtime:${n}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new Zi(`realtime:${n}`,t,this);return this.channels.push(i),i}}push(n){let{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return p(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:t})}))})}sendHeartbeat(){return p(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(LD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:o,payload:i,ref:s}=t;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ge.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${n}${r}${o}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([MR],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var go=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nu=class extends go{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ur=class extends go{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var RR=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},ou=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},$D=()=>RR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),ru=e=>{if(Array.isArray(e))return e.map(t=>ru(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=ru(r)}),n};var lr=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},Jh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NR=(e,n,t)=>lr(void 0,void 0,void 0,function*(){let r=yield $D();e instanceof r&&!t?.noResolveJson?e.json().then(o=>{n(new nu(Jh(o),e.status||500))}).catch(o=>{n(new ur(Jh(o),o))}):n(new ur(Jh(e),e))}),xR=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),t))};function Ki(e,n,t,r,o,i){return lr(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,xR(n,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>NR(c,a,r))})})}function mo(e,n,t,r){return lr(this,void 0,void 0,function*(){return Ki(e,"GET",n,t,r)})}function bt(e,n,t,r,o){return lr(this,void 0,void 0,function*(){return Ki(e,"POST",n,r,o,t)})}function BD(e,n,t,r,o){return lr(this,void 0,void 0,function*(){return Ki(e,"PUT",n,r,o,t)})}function VD(e,n,t,r){return lr(this,void 0,void 0,function*(){return Ki(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function iu(e,n,t,r,o){return lr(this,void 0,void 0,function*(){return Ki(e,"DELETE",n,r,o,t)})}var xe=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},AR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},su=class{constructor(n,t={},r,o){this.url=n,this.headers=t,this.bucketId=r,this.fetch=ou(o)}uploadOrUpdate(n,t,r,o){return xe(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},HD),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}upload(n,t,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return xe(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,u=Object.assign({upsert:HD.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ee(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new go("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}update(n,t,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}})}copy(n,t,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return xe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield bt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return xe(this,void 0,void 0,function*(){try{let o=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}})}download(n,t){return xe(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield mo(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ee(a))return{data:null,error:a};throw a}})}info(n){return xe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield mo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ru(r),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}exists(n){return xe(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield VD(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ee(r)&&r instanceof ur){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return xe(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}list(n,t,r){return xe(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},AR),t),{prefix:n||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var zD="2.7.1";var qD={"X-Client-Info":`storage-js/${zD}`};var vo=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},au=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},qD),t),this.fetch=ou(r)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}getBucket(n){return vo(this,void 0,void 0,function*(){try{return{data:yield mo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return vo(this,void 0,void 0,function*(){try{return{data:yield BD(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(n){return vo(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}deleteBucket(n){return vo(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(ee(t))return{data:null,error:t};throw t}})}};var Qi=class extends au{constructor(n,t={},r){super(n,t,r)}from(n){return new su(this.url,this.headers,n,this.fetch)}};var GD="2.50.1";var Ji="";typeof Deno<"u"?Ji="deno":typeof document<"u"?Ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ji="react-native":Ji="node";var OR={"X-Client-Info":`supabase-js-${Ji}/${GD}`},WD={headers:OR},ZD={schema:"public"},YD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KD={};cp();var kR=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},PR=e=>{let n;return e?n=e:typeof fetch>"u"?n=sp:n=fetch,(...t)=>n(...t)},FR=()=>typeof Headers>"u"?ap:Headers,QD=(e,n,t)=>{let r=PR(t),o=FR();return(i,s)=>kR(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:e,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var LR=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};function JD(e){return e.endsWith("/")?e:e+"/"}function XD(e,n){var t,r;let{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=n,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>LR(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function eE(e){return Math.round(Date.now()/1e3)+e}function tE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var it=()=>typeof document<"u",dr={tested:!1,writable:!1},bn=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function cu(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}var uu=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},nE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",In=(e,n,t)=>p(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),es=(e,n)=>p(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),lu=(e,n)=>p(null,null,function*(){yield e.removeItem(n)});function jR(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,o,i,s,a,c,u,l=0;for(e=e.replace("-","+").replace("_","/");l<e.length;)s=n.indexOf(e.charAt(l++)),a=n.indexOf(e.charAt(l++)),c=n.indexOf(e.charAt(l++)),u=n.indexOf(e.charAt(l++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|u,t=t+String.fromCharCode(r),c!=64&&o!=0&&(t=t+String.fromCharCode(o)),u!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}var Xi=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Xi.promiseConstructor=Promise;function Xh(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(jR(r))}function rE(e){return p(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function oE(e,n){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function UR(e){return("0"+e.toString(16)).substr(-2)}function fr(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,UR).join("")}function $R(e){return p(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function BR(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function hr(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield $R(e);return BR(t)})}var ts=class extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var du=class extends ts{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function iE(e){return L(e)&&e.name==="AuthApiError"}var yo=class extends ts{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Kt=class extends ts{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qt=class extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},wo=class extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},pr=class extends Kt{constructor(n){super(n,"AuthInvalidCredentialsError",400)}},gr=class extends Kt{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ns=class extends Kt{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Do=class extends Kt{constructor(n,t){super(n,"AuthRetryableFetchError",t)}};function hu(e){return L(e)&&e.name==="AuthRetryableFetchError"}var fu=class extends Kt{constructor(n,t,r){super(n,"AuthWeakPasswordError",t),this.reasons=r}};var VR=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HR=[502,503,504];function sE(e){return p(this,null,function*(){if(!nE(e))throw new Do(Eo(e),0);if(HR.includes(e.status))throw new Do(Eo(e),e.status);let n;try{n=yield e.json()}catch(t){throw new yo(Eo(t),t)}throw typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)?new fu(Eo(n),e.status,n.weak_password.reasons):new du(Eo(n),e.status||500)})}var zR=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function j(e,n,t,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield qR(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function qR(e,n,t,r,o,i){return p(this,null,function*(){let s=zR(n,r,o,i),a;try{a=yield e(t,s)}catch(c){throw console.error(c),new Do(Eo(c),0)}if(a.ok||(yield sE(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield sE(c)}})}function Cn(e){var n;let t=null;GR(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=eE(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function ep(e){let n=Cn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function It(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function aE(e){return{data:e,error:null}}function cE(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=VR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function uE(e){return e}function GR(e){return e.access_token&&e.refresh_token&&e.expires_in}var WR=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},_o=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=uu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return p(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(n,t={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:It})}catch(o){if(L(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return p(this,null,function*(){try{let{options:t}=n,r=WR(n,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:cE,redirectTo:t?.redirectTo})}catch(t){if(L(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return p(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:It})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return p(this,null,function*(){var t,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:uE});if(l.error)throw l.error;let d=yield l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}})}getUserById(n){return p(this,null,function*(){try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:It})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return p(this,null,function*(){try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:It})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return p(this,null,function*(){try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:It})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return p(this,null,function*(){try{let{data:t,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(L(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return p(this,null,function*(){try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}};var pu="2.61.0";var lE="http://localhost:9999",dE="supabase.auth.token";var fE={"X-Client-Info":`gotrue-js/${pu}`},tp=10;var hE={getItem:e=>bn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{bn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{bn()&&globalThis.localStorage.removeItem(e)}};function np(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function pE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ZR={debug:!!(globalThis&&bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},gu=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}};pE();var YR={url:lE,storageKey:dE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fE,flowType:"implicit",debug:!1},rs=30*1e3,gE=3;function KR(e,n,t){return p(this,null,function*(){return yield t()})}var rp=(()=>{class e{constructor(t){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},YR),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new _o({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=uu(o.fetch),this.lock=o.lock||KR,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:bn()?this.storage=hE:(this.memoryStorage={},this.storage=np(this.memoryStorage)):(this.memoryStorage={},this.storage=np(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pu}) ${new Date().toISOString()}`,...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let t=it()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(t);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return L(t)?{error:t}:{error:new yo("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,v=null;if(this.flowType==="pkce"){let w=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,w),g=yield hr(w),v=w===g?"plain":"s256"}s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Cn})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cn})}else throw new pr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ep})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ep})}else throw new pr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new wo}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield es(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Cn});return yield lu(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new wo}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(t){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Cn}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new wo}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in t){let{email:c,options:u}=t,l=null,d=null;if(this.flowType==="pkce"){let f=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,f),l=yield hr(f),d=f===l?"plain":"s256"}let{error:h}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:u}=t,{data:l,error:d}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new pr("You must provide either an email or phone number.")}catch(c){if(L(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return p(this,null,function*(){var r,o;try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Cn});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,c),s=yield hr(c),a=c===s?"plain":"s256"}return yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:aE})}catch(s){if(L(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Qt;let{error:i}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return p(this,null,function*(){try{t.type!="email_change"&&t.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new pr("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(t=>p(this,null,function*(){return t}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o)return{data:{session:t},error:null};let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:It}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:It})}))}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Qt;let c=s.session,u=null,l=null;if(this.flowType==="pkce"&&t.email!=null){let f=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,f),u=yield hr(f),l=f===u?"plain":"s256"}let{data:d,error:h}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:It});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(L(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(t){return Xh(t)}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Qt;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Xh(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=yield this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=yield this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Qt;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t){return p(this,null,function*(){try{if(!it())throw new gr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new gr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new ns("Not a valid PKCE flow url.");let r=cu(window.location.href);if(t){if(!r.code)throw new ns("No code detected.");let{data:Te,error:We}=yield this._exchangeCodeForSession(r.code);if(We)throw We;let Ct=new URL(window.location.href);return Ct.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ct.toString()),{data:{session:Te.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new gr(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=r;if(!s||!c||!a||!l)throw new gr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let g=f-d;g*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,f,d);let{data:w,error:_}=yield this._getUser(s);if(_)throw _;let pe={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:pe,redirectType:r.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let t=cu(window.location.href);return!!(it()&&(t.access_token||t.error_description))}_isPKCEFlow(){return p(this,null,function*(){let t=cu(window.location.href),r=yield es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(iE(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield lu(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(t){let r=tE(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(t,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield hr(a),s=a===i?"plain":"s256"}try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}linkIdentity(t){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(L(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield oE(i=>p(this,null,function*(){return yield rE(i*200),this._debug(r,"refreshing attempt",i),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})}),(i,s,a)=>a&&a.error&&hu(a.error)&&Date.now()+(i+1)*200-o<rs)}catch(o){if(this._debug(r,"error",o),L(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),it()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield es(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((t=o.expires_at)!==null&&t!==void 0?t:1/0)<i+tp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${tp}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),hu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,o;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xi;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Qt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),L(s)){let a={session:null,error:s};return hu(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),yield In(this.storage,this.storageKey,t)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield lu(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rs}ms, refresh threshold is ${gE} ticks`),i<=gE&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof gu)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!it()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=fr();yield In(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield hr(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(u.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:u}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(t=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}}return e.nextInstanceID=0,e})();var QR=rp,op=QR;var mu=class extends op{constructor(n){super(n)}};var JR=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})},vu=class{constructor(n,t,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=JD(n),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let u=`sb-${c.hostname.split(".")[0]}-auth-token`,l={db:ZD,realtime:KD,auth:Object.assign(Object.assign({},YD),{storageKey:u}),global:WD},d=XD(r??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=QD(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xD(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ui(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qi(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return JR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},u,l){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mu({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Yi(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var mE=(e,n,t)=>new vu(e,n,t);var ip={production:!1,supabaseUrl:"https://qpxpavknunjnobazzjnj.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweHBhdmtudW5qbm9iYXp6am5qIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDY5MzI2MSwiZXhwIjoyMDY2MjY5MjYxfQ.HACKEvpnbK7jPyeU_ITmOBwVAALLWkuQ5mCB77gZokk"};var vE=class e{supabase;router=m(qe);_ngZone=m(q);constructor(){this.supabase=mE(ip.supabaseUrl,ip.supabaseKey),this.supabase.auth.onAuthStateChange((n,t)=>{localStorage.setItem("session",JSON.stringify(t?.user)),t?.user&&this._ngZone.run(()=>{this.router.navigate(["/dashboard"])})})}get isLoggedIn(){return localStorage.getItem("session")!=="undefined"}signInWithGoogle(){return p(this,null,function*(){yield this.supabase.auth.signInWithOAuth({provider:"google"})})}signInWithEmail(n){return p(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:n.email,password:n.password})})}signUpWithEmail(n,t,r){return p(this,null,function*(){let o=t??!1,i=r??!1,s=yield this.supabase.auth.signUp({email:n.email,password:n.password,options:{data:{displayName:n.name}}});return s.error||!s.data.user?s:yield this.supabase.from("users").update({admin:t,reader:r}).eq("id",s.data.user.id)})}signOut(){return p(this,null,function*(){yield this.supabase.auth.signOut()})}getCurrentUserId(){return p(this,null,function*(){let{data:n,error:t}=yield this.supabase.auth.getUser();return t||!n.user?"":n.user.id})}getUserInfo(n){return this.supabase.from("users").select("*, teams(id, name)").eq("id",n).single()}getUserTeamId(n){return this.supabase.from("teams").select().eq("id",n).single()}getTeams(){return this.supabase.from("teams").select("*")}updateUser(n,t,r,o){return this.supabase.from("users").update({full_name:t,phone:r,team:o}).eq("id",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})};export{K as a,F as b,H as c,ae as d,Pu as e,ge as f,z as g,C as h,Sr as i,P as j,xo as k,Mr as l,Ao as m,ZE as n,YE as o,oe as p,KE as q,xt as r,QE as s,At as t,JE as u,Rr as v,t_ as w,Bu as x,n_ as y,r_ as z,Vu as A,Me as B,Vs as C,o_ as D,ie as E,D as F,Ys as G,E as H,Pt as I,b as J,I as K,m as L,X as M,Dg as N,Eg as O,kg as P,ue as Q,Y as R,Le as S,x_ as T,$l as U,Br as V,er as W,Ua as X,mt as Y,Ta as Z,$a as _,Yr as $,fb as aa,Va as ba,tt as ca,ev as da,Fb as ea,oI as fa,Qn as ga,Jn as ha,Kr as ia,fe as ja,Ht as ka,qr as la,mf as ma,pn as na,zt as oa,ty as pa,ny as qa,be as ra,q as sa,ec as ta,ai as ua,mn as va,rc as wa,aT as xa,cT as ya,uy as za,Cf as Aa,Tf as Ba,oc as Ca,dT as Da,ly as Ea,ic as Fa,hT as Ga,gT as Ha,mT as Ia,hy as Ja,yT as Ka,py as La,gy as Ma,wT as Na,DT as Oa,ET as Pa,_T as Qa,yy as Ra,OT as Sa,qT as Ta,Iy as Ua,Sf as Va,Cy as Wa,Sy as Xa,ZT as Ya,My as Za,YT as _a,eS as $a,tS as ab,nS as bb,rS as cb,sS as db,cS as eb,Of as fb,dS as gb,fS as hb,ac as ib,mH as jb,vH as kb,di as lb,fi as mb,$S as nb,yH as ob,wH as pb,Gt as qb,vn as rb,qS as sb,Jy as tb,GS as ub,Xy as vb,q2 as wb,u0 as xb,_0 as yb,b0 as zb,_t as Ab,Sh as Bb,qe as Cb,oD as Db,tR as Eb,nR as Fb,mE as Gb,ip as Hb,vE as Ib};
