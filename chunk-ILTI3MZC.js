import{A as L,B as z,C as B,F as D,p as E,q as _,y as A,z as G}from"./chunk-S3JKIO6Y.js";import{a as w,d as x,e as I,h as N,i as P,j as R,l as j,n as k}from"./chunk-OW4O2OYD.js";import{d as b,f as S,g as F,i as M,j as C}from"./chunk-UHPDMIBG.js";import{Jb as n,La as f,Oa as o,Sb as h,Ta as d,Z as p,_a as v,ma as s,pb as a,qb as i,rb as e,sb as u,vb as g,vc as y}from"./chunk-YMT33ZUX.js";import{f as l}from"./chunk-PZ5UXJ7I.js";var U=()=>["/login"],O=class c{constructor(r,m){this.fb=r;this.route=m;this.route.queryParams.subscribe(t=>{t.admin==="true"&&(this.adminSignup=!0),t.reader==="true"&&(this.readerSignup=!0)})}imagePath="assets/images/logo-piacenza-young.jpeg";signupForm;name=s("");email=s("");password=s("");teams=[];adminSignup=!1;readerSignup=!1;auth=p(C);router=p(S);ngOnInit(){return l(this,null,function*(){this.signupForm=this.fb.group({full_name:[""],email:[""],password:[""]})})}signUp(){return l(this,null,function*(){let{error:r}=yield this.auth.signUpWithEmail({name:this.name(),email:this.email(),password:this.password()});r?alert("Error signing up: "+r.message):(alert("Check your email to confirm your account!"),this.router.navigate(["/login"]))})}navigateToLogin(){this.router.navigate(["/login"])}onSubmit(){return l(this,null,function*(){let{error:r}=yield this.auth.signUpWithEmail({name:this.signupForm.value.full_name,email:this.signupForm.value.email,password:this.signupForm.value.password},this.adminSignup,this.readerSignup);r?alert("Errore: "+r.message):(alert("Controlla la tua emailper confermare la registrazione!"),this.router.navigate(["/login"]))})}onCancel(){this.router.navigate(["/"])}static \u0275fac=function(m){return new(m||c)(d(j),d(b))};static \u0275cmp=v({type:c,selectors:[["app-signup"]],decls:22,vars:6,consts:[[1,"container"],[1,"d-flex","justify-content-center"],["alt","Logo",1,"logo","img-fluid",3,"src"],[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","tel"],["matInput","","formControlName","password","type","password"],[1,"justify-content-center","button-group"],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"routerLink"]],template:function(m,t){m&1&&(i(0,"div",0)(1,"div",1),u(2,"img",2),e(),i(3,"h2",1),n(4,"Registrazione"),e(),i(5,"form",3),g("ngSubmit",function(){return t.onSubmit()}),i(6,"mat-form-field",4)(7,"mat-label"),n(8,"Email"),e(),u(9,"input",5),e(),i(10,"mat-form-field",4)(11,"mat-label"),n(12,"Password"),e(),u(13,"input",6),e(),i(14,"div",7)(15,"button",8),g("click",function(){return t.onCancel()}),n(16," Annulla "),e(),i(17,"button",9),n(18," Conferma "),e()()(),i(19,"p",1)(20,"a",10),n(21,"Ti sei gi\xE0 registrato? vai alla Pagina Iniziale"),e()()()),m&2&&(o(2),a("src",t.imagePath,f),o(3),a("formGroup",t.signupForm),o(10),a("disabled",t.signupForm.invalid),o(2),a("disabled",t.signupForm.invalid),o(3),a("routerLink",h(5,U)))},dependencies:[y,k,N,w,x,I,P,R,L,G,A,B,z,_,E,D,F,M],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;max-width:400px;margin:0 auto;padding:24px}.button-group[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:content-distributed;gap:12px}"]})};export{O as Signup};
