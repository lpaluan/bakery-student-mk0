import{a as Qn}from"./chunk-AZJM47JZ.js";import{a as Kn}from"./chunk-O25BKA76.js";import{a as Tn,b as xn,c as Rn,d as wt,e as An,f as Pn,g as Dn,h as Nn,i as Ln,j as L,k as Ct,l as Fn,m as kn,n as Bn,o as On,q as Un,r as qn,s as zn,t as It,u as Hn,v as Vn,w as jn,x as Yn}from"./chunk-LA74PZK4.js";import"./chunk-XLDVBXYL.js";import{b as wn,c as $e,f as Cn,g as In,i as En,j as Sn,k as Mt,l as Xe}from"./chunk-444OL45L.js";import"./chunk-LJ5XHLMQ.js";import{$a as Ke,Ab as D,Bb as N,C as He,E as on,Fb as pn,Gb as Z,Hb as V,Ib as w,Ja as me,Jb as _n,K as rn,Ka as un,Kb as bn,Lb as yn,N as Ve,Na as v,O as bt,P as sn,Pa as mn,Qb as vn,R as je,Ra as Qe,Rb as vt,Sa as yt,U as Ye,Ua as dn,V as ue,X as U,Y as Se,Z as m,Za as I,Zb as ee,_a as de,_b as Mn,a as le,bb as hn,ca as W,cc as Je,da as G,db as he,ea as an,eb as fn,ec as te,f as qe,fa as Te,fb as gn,ga as q,ia as xe,k as A,l as Zt,lb as $,ma as J,mb as fe,nb as ge,o as ce,oa as ln,ob as T,pb as _,qb as b,ra as z,rb as E,sa as cn,sb as We,u as en,ub as pe,v as ze,vb as H,w as tn,wb as X,xb as P,y as nn,yb as _e,zb as Ge}from"./chunk-3TWEQWT2.js";import{a as _t,b as Xt,d as f,f as fo,h as M}from"./chunk-FK42CRUA.js";var mi=f((ra,ui)=>{"use strict";ui.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var j=f(ie=>{"use strict";var Tt,Ko=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ie.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};ie.getSymbolTotalCodewords=function(n){return Ko[n]};ie.getBCHDigit=function(o){let n=0;for(;o!==0;)n++,o>>>=1;return n};ie.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');Tt=n};ie.isKanjiModeEnabled=function(){return typeof Tt<"u"};ie.toSJIS=function(n){return Tt(n)}});var nt=f(S=>{"use strict";S.L={bit:1};S.M={bit:0};S.Q={bit:3};S.H={bit:2};function Wo(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return S.L;case"m":case"medium":return S.M;case"q":case"quartile":return S.Q;case"h":case"high":return S.H;default:throw new Error("Unknown EC Level: "+o)}}S.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};S.from=function(n,e){if(S.isValid(n))return n;try{return Wo(n)}catch{return e}}});var fi=f((la,hi)=>{"use strict";function di(){this.buffer=[],this.length=0}di.prototype={get:function(o){let n=Math.floor(o/8);return(this.buffer[n]>>>7-o%8&1)===1},put:function(o,n){for(let e=0;e<n;e++)this.putBit((o>>>n-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),o&&(this.buffer[n]|=128>>>this.length%8),this.length++}};hi.exports=di});var pi=f((ca,gi)=>{"use strict";function De(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}De.prototype.set=function(o,n,e,t){let i=o*this.size+n;this.data[i]=e,t&&(this.reservedBit[i]=!0)};De.prototype.get=function(o,n){return this.data[o*this.size+n]};De.prototype.xor=function(o,n,e){this.data[o*this.size+n]^=e};De.prototype.isReserved=function(o,n){return this.reservedBit[o*this.size+n]};gi.exports=De});var _i=f(it=>{"use strict";var Go=j().getSymbolSize;it.getRowColCoords=function(n){if(n===1)return[];let e=Math.floor(n/7)+2,t=Go(n),i=t===145?26:Math.ceil((t-13)/(2*e-2))*2,r=[t-7];for(let s=1;s<e-1;s++)r[s]=r[s-1]-i;return r.push(6),r.reverse()};it.getPositions=function(n){let e=[],t=it.getRowColCoords(n),i=t.length;for(let r=0;r<i;r++)for(let s=0;s<i;s++)r===0&&s===0||r===0&&s===i-1||r===i-1&&s===0||e.push([t[r],t[s]]);return e}});var vi=f(yi=>{"use strict";var Jo=j().getSymbolSize,bi=7;yi.getPositions=function(n){let e=Jo(n);return[[0,0],[e-bi,0],[0,e-bi]]}});var Mi=f(g=>{"use strict";g.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var oe={N1:3,N2:3,N3:40,N4:10};g.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};g.from=function(n){return g.isValid(n)?parseInt(n,10):void 0};g.getPenaltyN1=function(n){let e=n.size,t=0,i=0,r=0,s=null,a=null;for(let l=0;l<e;l++){i=r=0,s=a=null;for(let c=0;c<e;c++){let u=n.get(l,c);u===s?i++:(i>=5&&(t+=oe.N1+(i-5)),s=u,i=1),u=n.get(c,l),u===a?r++:(r>=5&&(t+=oe.N1+(r-5)),a=u,r=1)}i>=5&&(t+=oe.N1+(i-5)),r>=5&&(t+=oe.N1+(r-5))}return t};g.getPenaltyN2=function(n){let e=n.size,t=0;for(let i=0;i<e-1;i++)for(let r=0;r<e-1;r++){let s=n.get(i,r)+n.get(i,r+1)+n.get(i+1,r)+n.get(i+1,r+1);(s===4||s===0)&&t++}return t*oe.N2};g.getPenaltyN3=function(n){let e=n.size,t=0,i=0,r=0;for(let s=0;s<e;s++){i=r=0;for(let a=0;a<e;a++)i=i<<1&2047|n.get(s,a),a>=10&&(i===1488||i===93)&&t++,r=r<<1&2047|n.get(a,s),a>=10&&(r===1488||r===93)&&t++}return t*oe.N3};g.getPenaltyN4=function(n){let e=0,t=n.data.length;for(let r=0;r<t;r++)e+=n.data[r];return Math.abs(Math.ceil(e*100/t/5)-10)*oe.N4};function $o(o,n,e){switch(o){case g.Patterns.PATTERN000:return(n+e)%2===0;case g.Patterns.PATTERN001:return n%2===0;case g.Patterns.PATTERN010:return e%3===0;case g.Patterns.PATTERN011:return(n+e)%3===0;case g.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(e/3))%2===0;case g.Patterns.PATTERN101:return n*e%2+n*e%3===0;case g.Patterns.PATTERN110:return(n*e%2+n*e%3)%2===0;case g.Patterns.PATTERN111:return(n*e%3+(n+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}g.applyMask=function(n,e){let t=e.size;for(let i=0;i<t;i++)for(let r=0;r<t;r++)e.isReserved(r,i)||e.xor(r,i,$o(n,r,i))};g.getBestMask=function(n,e){let t=Object.keys(g.Patterns).length,i=0,r=1/0;for(let s=0;s<t;s++){e(s),g.applyMask(s,n);let a=g.getPenaltyN1(n)+g.getPenaltyN2(n)+g.getPenaltyN3(n)+g.getPenaltyN4(n);g.applyMask(s,n),a<r&&(r=a,i=s)}return i}});var Rt=f(xt=>{"use strict";var Y=nt(),ot=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];xt.getBlocksCount=function(n,e){switch(e){case Y.L:return ot[(n-1)*4+0];case Y.M:return ot[(n-1)*4+1];case Y.Q:return ot[(n-1)*4+2];case Y.H:return ot[(n-1)*4+3];default:return}};xt.getTotalCodewordsCount=function(n,e){switch(e){case Y.L:return rt[(n-1)*4+0];case Y.M:return rt[(n-1)*4+1];case Y.Q:return rt[(n-1)*4+2];case Y.H:return rt[(n-1)*4+3];default:return}}});var wi=f(at=>{"use strict";var Ne=new Uint8Array(512),st=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)Ne[e]=n,st[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)Ne[e]=Ne[e-255]})();at.log=function(n){if(n<1)throw new Error("log("+n+")");return st[n]};at.exp=function(n){return Ne[n]};at.mul=function(n,e){return n===0||e===0?0:Ne[st[n]+st[e]]}});var Ci=f(Le=>{"use strict";var At=wi();Le.mul=function(n,e){let t=new Uint8Array(n.length+e.length-1);for(let i=0;i<n.length;i++)for(let r=0;r<e.length;r++)t[i+r]^=At.mul(n[i],e[r]);return t};Le.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){let i=t[0];for(let s=0;s<e.length;s++)t[s]^=At.mul(e[s],i);let r=0;for(;r<t.length&&t[r]===0;)r++;t=t.slice(r)}return t};Le.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=Le.mul(e,new Uint8Array([1,At.exp(t)]));return e}});var Si=f((pa,Ei)=>{"use strict";var Ii=Ci();function Pt(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}Pt.prototype.initialize=function(n){this.degree=n,this.genPoly=Ii.generateECPolynomial(this.degree)};Pt.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(n.length+this.degree);e.set(n);let t=Ii.mod(e,this.genPoly),i=this.degree-t.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(t,i),r}return t};Ei.exports=Pt});var Dt=f(Ti=>{"use strict";Ti.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var Nt=f(k=>{"use strict";var xi="[0-9]+",Xo="[A-Z $%*+\\-./:]+",Fe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fe=Fe.replace(/u/g,"\\u");var Zo="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fe+`)(?:.|[\r
]))+`;k.KANJI=new RegExp(Fe,"g");k.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");k.BYTE=new RegExp(Zo,"g");k.NUMERIC=new RegExp(xi,"g");k.ALPHANUMERIC=new RegExp(Xo,"g");var er=new RegExp("^"+Fe+"$"),tr=new RegExp("^"+xi+"$"),nr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");k.testKanji=function(n){return er.test(n)};k.testNumeric=function(n){return tr.test(n)};k.testAlphanumeric=function(n){return nr.test(n)}});var Q=f(y=>{"use strict";var ir=Dt(),Lt=Nt();y.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};y.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};y.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};y.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};y.MIXED={bit:-1};y.getCharCountIndicator=function(n,e){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!ir.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?n.ccBits[0]:e<27?n.ccBits[1]:n.ccBits[2]};y.getBestModeForData=function(n){return Lt.testNumeric(n)?y.NUMERIC:Lt.testAlphanumeric(n)?y.ALPHANUMERIC:Lt.testKanji(n)?y.KANJI:y.BYTE};y.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};y.isValid=function(n){return n&&n.bit&&n.ccBits};function or(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return y.NUMERIC;case"alphanumeric":return y.ALPHANUMERIC;case"kanji":return y.KANJI;case"byte":return y.BYTE;default:throw new Error("Unknown mode: "+o)}}y.from=function(n,e){if(y.isValid(n))return n;try{return or(n)}catch{return e}}});var Ni=f(re=>{"use strict";var lt=j(),rr=Rt(),Ri=nt(),K=Q(),Ft=Dt(),Pi=7973,Ai=lt.getBCHDigit(Pi);function sr(o,n,e){for(let t=1;t<=40;t++)if(n<=re.getCapacity(t,e,o))return t}function Di(o,n){return K.getCharCountIndicator(o,n)+4}function ar(o,n){let e=0;return o.forEach(function(t){let i=Di(t.mode,n);e+=i+t.getBitsLength()}),e}function lr(o,n){for(let e=1;e<=40;e++)if(ar(o,e)<=re.getCapacity(e,n,K.MIXED))return e}re.from=function(n,e){return Ft.isValid(n)?parseInt(n,10):e};re.getCapacity=function(n,e,t){if(!Ft.isValid(n))throw new Error("Invalid QR Code version");typeof t>"u"&&(t=K.BYTE);let i=lt.getSymbolTotalCodewords(n),r=rr.getTotalCodewordsCount(n,e),s=(i-r)*8;if(t===K.MIXED)return s;let a=s-Di(t,n);switch(t){case K.NUMERIC:return Math.floor(a/10*3);case K.ALPHANUMERIC:return Math.floor(a/11*2);case K.KANJI:return Math.floor(a/13);case K.BYTE:default:return Math.floor(a/8)}};re.getBestVersionForData=function(n,e){let t,i=Ri.from(e,Ri.M);if(Array.isArray(n)){if(n.length>1)return lr(n,i);if(n.length===0)return 1;t=n[0]}else t=n;return sr(t.mode,t.getLength(),i)};re.getEncodedBits=function(n){if(!Ft.isValid(n)||n<7)throw new Error("Invalid QR Code version");let e=n<<12;for(;lt.getBCHDigit(e)-Ai>=0;)e^=Pi<<lt.getBCHDigit(e)-Ai;return n<<12|e}});var Bi=f(ki=>{"use strict";var kt=j(),Fi=1335,cr=21522,Li=kt.getBCHDigit(Fi);ki.getEncodedBits=function(n,e){let t=n.bit<<3|e,i=t<<10;for(;kt.getBCHDigit(i)-Li>=0;)i^=Fi<<kt.getBCHDigit(i)-Li;return(t<<10|i)^cr}});var Ui=f((wa,Oi)=>{"use strict";var ur=Q();function ve(o){this.mode=ur.NUMERIC,this.data=o.toString()}ve.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};ve.prototype.getLength=function(){return this.data.length};ve.prototype.getBitsLength=function(){return ve.getBitsLength(this.data.length)};ve.prototype.write=function(n){let e,t,i;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),i=parseInt(t,10),n.put(i,10);let r=this.data.length-e;r>0&&(t=this.data.substr(e),i=parseInt(t,10),n.put(i,r*3+1))};Oi.exports=ve});var zi=f((Ca,qi)=>{"use strict";var mr=Q(),Bt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Me(o){this.mode=mr.ALPHANUMERIC,this.data=o}Me.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};Me.prototype.getLength=function(){return this.data.length};Me.prototype.getBitsLength=function(){return Me.getBitsLength(this.data.length)};Me.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let t=Bt.indexOf(this.data[e])*45;t+=Bt.indexOf(this.data[e+1]),n.put(t,11)}this.data.length%2&&n.put(Bt.indexOf(this.data[e]),6)};qi.exports=Me});var Vi=f((Ia,Hi)=>{"use strict";var dr=Q();function we(o){this.mode=dr.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}we.getBitsLength=function(n){return n*8};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(o){for(let n=0,e=this.data.length;n<e;n++)o.put(this.data[n],8)};Hi.exports=we});var Yi=f((Ea,ji)=>{"use strict";var hr=Q(),fr=j();function Ce(o){this.mode=hr.KANJI,this.data=o}Ce.getBitsLength=function(n){return n*13};Ce.prototype.getLength=function(){return this.data.length};Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)};Ce.prototype.write=function(o){let n;for(n=0;n<this.data.length;n++){let e=fr.toSJIS(this.data[n]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),o.put(e,13)}};ji.exports=Ce});var Qi=f((Sa,Ot)=>{"use strict";var ke={single_source_shortest_paths:function(o,n,e){var t={},i={};i[n]=0;var r=ke.PriorityQueue.make();r.push(n,0);for(var s,a,l,c,u,p,d,C,B;!r.empty();){s=r.pop(),a=s.value,c=s.cost,u=o[a]||{};for(l in u)u.hasOwnProperty(l)&&(p=u[l],d=c+p,C=i[l],B=typeof i[l]>"u",(B||C>d)&&(i[l]=d,r.push(l,d),t[l]=a))}if(typeof e<"u"&&typeof i[e]>"u"){var O=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(O)}return t},extract_shortest_path_from_predecessor_list:function(o,n){for(var e=[],t=n,i;t;)e.push(t),i=o[t],t=o[t];return e.reverse(),e},find_path:function(o,n,e){var t=ke.single_source_shortest_paths(o,n,e);return ke.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(o){var n=ke.PriorityQueue,e={},t;o=o||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=o.sorter||n.default_sorter,e},default_sorter:function(o,n){return o.cost-n.cost},push:function(o,n){var e={value:o,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Ot<"u"&&(Ot.exports=ke)});var eo=f(Ie=>{"use strict";var h=Q(),Gi=Ui(),Ji=zi(),$i=Vi(),Xi=Yi(),Be=Nt(),ct=j(),gr=Qi();function Ki(o){return unescape(encodeURIComponent(o)).length}function Oe(o,n,e){let t=[],i;for(;(i=o.exec(e))!==null;)t.push({data:i[0],index:i.index,mode:n,length:i[0].length});return t}function Zi(o){let n=Oe(Be.NUMERIC,h.NUMERIC,o),e=Oe(Be.ALPHANUMERIC,h.ALPHANUMERIC,o),t,i;return ct.isKanjiModeEnabled()?(t=Oe(Be.BYTE,h.BYTE,o),i=Oe(Be.KANJI,h.KANJI,o)):(t=Oe(Be.BYTE_KANJI,h.BYTE,o),i=[]),n.concat(e,t,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Ut(o,n){switch(n){case h.NUMERIC:return Gi.getBitsLength(o);case h.ALPHANUMERIC:return Ji.getBitsLength(o);case h.KANJI:return Xi.getBitsLength(o);case h.BYTE:return $i.getBitsLength(o)}}function pr(o){return o.reduce(function(n,e){let t=n.length-1>=0?n[n.length-1]:null;return t&&t.mode===e.mode?(n[n.length-1].data+=e.data,n):(n.push(e),n)},[])}function _r(o){let n=[];for(let e=0;e<o.length;e++){let t=o[e];switch(t.mode){case h.NUMERIC:n.push([t,{data:t.data,mode:h.ALPHANUMERIC,length:t.length},{data:t.data,mode:h.BYTE,length:t.length}]);break;case h.ALPHANUMERIC:n.push([t,{data:t.data,mode:h.BYTE,length:t.length}]);break;case h.KANJI:n.push([t,{data:t.data,mode:h.BYTE,length:Ki(t.data)}]);break;case h.BYTE:n.push([{data:t.data,mode:h.BYTE,length:Ki(t.data)}])}}return n}function br(o,n){let e={},t={start:{}},i=["start"];for(let r=0;r<o.length;r++){let s=o[r],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=""+r+l;a.push(u),e[u]={node:c,lastCount:0},t[u]={};for(let p=0;p<i.length;p++){let d=i[p];e[d]&&e[d].node.mode===c.mode?(t[d][u]=Ut(e[d].lastCount+c.length,c.mode)-Ut(e[d].lastCount,c.mode),e[d].lastCount+=c.length):(e[d]&&(e[d].lastCount=c.length),t[d][u]=Ut(c.length,c.mode)+4+h.getCharCountIndicator(c.mode,n))}}i=a}for(let r=0;r<i.length;r++)t[i[r]].end=0;return{map:t,table:e}}function Wi(o,n){let e,t=h.getBestModeForData(o);if(e=h.from(n,t),e!==h.BYTE&&e.bit<t.bit)throw new Error('"'+o+'" cannot be encoded with mode '+h.toString(e)+`.
 Suggested mode is: `+h.toString(t));switch(e===h.KANJI&&!ct.isKanjiModeEnabled()&&(e=h.BYTE),e){case h.NUMERIC:return new Gi(o);case h.ALPHANUMERIC:return new Ji(o);case h.KANJI:return new Xi(o);case h.BYTE:return new $i(o)}}Ie.fromArray=function(n){return n.reduce(function(e,t){return typeof t=="string"?e.push(Wi(t,null)):t.data&&e.push(Wi(t.data,t.mode)),e},[])};Ie.fromString=function(n,e){let t=Zi(n,ct.isKanjiModeEnabled()),i=_r(t),r=br(i,e),s=gr.find_path(r.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(r.table[s[l]].node);return Ie.fromArray(pr(a))};Ie.rawSplit=function(n){return Ie.fromArray(Zi(n,ct.isKanjiModeEnabled()))}});var no=f(to=>{"use strict";var mt=j(),qt=nt(),yr=fi(),vr=pi(),Mr=_i(),wr=vi(),Vt=Mi(),jt=Rt(),Cr=Si(),ut=Ni(),Ir=Bi(),Er=Q(),zt=eo();function Sr(o,n){let e=o.size,t=wr.getPositions(n);for(let i=0;i<t.length;i++){let r=t[i][0],s=t[i][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||e<=r+a))for(let l=-1;l<=7;l++)s+l<=-1||e<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?o.set(r+a,s+l,!0,!0):o.set(r+a,s+l,!1,!0))}}function Tr(o){let n=o.size;for(let e=8;e<n-8;e++){let t=e%2===0;o.set(e,6,t,!0),o.set(6,e,t,!0)}}function xr(o,n){let e=Mr.getPositions(n);for(let t=0;t<e.length;t++){let i=e[t][0],r=e[t][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?o.set(i+s,r+a,!0,!0):o.set(i+s,r+a,!1,!0)}}function Rr(o,n){let e=o.size,t=ut.getEncodedBits(n),i,r,s;for(let a=0;a<18;a++)i=Math.floor(a/3),r=a%3+e-8-3,s=(t>>a&1)===1,o.set(i,r,s,!0),o.set(r,i,s,!0)}function Ht(o,n,e){let t=o.size,i=Ir.getEncodedBits(n,e),r,s;for(r=0;r<15;r++)s=(i>>r&1)===1,r<6?o.set(r,8,s,!0):r<8?o.set(r+1,8,s,!0):o.set(t-15+r,8,s,!0),r<8?o.set(8,t-r-1,s,!0):r<9?o.set(8,15-r-1+1,s,!0):o.set(8,15-r-1,s,!0);o.set(t-8,8,1,!0)}function Ar(o,n){let e=o.size,t=-1,i=e-1,r=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!o.isReserved(i,a-l)){let c=!1;s<n.length&&(c=(n[s]>>>r&1)===1),o.set(i,a-l,c),r--,r===-1&&(s++,r=7)}if(i+=t,i<0||e<=i){i-=t,t=-t;break}}}function Pr(o,n,e){let t=new yr;e.forEach(function(l){t.put(l.mode.bit,4),t.put(l.getLength(),Er.getCharCountIndicator(l.mode,o)),l.write(t)});let i=mt.getSymbolTotalCodewords(o),r=jt.getTotalCodewordsCount(o,n),s=(i-r)*8;for(t.getLengthInBits()+4<=s&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(0);let a=(s-t.getLengthInBits())/8;for(let l=0;l<a;l++)t.put(l%2?17:236,8);return Dr(t,o,n)}function Dr(o,n,e){let t=mt.getSymbolTotalCodewords(n),i=jt.getTotalCodewordsCount(n,e),r=t-i,s=jt.getBlocksCount(n,e),a=t%s,l=s-a,c=Math.floor(t/s),u=Math.floor(r/s),p=u+1,d=c-u,C=new Cr(d),B=0,O=new Array(s),Jt=new Array(s),ft=0,ho=new Uint8Array(o.buffer);for(let ae=0;ae<s;ae++){let pt=ae<l?u:p;O[ae]=ho.slice(B,B+pt),Jt[ae]=C.encode(O[ae]),B+=pt,ft=Math.max(ft,pt)}let gt=new Uint8Array(t),$t=0,x,R;for(x=0;x<ft;x++)for(R=0;R<s;R++)x<O[R].length&&(gt[$t++]=O[R][x]);for(x=0;x<d;x++)for(R=0;R<s;R++)gt[$t++]=Jt[R][x];return gt}function Nr(o,n,e,t){let i;if(Array.isArray(o))i=zt.fromArray(o);else if(typeof o=="string"){let c=n;if(!c){let u=zt.rawSplit(o);c=ut.getBestVersionForData(u,e)}i=zt.fromString(o,c||40)}else throw new Error("Invalid data");let r=ut.getBestVersionForData(i,e);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=r;else if(n<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let s=Pr(n,e,i),a=mt.getSymbolSize(n),l=new vr(a);return Sr(l,n),Tr(l),xr(l,n),Ht(l,e,0),n>=7&&Rr(l,n),Ar(l,s),isNaN(t)&&(t=Vt.getBestMask(l,Ht.bind(null,l,e))),Vt.applyMask(t,l),Ht(l,e,t),{modules:l,version:n,errorCorrectionLevel:e,maskPattern:t,segments:i}}to.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let t=qt.M,i,r;return typeof e<"u"&&(t=qt.from(e.errorCorrectionLevel,qt.M),i=ut.from(e.version),r=Vt.from(e.maskPattern),e.toSJISFunc&&mt.setToSJISFunction(e.toSJISFunc)),Nr(n,i,t,r)}});var Yt=f(se=>{"use strict";function io(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let n=o.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+o);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");let e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}se.getOptions=function(n){n||(n={}),n.color||(n.color={});let e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:t,scale:t?4:i,margin:e,color:{dark:io(n.color.dark||"#000000ff"),light:io(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};se.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale};se.getImageWidth=function(n,e){let t=se.getScale(n,e);return Math.floor((n+e.margin*2)*t)};se.qrToImageData=function(n,e,t){let i=e.modules.size,r=e.modules.data,s=se.getScale(i,t),a=Math.floor((i+t.margin*2)*s),l=t.margin*s,c=[t.color.light,t.color.dark];for(let u=0;u<a;u++)for(let p=0;p<a;p++){let d=(u*a+p)*4,C=t.color.light;if(u>=l&&p>=l&&u<a-l&&p<a-l){let B=Math.floor((u-l)/s),O=Math.floor((p-l)/s);C=c[r[B*i+O]?1:0]}n[d++]=C.r,n[d++]=C.g,n[d++]=C.b,n[d]=C.a}}});var oo=f(dt=>{"use strict";var Qt=Yt();function Lr(o,n,e){o.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=e,n.width=e,n.style.height=e+"px",n.style.width=e+"px"}function Fr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}dt.render=function(n,e,t){let i=t,r=e;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),e||(r=Fr()),i=Qt.getOptions(i);let s=Qt.getImageWidth(n.modules.size,i),a=r.getContext("2d"),l=a.createImageData(s,s);return Qt.qrToImageData(l.data,n,i),Lr(a,r,s),a.putImageData(l,0,0),r};dt.renderToDataURL=function(n,e,t){let i=t;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),i||(i={});let r=dt.render(n,e,i),s=i.type||"image/png",a=i.rendererOpts||{};return r.toDataURL(s,a.quality)}});var ao=f(so=>{"use strict";var kr=Yt();function ro(o,n){let e=o.a/255,t=n+'="'+o.hex+'"';return e<1?t+" "+n+'-opacity="'+e.toFixed(2).slice(1)+'"':t}function Kt(o,n,e){let t=o+n;return typeof e<"u"&&(t+=" "+e),t}function Br(o,n,e){let t="",i=0,r=!1,s=0;for(let a=0;a<o.length;a++){let l=Math.floor(a%n),c=Math.floor(a/n);!l&&!r&&(r=!0),o[a]?(s++,a>0&&l>0&&o[a-1]||(t+=r?Kt("M",l+e,.5+c+e):Kt("m",i,0),i=0,r=!1),l+1<n&&o[a+1]||(t+=Kt("h",s),s=0)):i++}return t}so.render=function(n,e,t){let i=kr.getOptions(e),r=n.modules.size,s=n.modules.data,a=r+i.margin*2,l=i.color.light.a?"<path "+ro(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+ro(i.color.dark,"stroke")+' d="'+Br(s,r,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof t=="function"&&t(null,d),d}});var co=f(Ue=>{"use strict";var Or=mi(),Wt=no(),lo=oo(),Ur=ao();function Gt(o,n,e,t,i){let r=[].slice.call(arguments,1),s=r.length,a=typeof r[s-1]=="function";if(!a&&!Or())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=e,e=n,n=t=void 0):s===3&&(n.getContext&&typeof i>"u"?(i=t,t=void 0):(i=t,t=e,e=n,n=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=n,n=t=void 0):s===2&&!n.getContext&&(t=e,e=n,n=void 0),new Promise(function(l,c){try{let u=Wt.create(e,t);l(o(u,n,t))}catch(u){c(u)}})}try{let l=Wt.create(e,t);i(null,o(l,n,t))}catch(l){i(l)}}Ue.create=Wt.create;Ue.toCanvas=Gt.bind(null,lo.render);Ue.toDataURL=Gt.bind(null,lo.renderToDataURL);Ue.toString=Gt.bind(null,function(o,n,e){return Ur.render(o,e)})});var be=class o{supabase;constructor(){this.supabase=Sn(Mt.supabaseUrl,Mt.supabaseKey)}insertMatch(n){return M(this,null,function*(){try{let{data:e,error:t}=yield this.supabase.from("matches").insert({opponent:n});t&&alert(t.message)}catch(e){alert(e)}})}listMatches(){return M(this,null,function*(){try{let{data:n,error:e}=yield this.supabase.from("matches").select();return e&&alert(e.message),n}catch(n){throw n}})}nextMatch(){return M(this,null,function*(){let n=new Date;return n.setHours(0,0,0,0),this.supabase.from("matches").select("*").gte("matchdatetime",n.toISOString()).order("matchdatetime",{ascending:!0}).single()})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"root"})};var go=["*",[["mat-toolbar-row"]]],po=["*","mat-toolbar-row"],_o=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ke({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return o})(),Wn=(()=>{class o{_elementRef=m(z);_platform=m(Tn);_document=m(q);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(t&1&&_e(r,_o,5),t&2){let s;D(s=N())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(V(i.color?"mat-"+i.color:""),Z("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:po,decls:2,vars:0,template:function(t,i){t&1&&(X(go),P(0),P(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return o})();var Gn=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=de({type:o});static \u0275inj=ue({imports:[L,L]})}return o})();var Ze;function vo(){if(Ze===void 0&&(Ze=null,typeof window<"u")){let o=window;o.trustedTypes!==void 0&&(Ze=o.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Ze}function Re(o){return vo()?.createHTML(o)||o}function Jn(o){return Error(`Unable to find icon with the name "${o}"`)}function Mo(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function $n(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function Xn(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}var F=class{url;svgText;options;svgElement;constructor(n,e,t){this.url=n,this.svgText=e,this.options=t}},ei=(()=>{class o{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,i,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,r){return this._addSvgIconConfig(e,t,new F(i,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,r){let s=this._sanitizer.sanitize(me.HTML,i);if(!s)throw Xn(i);let a=Re(s);return this._addSvgIconConfig(e,t,new F("",a,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new F(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let r=this._sanitizer.sanitize(me.HTML,t);if(!r)throw Xn(t);let s=Re(r);return this._addSvgIconSetConfig(e,new F("",s,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(me.RESOURCE_URL,e);if(!t)throw $n(e);let i=this._cachedIconsByUrl.get(t);return i?A(et(i)):this._loadSvgIconFromConfig(new F(e,null)).pipe(je(r=>this._cachedIconsByUrl.set(t,r)),ce(r=>et(r)))}getNamedSvgIcon(e,t=""){let i=Zn(t,e),r=this._svgIconConfigs.get(i);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(i,r),this._getSvgFromConfig(r);let s=this._iconSetConfigs.get(t);return s?this._getSvgFromIconSetConfigs(e,s):Zt(Jn(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?A(et(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ce(t=>et(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return A(i);let r=t.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(nn(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(me.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),A(null)})));return en(r).pipe(ce(()=>{let s=this._extractIconWithNameFromAnySet(e,t);if(!s)throw Jn(e);return s}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let r=t[i];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(s,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(je(t=>e.svgText=t),ce(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?A(null):this._fetchIcon(e).pipe(je(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let r=e.querySelector(`[id="${t}"]`);if(!r)return null;let s=r.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Re("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(Re("<svg></svg>")),i=e.attributes;for(let r=0;r<i.length;r++){let{name:s,value:a}=i[r];s!=="id"&&t.setAttribute(s,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,r=i?.withCredentials??!1;if(!this._httpClient)throw Mo();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let s=this._sanitizer.sanitize(me.RESOURCE_URL,t);if(!s)throw $n(t);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(ce(c=>Re(c)),on(()=>this._inProgressUrlFetches.delete(s)),rn());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(Zn(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let r=this._resolvers[i](t,e);if(r)return wo(r)?new F(r.url,null,r.options):new F(r,null)}}static \u0275fac=function(t){return new(t||o)(Se(wn,8),Se($e),Se(q,8),Se(xe))};static \u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function et(o){return o.cloneNode(!0)}function Zn(o,n){return o+":"+n}function wo(o){return!!(o.url&&o.options)}var Co=["*"],Io=new U("MAT_ICON_DEFAULT_OPTIONS"),Eo=new U("mat-icon-location",{providedIn:"root",factory:So});function So(){let o=m(q),n=o?o.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}var ti=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],To=ti.map(o=>`[${o}]`).join(", "),xo=/^url\(['"]?#(.*?)['"]?\)$/,ni=(()=>{class o{_elementRef=m(z);_iconRegistry=m(ei);_location=m(Eo);_errorHandler=m(xe);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=le.EMPTY;constructor(){let e=m(new Mn("aria-hidden"),{optional:!0}),t=m(Io,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,r)=>{i.forEach(s=>{r.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(To),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)ti.forEach(s=>{let a=t[r],l=a.getAttribute(s),c=l?l.match(xo):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(He(1)).subscribe(r=>this._setSvgElement(r),r=>{let s=`Error retrieving icon ${t}:${i}! ${r.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&($("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),V(i.color?"mat-"+i.color:""),Z("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",te],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Co,decls:1,vars:0,template:function(t,i){t&1&&(X(),P(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return o})(),ii=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=de({type:o});static \u0275inj=ue({imports:[L,L]})}return o})();var Fo=["mat-menu-item",""],ko=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Bo=["mat-icon, [matMenuItemIcon]","*"];function Oo(o,n){o&1&&(an(),_(0,"svg",2),E(1,"polygon",3),b())}var Uo=["*"];function qo(o,n){if(o&1){let e=We();_(0,"div",0),pe("click",function(){W(e);let i=H();return G(i.closed.emit("click"))})("animationstart",function(i){W(e);let r=H();return G(r._onAnimationStart(i.animationName))})("animationend",function(i){W(e);let r=H();return G(r._onAnimationDone(i.animationName))})("animationcancel",function(i){W(e);let r=H();return G(r._onAnimationDone(i.animationName))}),_(1,"div",1),P(2),b()()}if(o&2){let e=H();V(e._classList),Z("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),T("id",e.panelId),$("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var St=new U("MAT_MENU_PANEL"),Pe=(()=>{class o{_elementRef=m(z);_document=m(q);_focusMonitor=m(wt);_parentMenu=m(St,{optional:!0});_changeDetectorRef=m(Je);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new qe;_focused=new qe;_highlighted=!1;_triggersSubmenu=!1;constructor(){m(An).load(kn),this._parentMenu?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&pe("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&($("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Z("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",te],disableRipple:[2,"disableRipple","disableRipple",te]},exportAs:["matMenuItem"],attrs:Fo,ngContentSelectors:Bo,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(X(ko),P(0),_(1,"span",0),P(2,1),b(),E(3,"div",1),fe(4,Oo,2,0,":svg:svg",2)),t&2&&(v(3),T("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),v(),ge(i._triggersSubmenu?4:-1))},dependencies:[Fn],encapsulation:2,changeDetection:0})}return o})();var zo=new U("MatMenuContent");var Ho=new U("mat-menu-default-options",{providedIn:"root",factory:Vo});function Vo(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Et="_mat-menu-enter",tt="_mat-menu-exit",ye=(()=>{class o{_elementRef=m(z);_changeDetectorRef=m(Je);_injector=m(Te);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Ct();_allItems;_directDescendantItems=new cn;_classList={};_panelAnimationState="void";_animationDone=new qe;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,i=_t({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{i[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{i[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new he;close=this.closed;panelId=m(Pn).getId("mat-menu-panel-");constructor(){let e=m(Ho);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Nn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),bt(e=>ze(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),r=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[r]&&!i[r].disabled?t.setActiveItem(r):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Ve(this._directDescendantItems),bt(t=>ze(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:Dn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=gn(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Xt(_t({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let t=e===tt;(t||e===Et)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Et||e===tt)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(tt),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Et:tt)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Ve(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["mat-menu"]],contentQueries:function(t,i,r){if(t&1&&(_e(r,zo,5),_e(r,Pe,5),_e(r,Pe,4)),t&2){let s;D(s=N())&&(i.lazyContent=s.first),D(s=N())&&(i._allItems=s),D(s=N())&&(i.items=s)}},viewQuery:function(t,i){if(t&1&&Ge(mn,5),t&2){let r;D(r=N())&&(i.templateRef=r.first)}},hostVars:3,hostBindings:function(t,i){t&2&&$("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",te],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:te(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[vn([{provide:St,useExisting:o}])],ngContentSelectors:Uo,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(X(),hn(0,qo,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return o})(),si=new U("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=m(Te);return()=>It(o)}});function jo(o){let n=m(Te);return()=>It(n)}var Yo={provide:si,deps:[],useFactory:jo};var Ae=new WeakMap,ai=(()=>{class o{_element=m(z);_viewContainerRef=m(dn);_menuItemInstance=m(Pe,{optional:!0,self:!0});_dir=m(Ln,{optional:!0});_focusMonitor=m(wt);_ngZone=m(fn);_injector=m(Te);_scrollStrategy=m(si);_changeDetectorRef=m(Je);_animationsDisabled=Ct();_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=le.EMPTY;_hoverSubscription=le.EMPTY;_menuCloseSubscription=le.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new he;onMenuOpen=this.menuOpened;menuClosed=new he;onMenuClose=this.menuClosed;constructor(){let e=m(St,{optional:!0}),t=m(Qe);this._parentMaterialMenu=e instanceof ye?e:void 0,this._cleanupTouchstart=t.listen(this._element.nativeElement,"touchstart",i=>{Rn(i)||(this._openedBy="touch")},{passive:!0})}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Ae.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=Ae.get(e);Ae.set(e,this),t&&t!==this&&t.closeMenu();let i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.hasAttached()||(i.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof ye&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(sn(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let t=this._overlayRef,i=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof ye&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(He(1)).subscribe(()=>{t.detach(),i.lazyContent?.detach()}),i._setIsOpen(!1)):(t.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&Ae.delete(i),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=jn(this._injector,t),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof ye&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new Hn({positionStrategy:Vn(this._injector,this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let r=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,s)})})}_setPosition(e,t){let[i,r]=e.xPosition==="before"?["end","start"]:["start","end"],[s,a]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,p]=[i,r],d=0;if(this.triggersSubmenu()){if(p=i=e.xPosition==="before"?"start":"end",r=u=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let C=this._parentMaterialMenu.items.first;this._parentInnerPadding=C?C._getHostElement().offsetTop:0}d=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");t.withPositions([{originX:i,originY:l,overlayX:u,overlayY:s,offsetY:d},{originX:r,originY:l,overlayX:p,overlayY:s,offsetY:d},{originX:i,originY:c,overlayX:u,overlayY:a,offsetY:-d},{originX:r,originY:c,overlayX:p,overlayY:a,offsetY:-d}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:A(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tn(s=>this._menuOpen&&s!==this._menuItemInstance)):A();return ze(e,i,r,t)}_handleMousedown(e){xn(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new qn(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Ae.get(e)===this}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ke({type:o,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&pe("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),t&2&&$("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu==null?null:i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return o})(),li=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=de({type:o});static \u0275inj=ue({providers:[Yo],imports:[On,L,Yn,zn,L]})}return o})(),ci={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},na=ci.fadeInItems,ia=ci.transformMenu;var Ee=fo(co(),1);var qr=["qrcElement"],uo=(()=>{let n=class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new he,this.context=null}ngOnChanges(){return M(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((i,r)=>{(0,Ee.toDataURL)(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}toCanvas(t,i){return new Promise((r,s)=>{(0,Ee.toCanvas)(t,this.qrdata,i,a=>{a?s(a):r("success")})})}toSVG(t){return new Promise((i,r)=>{(0,Ee.toString)(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}renderElement(t){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return M(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,r),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),s!==this.centerImage.width&&(this.centerImage.width=s);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-s/2,a.height/2-r/2,s,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(t).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let c=a.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(t).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}convertBase64ImageUrlToBlob(t){let i=t.split(";base64,"),r=i[0].split(":")[1],s=atob(i[1]),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return new Blob([a],{type:r})}emitQRCodeURL(t){let i=t.constructor.name;if(i===SVGSVGElement.name){let c=t.outerHTML,u=new Blob([c],{type:"image/svg+xml"}),p=URL.createObjectURL(u),d=this.sanitizer.bypassSecurityTrustUrl(p);this.qrCodeURL.emit(d);return}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src);let s=this.convertBase64ImageUrlToBlob(r),a=URL.createObjectURL(s),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}};n.\u0275fac=function(i){return new(i||n)(yt(Qe),yt($e))},n.\u0275cmp=I({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&Ge(qr,7),i&2){let s;D(s=N())&&(r.qrcElement=s.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ln],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&E(0,"div",null,0),i&2&&V(r.cssClass)},encapsulation:2,changeDetection:0});let o=n;return o})();var ht=class o{auth=m(Xe);user=J(null);match_service=m(be);nextMatch=J(null);constructor(){ee(()=>M(this,null,function*(){let n=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(n);this.user.set(e)})),ee(()=>M(this,null,function*(){let{data:n}=yield this.match_service.nextMatch();this.nextMatch.set(n)}))}get qrData(){return JSON.stringify({user:this.user().id,match:this.nextMatch().id})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-next-match"]],decls:10,vars:5,consts:[[1,"d-flex","flex-column","align-items-center","mt-4"],[1,"d-flex","justify-content-center"],[1,"mb-3"],[1,"d-flex","flex-column","align-items-center","mt-4","border","p-4"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,t){if(e&1&&(_(0,"div",0)(1,"h3",1),w(2),b()(),_(3,"div",0)(4,"h3",2),w(5,"Prossima Partita"),b()(),_(6,"div",3)(7,"h3",2),w(8),b(),E(9,"qrcode",4),b()),e&2){let i,r;v(2),bn(" Team -> ",(i=t.user())==null||i.teams==null?null:i.teams.name," "),v(6),_n((r=t.nextMatch())==null?null:r.opponent),v(),T("qrdata",t.qrData)("width",200)("errorCorrectionLevel","M")}},dependencies:[uo],encapsulation:2})};var Hr=()=>["/user-info"],Vr=()=>["/qr-reader"];function jr(o,n){o&1&&(_(0,"button",4)(1,"mat-icon"),w(2,"qr_code_reader"),b(),_(3,"span"),w(4,"Validazione qrCode"),b()()),o&2&&T("routerLink",vt(1,Vr))}function Yr(o,n){o&1&&(_(0,"p",7),w(1,"Completa il tuo profilo per continuare"),b(),E(2,"app-user-info"))}function Qr(o,n){o&1&&E(0,"app-next-match")}function Kr(o,n){if(o&1&&fe(0,Yr,3,0)(1,Qr,1,0,"app-next-match"),o&2){let e,t=H();ge((e=t.user())!=null&&e.team?1:0)}}function Wr(o,n){o&1&&E(0,"app-qr-reader")}var mo=class o{auth=m(Xe);router=m(Cn);match_service=m(be);matches=J([]);user=J(null);nextMatch=J(null);openMenu;imagePath="assets/images/logo-piacenza-young.jpeg";constructor(){ee(()=>{this.onListChat()}),ee(()=>M(this,null,function*(){let n=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(n);this.user.set(e),this.user().admin||ee(()=>M(this,null,function*(){let{data:t}=yield this.match_service.nextMatch();this.nextMatch.set(t)}))}))}logOut(){return M(this,null,function*(){this.auth.signOut().then(()=>{this.router.navigate(["/"])}).catch(n=>{alert(n.message)})})}onListChat(){this.match_service.listMatches().then(n=>{console.log(n),n!==null?this.matches.set(n):console.log("No matches Found")}).catch(n=>{alert(n.message)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-dashboard"]],decls:25,vars:9,consts:[["menu","matMenu"],["color","primary"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"container"],[1,"d-flex","justify-content-center"],["alt","Logo",1,"logo","img-fluid",3,"src"]],template:function(e,t){if(e&1){let i=We();_(0,"main")(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),w(4,"menu"),b()(),_(5,"mat-menu",3,0)(7,"button",4)(8,"mat-icon"),w(9,"account_circle"),b(),_(10,"span"),w(11,"Profilo utente"),b()(),fe(12,jr,5,2,"button",4),_(13,"button",5),pe("click",function(){return W(i),G(t.logOut())}),_(14,"mat-icon"),w(15,"exit_to_app"),b(),_(16,"span"),w(17,"Logout"),b()()()(),_(18,"div",6)(19,"div",7),E(20,"img",8),b(),_(21,"h3",7),w(22),b()(),fe(23,Kr,2,1)(24,Wr,1,0,"app-qr-reader"),b()}if(e&2){let i,r,s,a=pn(6);v(2),T("matMenuTriggerFor",a),v(3),T("overlapTrigger",!1),v(2),T("routerLink",vt(8,Hr)),v(5),ge((i=t.user())!=null&&i.admin||(i=t.user())!=null&&i.reader?12:-1),v(8),T("src",t.imagePath,un),v(2),yn(" ",(r=t.user())==null?null:r.full_name," (",(r=t.user())==null?null:r.email,") "),v(),ge(!((s=t.user())!=null&&s.admin)&&!((s=t.user())!=null&&s.reader)?23:t.user().admin?24:-1)}},dependencies:[Gn,Wn,ii,ni,Un,Bn,li,ye,Pe,ai,ht,En,In,Qn,Kn],encapsulation:2})};export{mo as Dashboard};
