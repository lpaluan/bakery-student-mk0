import{a as Ue,b as Sn}from"./chunk-NERABUHA.js";import{a as _n,b as bn}from"./chunk-4FNCRO2K.js";import{A as wn,B as vn,D as Cn,F as En,J as xn,L as dt,M as In,P as Tn,R as Rn,U as An,a as cn,d as un,e as mn,h as ut,i as dn,o as hn,p as fn,r as gn,u as pn,v as te,w as mt,y as yn,z as Mn}from"./chunk-METZRNE2.js";import{Aa as x,B as Se,Ba as _,Bb as rn,C as at,Ca as b,D as Vt,Da as I,Ea as Ne,Eb as an,Fb as sn,Ga as X,Ha as $,Hb as ln,Ia as fe,J as Pe,Ja as H,K as ce,Ka as Z,Kb as Oe,La as Fe,M as m,Ma as S,Na as P,O,P as U,Q as jt,R as ue,Ra as Zt,S as De,Sa as ge,Ta as ee,Ua as v,Va as en,W as z,Wa as lt,X as Qt,Xa as tn,Z as J,_ as Yt,a as Te,ab as nn,bb as ct,c as Re,ea as Kt,ga as M,h as rt,ha as Gt,ib as V,ja as ke,ka as st,la as Jt,mb as qe,na as E,nb as pe,oa as Be,p as Ae,pa as Le,q as zt,ra as Wt,sa as W,ta as Xt,u as Ht,ua as $t,wb as on,xa as me,ya as de,za as he}from"./chunk-SIQBHULV.js";import{a as ot,b as Ut,c as f,d as Hi,f as T}from"./chunk-PZ5UXJ7I.js";var Un=f((Xr,On)=>{"use strict";On.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var L=f(j=>{"use strict";var gt,uo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];j.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};j.getSymbolTotalCodewords=function(t){return uo[t]};j.getBCHDigit=function(o){let t=0;for(;o!==0;)t++,o>>>=1;return t};j.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');gt=t};j.isKanjiModeEnabled=function(){return typeof gt<"u"};j.toSJIS=function(t){return gt(t)}});var Ve=f(C=>{"use strict";C.L={bit:1};C.M={bit:0};C.Q={bit:3};C.H={bit:2};function mo(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return C.L;case"m":case"medium":return C.M;case"q":case"quartile":return C.Q;case"h":case"high":return C.H;default:throw new Error("Unknown EC Level: "+o)}}C.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};C.from=function(t,e){if(C.isValid(t))return t;try{return mo(t)}catch{return e}}});var Vn=f((ea,Hn)=>{"use strict";function zn(){this.buffer=[],this.length=0}zn.prototype={get:function(o){let t=Math.floor(o/8);return(this.buffer[t]>>>7-o%8&1)===1},put:function(o,t){for(let e=0;e<t;e++)this.putBit((o>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),o&&(this.buffer[t]|=128>>>this.length%8),this.length++}};Hn.exports=zn});var Qn=f((ta,jn)=>{"use strict";function ye(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}ye.prototype.set=function(o,t,e,n){let i=o*this.size+t;this.data[i]=e,n&&(this.reservedBit[i]=!0)};ye.prototype.get=function(o,t){return this.data[o*this.size+t]};ye.prototype.xor=function(o,t,e){this.data[o*this.size+t]^=e};ye.prototype.isReserved=function(o,t){return this.reservedBit[o*this.size+t]};jn.exports=ye});var Yn=f(je=>{"use strict";var ho=L().getSymbolSize;je.getRowColCoords=function(t){if(t===1)return[];let e=Math.floor(t/7)+2,n=ho(t),i=n===145?26:Math.ceil((n-13)/(2*e-2))*2,r=[n-7];for(let a=1;a<e-1;a++)r[a]=r[a-1]-i;return r.push(6),r.reverse()};je.getPositions=function(t){let e=[],n=je.getRowColCoords(t),i=n.length;for(let r=0;r<i;r++)for(let a=0;a<i;a++)r===0&&a===0||r===0&&a===i-1||r===i-1&&a===0||e.push([n[r],n[a]]);return e}});var Jn=f(Gn=>{"use strict";var fo=L().getSymbolSize,Kn=7;Gn.getPositions=function(t){let e=fo(t);return[[0,0],[e-Kn,0],[0,e-Kn]]}});var Wn=f(g=>{"use strict";g.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Q={N1:3,N2:3,N3:40,N4:10};g.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};g.from=function(t){return g.isValid(t)?parseInt(t,10):void 0};g.getPenaltyN1=function(t){let e=t.size,n=0,i=0,r=0,a=null,s=null;for(let l=0;l<e;l++){i=r=0,a=s=null;for(let c=0;c<e;c++){let u=t.get(l,c);u===a?i++:(i>=5&&(n+=Q.N1+(i-5)),a=u,i=1),u=t.get(c,l),u===s?r++:(r>=5&&(n+=Q.N1+(r-5)),s=u,r=1)}i>=5&&(n+=Q.N1+(i-5)),r>=5&&(n+=Q.N1+(r-5))}return n};g.getPenaltyN2=function(t){let e=t.size,n=0;for(let i=0;i<e-1;i++)for(let r=0;r<e-1;r++){let a=t.get(i,r)+t.get(i,r+1)+t.get(i+1,r)+t.get(i+1,r+1);(a===4||a===0)&&n++}return n*Q.N2};g.getPenaltyN3=function(t){let e=t.size,n=0,i=0,r=0;for(let a=0;a<e;a++){i=r=0;for(let s=0;s<e;s++)i=i<<1&2047|t.get(a,s),s>=10&&(i===1488||i===93)&&n++,r=r<<1&2047|t.get(s,a),s>=10&&(r===1488||r===93)&&n++}return n*Q.N3};g.getPenaltyN4=function(t){let e=0,n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(e*100/n/5)-10)*Q.N4};function go(o,t,e){switch(o){case g.Patterns.PATTERN000:return(t+e)%2===0;case g.Patterns.PATTERN001:return t%2===0;case g.Patterns.PATTERN010:return e%3===0;case g.Patterns.PATTERN011:return(t+e)%3===0;case g.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2===0;case g.Patterns.PATTERN101:return t*e%2+t*e%3===0;case g.Patterns.PATTERN110:return(t*e%2+t*e%3)%2===0;case g.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}g.applyMask=function(t,e){let n=e.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)e.isReserved(r,i)||e.xor(r,i,go(t,r,i))};g.getBestMask=function(t,e){let n=Object.keys(g.Patterns).length,i=0,r=1/0;for(let a=0;a<n;a++){e(a),g.applyMask(a,t);let s=g.getPenaltyN1(t)+g.getPenaltyN2(t)+g.getPenaltyN3(t)+g.getPenaltyN4(t);g.applyMask(a,t),s<r&&(r=s,i=a)}return i}});var _t=f(pt=>{"use strict";var N=Ve(),Qe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ye=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pt.getBlocksCount=function(t,e){switch(e){case N.L:return Qe[(t-1)*4+0];case N.M:return Qe[(t-1)*4+1];case N.Q:return Qe[(t-1)*4+2];case N.H:return Qe[(t-1)*4+3];default:return}};pt.getTotalCodewordsCount=function(t,e){switch(e){case N.L:return Ye[(t-1)*4+0];case N.M:return Ye[(t-1)*4+1];case N.Q:return Ye[(t-1)*4+2];case N.H:return Ye[(t-1)*4+3];default:return}}});var Xn=f(Ge=>{"use strict";var Me=new Uint8Array(512),Ke=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Me[e]=t,Ke[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Me[e]=Me[e-255]})();Ge.log=function(t){if(t<1)throw new Error("log("+t+")");return Ke[t]};Ge.exp=function(t){return Me[t]};Ge.mul=function(t,e){return t===0||e===0?0:Me[Ke[t]+Ke[e]]}});var $n=f(we=>{"use strict";var bt=Xn();we.mul=function(t,e){let n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let r=0;r<e.length;r++)n[i+r]^=bt.mul(t[i],e[r]);return n};we.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){let i=n[0];for(let a=0;a<e.length;a++)n[a]^=bt.mul(e[a],i);let r=0;for(;r<n.length&&n[r]===0;)r++;n=n.slice(r)}return n};we.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let n=0;n<t;n++)e=we.mul(e,new Uint8Array([1,bt.exp(n)]));return e}});var ti=f((la,ei)=>{"use strict";var Zn=$n();function yt(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}yt.prototype.initialize=function(t){this.degree=t,this.genPoly=Zn.generateECPolynomial(this.degree)};yt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let n=Zn.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(n,i),r}return n};ei.exports=yt});var Mt=f(ni=>{"use strict";ni.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var wt=f(D=>{"use strict";var ii="[0-9]+",po="[A-Z $%*+\\-./:]+",ve="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ve=ve.replace(/u/g,"\\u");var _o="(?:(?![A-Z0-9 $%*+\\-./:]|"+ve+`)(?:.|[\r
]))+`;D.KANJI=new RegExp(ve,"g");D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");D.BYTE=new RegExp(_o,"g");D.NUMERIC=new RegExp(ii,"g");D.ALPHANUMERIC=new RegExp(po,"g");var bo=new RegExp("^"+ve+"$"),yo=new RegExp("^"+ii+"$"),Mo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");D.testKanji=function(t){return bo.test(t)};D.testNumeric=function(t){return yo.test(t)};D.testAlphanumeric=function(t){return Mo.test(t)}});var F=f(y=>{"use strict";var wo=Mt(),vt=wt();y.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};y.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};y.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};y.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};y.MIXED={bit:-1};y.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!wo.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]};y.getBestModeForData=function(t){return vt.testNumeric(t)?y.NUMERIC:vt.testAlphanumeric(t)?y.ALPHANUMERIC:vt.testKanji(t)?y.KANJI:y.BYTE};y.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};y.isValid=function(t){return t&&t.bit&&t.ccBits};function vo(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return y.NUMERIC;case"alphanumeric":return y.ALPHANUMERIC;case"kanji":return y.KANJI;case"byte":return y.BYTE;default:throw new Error("Unknown mode: "+o)}}y.from=function(t,e){if(y.isValid(t))return t;try{return vo(t)}catch{return e}}});var li=f(Y=>{"use strict";var Je=L(),Co=_t(),oi=Ve(),q=F(),Ct=Mt(),ai=7973,ri=Je.getBCHDigit(ai);function Eo(o,t,e){for(let n=1;n<=40;n++)if(t<=Y.getCapacity(n,e,o))return n}function si(o,t){return q.getCharCountIndicator(o,t)+4}function xo(o,t){let e=0;return o.forEach(function(n){let i=si(n.mode,t);e+=i+n.getBitsLength()}),e}function Io(o,t){for(let e=1;e<=40;e++)if(xo(o,e)<=Y.getCapacity(e,t,q.MIXED))return e}Y.from=function(t,e){return Ct.isValid(t)?parseInt(t,10):e};Y.getCapacity=function(t,e,n){if(!Ct.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=q.BYTE);let i=Je.getSymbolTotalCodewords(t),r=Co.getTotalCodewordsCount(t,e),a=(i-r)*8;if(n===q.MIXED)return a;let s=a-si(n,t);switch(n){case q.NUMERIC:return Math.floor(s/10*3);case q.ALPHANUMERIC:return Math.floor(s/11*2);case q.KANJI:return Math.floor(s/13);case q.BYTE:default:return Math.floor(s/8)}};Y.getBestVersionForData=function(t,e){let n,i=oi.from(e,oi.M);if(Array.isArray(t)){if(t.length>1)return Io(t,i);if(t.length===0)return 1;n=t[0]}else n=t;return Eo(n.mode,n.getLength(),i)};Y.getEncodedBits=function(t){if(!Ct.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;Je.getBCHDigit(e)-ri>=0;)e^=ai<<Je.getBCHDigit(e)-ri;return t<<12|e}});var di=f(mi=>{"use strict";var Et=L(),ui=1335,To=21522,ci=Et.getBCHDigit(ui);mi.getEncodedBits=function(t,e){let n=t.bit<<3|e,i=n<<10;for(;Et.getBCHDigit(i)-ci>=0;)i^=ui<<Et.getBCHDigit(i)-ci;return(n<<10|i)^To}});var fi=f((fa,hi)=>{"use strict";var Ro=F();function ie(o){this.mode=Ro.NUMERIC,this.data=o.toString()}ie.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ie.prototype.getLength=function(){return this.data.length};ie.prototype.getBitsLength=function(){return ie.getBitsLength(this.data.length)};ie.prototype.write=function(t){let e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);let r=this.data.length-e;r>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,r*3+1))};hi.exports=ie});var pi=f((ga,gi)=>{"use strict";var Ao=F(),xt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function oe(o){this.mode=Ao.ALPHANUMERIC,this.data=o}oe.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};oe.prototype.getLength=function(){return this.data.length};oe.prototype.getBitsLength=function(){return oe.getBitsLength(this.data.length)};oe.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=xt.indexOf(this.data[e])*45;n+=xt.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(xt.indexOf(this.data[e]),6)};gi.exports=oe});var bi=f((pa,_i)=>{"use strict";var So=F();function re(o){this.mode=So.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}re.getBitsLength=function(t){return t*8};re.prototype.getLength=function(){return this.data.length};re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)};re.prototype.write=function(o){for(let t=0,e=this.data.length;t<e;t++)o.put(this.data[t],8)};_i.exports=re});var Mi=f((_a,yi)=>{"use strict";var Po=F(),Do=L();function ae(o){this.mode=Po.KANJI,this.data=o}ae.getBitsLength=function(t){return t*13};ae.prototype.getLength=function(){return this.data.length};ae.prototype.getBitsLength=function(){return ae.getBitsLength(this.data.length)};ae.prototype.write=function(o){let t;for(t=0;t<this.data.length;t++){let e=Do.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),o.put(e,13)}};yi.exports=ae});var wi=f((ba,It)=>{"use strict";var Ce={single_source_shortest_paths:function(o,t,e){var n={},i={};i[t]=0;var r=Ce.PriorityQueue.make();r.push(t,0);for(var a,s,l,c,u,p,d,w,k;!r.empty();){a=r.pop(),s=a.value,c=a.cost,u=o[s]||{};for(l in u)u.hasOwnProperty(l)&&(p=u[l],d=c+p,w=i[l],k=typeof i[l]>"u",(k||w>d)&&(i[l]=d,r.push(l,d),n[l]=s))}if(typeof e<"u"&&typeof i[e]>"u"){var B=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(B)}return n},extract_shortest_path_from_predecessor_list:function(o,t){for(var e=[],n=t,i;n;)e.push(n),i=o[n],n=o[n];return e.reverse(),e},find_path:function(o,t,e){var n=Ce.single_source_shortest_paths(o,t,e);return Ce.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(o){var t=Ce.PriorityQueue,e={},n;o=o||{};for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e.queue=[],e.sorter=o.sorter||t.default_sorter,e},default_sorter:function(o,t){return o.cost-t.cost},push:function(o,t){var e={value:o,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof It<"u"&&(It.exports=Ce)});var Ai=f(se=>{"use strict";var h=F(),Ei=fi(),xi=pi(),Ii=bi(),Ti=Mi(),Ee=wt(),We=L(),ko=wi();function vi(o){return unescape(encodeURIComponent(o)).length}function xe(o,t,e){let n=[],i;for(;(i=o.exec(e))!==null;)n.push({data:i[0],index:i.index,mode:t,length:i[0].length});return n}function Ri(o){let t=xe(Ee.NUMERIC,h.NUMERIC,o),e=xe(Ee.ALPHANUMERIC,h.ALPHANUMERIC,o),n,i;return We.isKanjiModeEnabled()?(n=xe(Ee.BYTE,h.BYTE,o),i=xe(Ee.KANJI,h.KANJI,o)):(n=xe(Ee.BYTE_KANJI,h.BYTE,o),i=[]),t.concat(e,n,i).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function Tt(o,t){switch(t){case h.NUMERIC:return Ei.getBitsLength(o);case h.ALPHANUMERIC:return xi.getBitsLength(o);case h.KANJI:return Ti.getBitsLength(o);case h.BYTE:return Ii.getBitsLength(o)}}function Bo(o){return o.reduce(function(t,e){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function Lo(o){let t=[];for(let e=0;e<o.length;e++){let n=o[e];switch(n.mode){case h.NUMERIC:t.push([n,{data:n.data,mode:h.ALPHANUMERIC,length:n.length},{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.ALPHANUMERIC:t.push([n,{data:n.data,mode:h.BYTE,length:n.length}]);break;case h.KANJI:t.push([n,{data:n.data,mode:h.BYTE,length:vi(n.data)}]);break;case h.BYTE:t.push([{data:n.data,mode:h.BYTE,length:vi(n.data)}])}}return t}function No(o,t){let e={},n={start:{}},i=["start"];for(let r=0;r<o.length;r++){let a=o[r],s=[];for(let l=0;l<a.length;l++){let c=a[l],u=""+r+l;s.push(u),e[u]={node:c,lastCount:0},n[u]={};for(let p=0;p<i.length;p++){let d=i[p];e[d]&&e[d].node.mode===c.mode?(n[d][u]=Tt(e[d].lastCount+c.length,c.mode)-Tt(e[d].lastCount,c.mode),e[d].lastCount+=c.length):(e[d]&&(e[d].lastCount=c.length),n[d][u]=Tt(c.length,c.mode)+4+h.getCharCountIndicator(c.mode,t))}}i=s}for(let r=0;r<i.length;r++)n[i[r]].end=0;return{map:n,table:e}}function Ci(o,t){let e,n=h.getBestModeForData(o);if(e=h.from(t,n),e!==h.BYTE&&e.bit<n.bit)throw new Error('"'+o+'" cannot be encoded with mode '+h.toString(e)+`.
 Suggested mode is: `+h.toString(n));switch(e===h.KANJI&&!We.isKanjiModeEnabled()&&(e=h.BYTE),e){case h.NUMERIC:return new Ei(o);case h.ALPHANUMERIC:return new xi(o);case h.KANJI:return new Ti(o);case h.BYTE:return new Ii(o)}}se.fromArray=function(t){return t.reduce(function(e,n){return typeof n=="string"?e.push(Ci(n,null)):n.data&&e.push(Ci(n.data,n.mode)),e},[])};se.fromString=function(t,e){let n=Ri(t,We.isKanjiModeEnabled()),i=Lo(n),r=No(i,e),a=ko.find_path(r.map,"start","end"),s=[];for(let l=1;l<a.length-1;l++)s.push(r.table[a[l]].node);return se.fromArray(Bo(s))};se.rawSplit=function(t){return se.fromArray(Ri(t,We.isKanjiModeEnabled()))}});var Pi=f(Si=>{"use strict";var $e=L(),Rt=Ve(),Fo=Vn(),qo=Qn(),Oo=Yn(),Uo=Jn(),Pt=Wn(),Dt=_t(),zo=ti(),Xe=li(),Ho=di(),Vo=F(),At=Ai();function jo(o,t){let e=o.size,n=Uo.getPositions(t);for(let i=0;i<n.length;i++){let r=n[i][0],a=n[i][1];for(let s=-1;s<=7;s++)if(!(r+s<=-1||e<=r+s))for(let l=-1;l<=7;l++)a+l<=-1||e<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?o.set(r+s,a+l,!0,!0):o.set(r+s,a+l,!1,!0))}}function Qo(o){let t=o.size;for(let e=8;e<t-8;e++){let n=e%2===0;o.set(e,6,n,!0),o.set(6,e,n,!0)}}function Yo(o,t){let e=Oo.getPositions(t);for(let n=0;n<e.length;n++){let i=e[n][0],r=e[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?o.set(i+a,r+s,!0,!0):o.set(i+a,r+s,!1,!0)}}function Ko(o,t){let e=o.size,n=Xe.getEncodedBits(t),i,r,a;for(let s=0;s<18;s++)i=Math.floor(s/3),r=s%3+e-8-3,a=(n>>s&1)===1,o.set(i,r,a,!0),o.set(r,i,a,!0)}function St(o,t,e){let n=o.size,i=Ho.getEncodedBits(t,e),r,a;for(r=0;r<15;r++)a=(i>>r&1)===1,r<6?o.set(r,8,a,!0):r<8?o.set(r+1,8,a,!0):o.set(n-15+r,8,a,!0),r<8?o.set(8,n-r-1,a,!0):r<9?o.set(8,15-r-1+1,a,!0):o.set(8,15-r-1,a,!0);o.set(n-8,8,1,!0)}function Go(o,t){let e=o.size,n=-1,i=e-1,r=7,a=0;for(let s=e-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!o.isReserved(i,s-l)){let c=!1;a<t.length&&(c=(t[a]>>>r&1)===1),o.set(i,s-l,c),r--,r===-1&&(a++,r=7)}if(i+=n,i<0||e<=i){i-=n,n=-n;break}}}function Jo(o,t,e){let n=new Fo;e.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Vo.getCharCountIndicator(l.mode,o)),l.write(n)});let i=$e.getSymbolTotalCodewords(o),r=Dt.getTotalCodewordsCount(o,t),a=(i-r)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return Wo(n,o,t)}function Wo(o,t,e){let n=$e.getSymbolTotalCodewords(t),i=Dt.getTotalCodewordsCount(t,e),r=n-i,a=Dt.getBlocksCount(t,e),s=n%a,l=a-s,c=Math.floor(n/a),u=Math.floor(r/a),p=u+1,d=c-u,w=new zo(d),k=0,B=new Array(a),qt=new Array(a),tt=0,zi=new Uint8Array(o.buffer);for(let G=0;G<a;G++){let it=G<l?u:p;B[G]=zi.slice(k,k+it),qt[G]=w.encode(B[G]),k+=it,tt=Math.max(tt,it)}let nt=new Uint8Array(n),Ot=0,R,A;for(R=0;R<tt;R++)for(A=0;A<a;A++)R<B[A].length&&(nt[Ot++]=B[A][R]);for(R=0;R<d;R++)for(A=0;A<a;A++)nt[Ot++]=qt[A][R];return nt}function Xo(o,t,e,n){let i;if(Array.isArray(o))i=At.fromArray(o);else if(typeof o=="string"){let c=t;if(!c){let u=At.rawSplit(o);c=Xe.getBestVersionForData(u,e)}i=At.fromString(o,c||40)}else throw new Error("Invalid data");let r=Xe.getBestVersionForData(i,e);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=r;else if(t<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let a=Jo(t,e,i),s=$e.getSymbolSize(t),l=new qo(s);return jo(l,t),Qo(l),Yo(l,t),St(l,e,0),t>=7&&Ko(l,t),Go(l,a),isNaN(n)&&(n=Pt.getBestMask(l,St.bind(null,l,e))),Pt.applyMask(n,l),St(l,e,n),{modules:l,version:t,errorCorrectionLevel:e,maskPattern:n,segments:i}}Si.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Rt.M,i,r;return typeof e<"u"&&(n=Rt.from(e.errorCorrectionLevel,Rt.M),i=Xe.from(e.version),r=Pt.from(e.maskPattern),e.toSJISFunc&&$e.setToSJISFunction(e.toSJISFunc)),Xo(t,i,n,r)}});var kt=f(K=>{"use strict";function Di(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let t=o.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+o);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}K.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:e,color:{dark:Di(t.color.dark||"#000000ff"),light:Di(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};K.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale};K.getImageWidth=function(t,e){let n=K.getScale(t,e);return Math.floor((t+e.margin*2)*n)};K.qrToImageData=function(t,e,n){let i=e.modules.size,r=e.modules.data,a=K.getScale(i,n),s=Math.floor((i+n.margin*2)*a),l=n.margin*a,c=[n.color.light,n.color.dark];for(let u=0;u<s;u++)for(let p=0;p<s;p++){let d=(u*s+p)*4,w=n.color.light;if(u>=l&&p>=l&&u<s-l&&p<s-l){let k=Math.floor((u-l)/a),B=Math.floor((p-l)/a);w=c[r[k*i+B]?1:0]}t[d++]=w.r,t[d++]=w.g,t[d++]=w.b,t[d]=w.a}}});var ki=f(Ze=>{"use strict";var Bt=kt();function $o(o,t,e){o.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=e,t.width=e,t.style.height=e+"px",t.style.width=e+"px"}function Zo(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ze.render=function(t,e,n){let i=n,r=e;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),e||(r=Zo()),i=Bt.getOptions(i);let a=Bt.getImageWidth(t.modules.size,i),s=r.getContext("2d"),l=s.createImageData(a,a);return Bt.qrToImageData(l.data,t,i),$o(s,r,a),s.putImageData(l,0,0),r};Ze.renderToDataURL=function(t,e,n){let i=n;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),i||(i={});let r=Ze.render(t,e,i),a=i.type||"image/png",s=i.rendererOpts||{};return r.toDataURL(a,s.quality)}});var Ni=f(Li=>{"use strict";var er=kt();function Bi(o,t){let e=o.a/255,n=t+'="'+o.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function Lt(o,t,e){let n=o+t;return typeof e<"u"&&(n+=" "+e),n}function tr(o,t,e){let n="",i=0,r=!1,a=0;for(let s=0;s<o.length;s++){let l=Math.floor(s%t),c=Math.floor(s/t);!l&&!r&&(r=!0),o[s]?(a++,s>0&&l>0&&o[s-1]||(n+=r?Lt("M",l+e,.5+c+e):Lt("m",i,0),i=0,r=!1),l+1<t&&o[s+1]||(n+=Lt("h",a),a=0)):i++}return n}Li.render=function(t,e,n){let i=er.getOptions(e),r=t.modules.size,a=t.modules.data,s=r+i.margin*2,l=i.color.light.a?"<path "+Bi(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+Bi(i.color.dark,"stroke")+' d="'+tr(a,r,i.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,d),d}});var qi=f(Ie=>{"use strict";var nr=Un(),Nt=Pi(),Fi=ki(),ir=Ni();function Ft(o,t,e,n,i){let r=[].slice.call(arguments,1),a=r.length,s=typeof r[a-1]=="function";if(!s&&!nr())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=e,e=t,t=n=void 0):a===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=e,e=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(e=t,t=n=void 0):a===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(l,c){try{let u=Nt.create(e,n);l(o(u,t,n))}catch(u){c(u)}})}try{let l=Nt.create(e,n);i(null,o(l,t,n))}catch(l){i(l)}}Ie.create=Nt.create;Ie.toCanvas=Ft.bind(null,Fi.render);Ie.toDataURL=Ft.bind(null,Fi.renderToDataURL);Ie.toString=Ft.bind(null,function(o,t,e){return ir.render(o,e)})});var Vi=["*",[["mat-toolbar-row"]]],ji=["*","mat-toolbar-row"],Qi=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275dir=Le({type:o,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return o})(),Pn=(()=>{class o{_elementRef=m(J);_platform=m(cn);_document=m(De);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=E({type:o,selectors:[["mat-toolbar"]],contentQueries:function(n,i,r){if(n&1&&Z(r,Qi,5),n&2){let a;S(a=P())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,i){n&2&&(ee(i.color?"mat-"+i.color:""),ge("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:ji,decls:2,vars:0,template:function(n,i){n&1&&(fe(Vi),H(0),H(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return o})();var Dn=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=Be({type:o});static \u0275inj=Pe({imports:[te,te]})}return o})();var $i=["mat-menu-item",""],Zi=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],eo=["mat-icon, [matMenuItemIcon]","*"];function to(o,t){o&1&&(jt(),_(0,"svg",2),I(1,"polygon",3),b())}var no=["*"];function io(o,t){if(o&1){let e=Ne();_(0,"div",0),X("click",function(){O(e);let i=$();return U(i.closed.emit("click"))})("animationstart",function(i){O(e);let r=$();return U(r._onAnimationStart(i.animationName))})("animationend",function(i){O(e);let r=$();return U(r._onAnimationDone(i.animationName))})("animationcancel",function(i){O(e);let r=$();return U(r._onAnimationDone(i.animationName))}),_(1,"div",1),H(2),b()()}if(o&2){let e=$();ee(e._classList),ge("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),x("id",e.panelId),me("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var ft=new ce("MAT_MENU_PANEL"),be=(()=>{class o{_elementRef=m(J);_document=m(De);_focusMonitor=m(ut);_parentMenu=m(ft,{optional:!0});_changeDetectorRef=m(qe);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Re;_focused=new Re;_highlighted=!1;_triggersSubmenu=!1;constructor(){m(dn).load(Mn),this._parentMenu?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<n.length;i++)n[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=E({type:o,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,i){n&1&&X("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),n&2&&(me("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),ge("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",pe],disableRipple:[2,"disableRipple","disableRipple",pe]},exportAs:["matMenuItem"],attrs:$i,ngContentSelectors:eo,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,i){n&1&&(fe(Zi),H(0),_(1,"span",0),H(2,1),b(),I(3,"div",1),de(4,to,2,0,":svg:svg",2)),n&2&&(M(3),x("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),M(),he(i._triggersSubmenu?4:-1))},dependencies:[yn],encapsulation:2,changeDetection:0})}return o})();var oo=new ce("MatMenuContent");var ro=new ce("mat-menu-default-options",{providedIn:"root",factory:ao});function ao(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var ht="_mat-menu-enter",He="_mat-menu-exit",ne=(()=>{class o{_elementRef=m(J);_changeDetectorRef=m(qe);_injector=m(ue);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=mt();_allItems;_directDescendantItems=new Yt;_classList={};_panelAnimationState="void";_animationDone=new Re;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let n=this._previousPanelClass,i=ot({},this._classList);n&&n.length&&n.split(" ").forEach(r=>{i[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{i[r]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new W;close=this.closed;panelId=m(hn).getId("mat-menu-panel-");constructor(){let e=m(ro);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new gn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Se(this._directDescendantItems),at(e=>Ae(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let i=e.toArray(),r=Math.max(0,Math.min(i.length-1,n.activeItemIndex||0));i[r]&&!i[r].disabled?n.setActiveItem(r):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Se(this._directDescendantItems),at(n=>Ae(...n.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,i=this._keyManager;switch(n){case 27:fn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=$t(()=>{let n=this._resolvePanel();if(!n||!n.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=Ut(ot({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let n=e===He;(n||e===ht)&&(n&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(n?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===ht||e===He)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let n=this._resolvePanel();n&&(n.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(He),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?ht:He)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Se(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=E({type:o,selectors:[["mat-menu"]],contentQueries:function(n,i,r){if(n&1&&(Z(r,oo,5),Z(r,be,5),Z(r,be,4)),n&2){let a;S(a=P())&&(i.lazyContent=a.first),S(a=P())&&(i._allItems=a),S(a=P())&&(i.items=a)}},viewQuery:function(n,i){if(n&1&&Fe(Gt,5),n&2){let r;S(r=P())&&(i.templateRef=r.first)}},hostVars:3,hostBindings:function(n,i){n&2&&me("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",pe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:pe(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[nn([{provide:ft,useExisting:o}])],ngContentSelectors:no,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(n,i){n&1&&(fe(),Wt(0,io,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return o})(),Ln=new ce("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=m(ue);return()=>dt(o)}});function so(o){let t=m(ue);return()=>dt(t)}var lo={provide:Ln,deps:[],useFactory:so};var _e=new WeakMap,Nn=(()=>{class o{_element=m(J);_viewContainerRef=m(Jt);_menuItemInstance=m(be,{optional:!0,self:!0});_dir=m(pn,{optional:!0});_focusMonitor=m(ut);_ngZone=m(Xt);_injector=m(ue);_scrollStrategy=m(Ln);_changeDetectorRef=m(qe);_animationsDisabled=mt();_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Te.EMPTY;_hoverSubscription=Te.EMPTY;_menuCloseSubscription=Te.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new W;onMenuOpen=this.menuOpened;menuClosed=new W;onMenuClose=this.menuClosed;constructor(){let e=m(ft,{optional:!0}),n=m(ke);this._parentMaterialMenu=e instanceof ne?e:void 0,this._cleanupTouchstart=n.listen(this._element.nativeElement,"touchstart",i=>{mn(i)||(this._openedBy="touch")},{passive:!0})}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&_e.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let n=_e.get(e);_e.set(e,this),n&&n!==this&&n.closeMenu();let i=this._createOverlay(e),r=i.getConfig(),a=r.positionStrategy;this._setPosition(e,a),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,i.hasAttached()||(i.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof ne&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(Vt(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let n=this._overlayRef,i=this._menu;!n||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof ne&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(Ht(1)).subscribe(()=>{n.detach(),i.lazyContent?.detach()}),i._setIsOpen(!1)):(n.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&_e.delete(i),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=Rn(this._injector,n),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof ne&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new In({positionStrategy:Tn(this._injector,this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let r=i.connectionPair.overlayX==="start"?"after":"before",a=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,a)})})}_setPosition(e,n){let[i,r]=e.xPosition==="before"?["end","start"]:["start","end"],[a,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[a,s],[u,p]=[i,r],d=0;if(this.triggersSubmenu()){if(p=i=e.xPosition==="before"?"start":"end",r=u=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let w=this._parentMaterialMenu.items.first;this._parentInnerPadding=w?w._getHostElement().offsetTop:0}d=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=a==="top"?"bottom":"top",c=s==="top"?"bottom":"top");n.withPositions([{originX:i,originY:l,overlayX:u,overlayY:a,offsetY:d},{originX:r,originY:l,overlayX:p,overlayY:a,offsetY:d},{originX:i,originY:c,overlayX:u,overlayY:s,offsetY:-d},{originX:r,originY:c,overlayX:p,overlayY:s,offsetY:-d}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:rt(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(zt(a=>this._menuOpen&&a!==this._menuItemInstance)):rt();return Ae(e,i,r,n)}_handleMousedown(e){un(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new En(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return _e.get(e)===this}static \u0275fac=function(n){return new(n||o)};static \u0275dir=Le({type:o,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,i){n&1&&X("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),n&2&&me("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu==null?null:i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return o})(),Fn=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=Be({type:o});static \u0275inj=Pe({providers:[lo],imports:[vn,te,An,xn,te]})}return o})(),qn={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},Gr=qn.fadeInItems,Jr=qn.transformMenu;var le=Hi(qi(),1);var or=["qrcElement"],Oi=(()=>{let t=class t{constructor(n,i){this.renderer=n,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new W,this.context=null}ngOnChanges(){return T(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(n){return this.allowEmptyString===!1?!(typeof n>"u"||n===""||n==="null"||n===null):!(typeof n>"u")}toDataURL(n){return new Promise((i,r)=>{(0,le.toDataURL)(this.qrdata,n,(a,s)=>{a?r(a):i(s)})})}toCanvas(n,i){return new Promise((r,a)=>{(0,le.toCanvas)(n,this.qrdata,i,s=>{s?a(s):r("success")})})}toSVG(n){return new Promise((i,r)=>{(0,le.toString)(this.qrdata,n,(a,s)=>{a?r(a):i(s)})})}renderElement(n){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,n)}createQRCode(){return T(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let n={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,a=this.imageWidth||40;switch(this.elementType){case"canvas":{let s=this.renderer.createElement("canvas");this.context=s.getContext("2d"),this.toCanvas(s,n).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(s,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(s,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(a,r),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),a!==this.centerImage.width&&(this.centerImage.width=a);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,s.width/2-a/2,s.height/2-r/2,a,r)})}this.renderElement(s),this.emitQRCodeURL(s)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let s=this.renderer.createElement("div");this.toSVG(n).then(l=>{this.renderer.setProperty(s,"innerHTML",l);let c=s.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let s=this.renderer.createElement("img");this.toDataURL(n).then(l=>{this.alt&&s.setAttribute("alt",this.alt),this.ariaLabel&&s.setAttribute("aria-label",this.ariaLabel),s.setAttribute("src",l),this.title&&s.setAttribute("title",this.title),this.renderElement(s),this.emitQRCodeURL(s)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(n){console.error("[angularx-qrcode] Error generating QR Code:",n.message)}})}convertBase64ImageUrlToBlob(n){let i=n.split(";base64,"),r=i[0].split(":")[1],a=atob(i[1]),s=new Uint8Array(a.length);for(let l=0;l<a.length;++l)s[l]=a.charCodeAt(l);return new Blob([s],{type:r})}emitQRCodeURL(n){let i=n.constructor.name;if(i===SVGSVGElement.name){let c=n.outerHTML,u=new Blob([c],{type:"image/svg+xml"}),p=URL.createObjectURL(u),d=this.sanitizer.bypassSecurityTrustUrl(p);this.qrCodeURL.emit(d);return}let r="";i===HTMLCanvasElement.name&&(r=n.toDataURL("image/png")),i===HTMLImageElement.name&&(r=n.src);let a=this.convertBase64ImageUrlToBlob(r),s=URL.createObjectURL(a),l=this.sanitizer.bypassSecurityTrustUrl(s);this.qrCodeURL.emit(l)}};t.\u0275fac=function(i){return new(i||t)(st(ke),st(rn))},t.\u0275cmp=E({type:t,selectors:[["qrcode"]],viewQuery:function(i,r){if(i&1&&Fe(or,7),i&2){let a;S(a=P())&&(r.qrcElement=a.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Qt],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){i&1&&I(0,"div",null,0),i&2&&ee(r.cssClass)},encapsulation:2,changeDetection:0});let o=t;return o})();var et=class o{auth=m(Oe);user=z(null);match_service=m(Ue);nextMatch=z(null);nextMatchDate="";constructor(){V(()=>T(this,null,function*(){let t=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(t);this.user.set(e)})),V(()=>T(this,null,function*(){let{data:t}=yield this.match_service.nextMatch();this.nextMatch.set(t);let e=new on("it-IT");this.nextMatchDate=e.transform(this.nextMatch().matchdatetime,"d MMMM, y, HH:mm")||""}))}get qrData(){return JSON.stringify({user_id:this.user().id,match_id:this.nextMatch().id})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-next-match"]],decls:10,vars:6,consts:[[1,"d-flex","flex-column","align-items-center","mt-4"],[1,"d-flex","justify-content-center"],[1,"mb-3"],[1,"d-flex","flex-column","align-items-center","mt-4","border","p-4"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,n){if(e&1&&(_(0,"div",0)(1,"h3",1),v(2),b()(),_(3,"div",0)(4,"h3",2),v(5),b()(),_(6,"div",3)(7,"h3",2),v(8),b(),I(9,"qrcode",4),b()),e&2){let i,r;M(2),lt("Team -> ",(i=n.user())==null||i.teams==null?null:i.teams.name),M(3),lt("Prossima Partita ",n.nextMatchDate," "),M(3),en((r=n.nextMatch())==null?null:r.opponent),M(),x("qrdata",n.qrData)("width",200)("errorCorrectionLevel","M")}},dependencies:[Oi],encapsulation:2})};var ar=()=>["/user-info"],sr=()=>["/qr-reader"];function lr(o,t){o&1&&(_(0,"button",4)(1,"mat-icon"),v(2,"qr_code_reader"),b(),_(3,"span"),v(4,"Validazione qrCode"),b()()),o&2&&x("routerLink",ct(1,sr))}function cr(o,t){o&1&&I(0,"app-next-match")}function ur(o,t){o&1&&I(0,"app-qr-reader")}var Ui=class o{auth=m(Oe);router=m(an);match_service=m(Ue);matches=z([]);user=z(null);nextMatch=z(null);openMenu;imagePath="assets/images/logo-piacenza-young.jpeg";constructor(){V(()=>{this.onListChat()}),V(()=>T(this,null,function*(){let t=yield this.auth.getCurrentUserId(),{data:e}=yield this.auth.getUserInfo(t);this.user.set(e),!this.user().admin&&!this.user().reader&&(this.user().team===null||this.user().team===void 0?(alert("Completa il tuo profilo per continuare"),this.router.navigate(["/user-info"])):V(()=>T(this,null,function*(){let{data:n}=yield this.match_service.nextMatch();this.nextMatch.set(n)})))}))}logOut(){return T(this,null,function*(){this.auth.signOut().then(()=>{this.router.navigate(["/login"])}).catch(t=>{alert(t.message)})})}onListChat(){this.match_service.listMatches().then(t=>{console.log(t),t!==null?this.matches.set(t):console.log("No matches Found")}).catch(t=>{alert(t.message)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-dashboard"]],decls:25,vars:9,consts:[["menu","matMenu"],["color","primary"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"overlapTrigger"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],[1,"container"],[1,"d-flex","justify-content-center"],["alt","Logo",1,"logo","img-fluid",3,"src"]],template:function(e,n){if(e&1){let i=Ne();_(0,"main")(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),v(4,"menu"),b()(),_(5,"mat-menu",3,0)(7,"button",4)(8,"mat-icon"),v(9,"account_circle"),b(),_(10,"span"),v(11,"Profilo utente"),b()(),de(12,lr,5,2,"button",4),_(13,"button",5),X("click",function(){return O(i),U(n.logOut())}),_(14,"mat-icon"),v(15,"exit_to_app"),b(),_(16,"span"),v(17,"Logout"),b()()()(),_(18,"div",6)(19,"div",7),I(20,"img",8),b(),_(21,"h3",7),v(22),b()(),de(23,cr,1,0,"app-next-match")(24,ur,1,0,"app-qr-reader"),b()}if(e&2){let i,r,a,s=Zt(6);M(2),x("matMenuTriggerFor",s),M(3),x("overlapTrigger",!1),M(2),x("routerLink",ct(8,ar)),M(5),he((i=n.user())!=null&&i.admin||(i=n.user())!=null&&i.reader?12:-1),M(8),x("src",n.imagePath,Kt),M(2),tn(" ",(r=n.user())==null?null:r.full_name," (",(r=n.user())==null?null:r.email,") "),M(),he(!((a=n.user())!=null&&a.admin)&&!((a=n.user())!=null&&a.reader)?23:n.user().reader?24:-1)}},dependencies:[Dn,Pn,bn,_n,Cn,wn,Fn,ne,be,Nn,et,ln,sn,Sn],encapsulation:2})};export{Ui as Dashboard};
